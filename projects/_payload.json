[{"data":1,"prerenderedAt":7621},["ShallowReactive",2],{"content-query-p2jvGpC4Jz":3},[4,193,426,991,1125,3028,3178,5965],{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":9,"description":10,"assets":11,"thumbnail":12,"technologies":13,"showcased":18,"gallerySize":19,"body":20,"_type":187,"_id":188,"_source":189,"_file":190,"_stem":191,"_extension":192},"/projects/goofy-golf","projects",false,"","Goofy Golf","Game design course project featuring for COMP3421 a PC/VR compatible golf game that won top 10 games award.","/images/projects/golf","/images/projects/golf/thumbnail.webp",[14,15,16,17],"Unreal Engine","Unreal Blueprints","LAN","VR",true,9,{"type":21,"children":22,"toc":179},"root",[23,33,41,47,52,62,68,73,79,114,120,133,138,143,148,153,158,163,169,174],{"type":24,"tag":25,"props":26,"children":27},"element","h1",{"id":8},[28],{"type":24,"tag":29,"props":30,"children":32},"binding",{"value":31},"title",[],{"type":24,"tag":34,"props":35,"children":37},"h2",{"id":36},"project-description",[38],{"type":39,"value":40},"text","Project Description",{"type":24,"tag":42,"props":43,"children":44},"p",{},[45],{"type":39,"value":46},"Goofy Golf was a group project as part of the COMP3421 Computer Graphics course at UNSW. The course mainly orients towards PC game development with brief touches on introductory VR topics. The project is to be completed as a group of 4 members where the main requirement is to produce a game using Unreal Engine that is both engaging and novel.",{"type":24,"tag":42,"props":48,"children":49},{},[50],{"type":39,"value":51},"The main theme of the game is mini-golf with cartoon graphics where the ultimate goal of the game is to putt the ball into the hole at the end of the course.",{"type":24,"tag":42,"props":53,"children":54},{},[55,57],{"type":39,"value":56},"Take a look at our game trailer.\n",{"type":24,"tag":58,"props":59,"children":61},"youtube-embed",{"src":60,"title":9},"https://www.youtube.com/embed/HQY2wXwpHYU",[],{"type":24,"tag":34,"props":63,"children":65},{"id":64},"technologies-used",[66],{"type":39,"value":67},"Technologies Used",{"type":24,"tag":69,"props":70,"children":72},"blog-technologies",{":tags":71},"technologies",[],{"type":24,"tag":34,"props":74,"children":76},{"id":75},"roles-and-contributions",[77],{"type":39,"value":78},"Roles and Contributions",{"type":24,"tag":80,"props":81,"children":82},"ul",{},[83,89,94,99,104,109],{"type":24,"tag":84,"props":85,"children":86},"li",{},[87],{"type":39,"value":88},"Implementation of aim/shooting mechanics.",{"type":24,"tag":84,"props":90,"children":91},{},[92],{"type":39,"value":93},"Implementation of power guage and rendering",{"type":24,"tag":84,"props":95,"children":96},{},[97],{"type":39,"value":98},"Implementation of balistic missile item.",{"type":24,"tag":84,"props":100,"children":101},{},[102],{"type":39,"value":103},"Implementation of miss debuff item.",{"type":24,"tag":84,"props":105,"children":106},{},[107],{"type":39,"value":108},"Implementation of physics for the black hole item.",{"type":24,"tag":84,"props":110,"children":111},{},[112],{"type":39,"value":113},"Implementation of single headset VR multiplayer.",{"type":24,"tag":34,"props":115,"children":117},{"id":116},"process",[118],{"type":39,"value":119},"Process",{"type":24,"tag":42,"props":121,"children":122},{},[123,125,131],{"type":39,"value":124},"I initially took on the task of creating the aiming and shooting mechanics as I felt confident in my skills in linear algebra and vector maths. I decided that the power meter from the game Golf with Your Friends would be the most visually appealing and intuitive. I utilised my knowledge of linear transformations and the underlying rendering pipeline to make the power bar scale with the power and to always be at the top-most layer. Furthermore, I used a state machine pattern to determine the ball's behaviour for each game tick. The reason for this approach was so it was easier for us when we wanted to have certain power-ups interact with the ball and minimised friction when integrating with other group members code.\n",{"type":24,"tag":126,"props":127,"children":130},"blog-img",{"src":128,"alt":129},"/images/projects/golf/aiming.png","aiming the golf ball",[],{"type":39,"value":132},"\nThe ballistic missile item was mainly used by me as a stepping stone to understand how entity creation, physics and how its effects could be integrated with the ball behaviour script that I have previously wrote. It also gave me an idea of complexities of my group members tasks so I could design the ball's behavioural code with ease of integration in mind. The ballistic missile works by applying an radial impulse force plus a constant upwards force to enemy players balls to blast them off track. By using Unreal's Blueprint's instigator property, I made it so that the player who used the missile was not affected by the explosion.",{"type":24,"tag":126,"props":134,"children":137},{"src":135,"alt":136},"/images/projects/golf/balistic.png","balistic missile prior to exploding",[],{"type":24,"tag":42,"props":139,"children":140},{},[141],{"type":39,"value":142},"I also wanted to experiment with using shaders through the miss debuff item which blurs the screen, applies a rippled effect and drastically reduces the accuracy of the shot by causing aiming arrow to oscillate left and right using a noise function.",{"type":24,"tag":126,"props":144,"children":147},{"src":145,"alt":146},"/images/projects/golf/miss.png","miss debuff in action",[],{"type":24,"tag":42,"props":149,"children":150},{},[151],{"type":39,"value":152},"One thing that I noticed in one of my was the black hole's physical gravitational effect was very choppy as it was using lerp functions to teleport the ball. I've reimplemented the system to have a constant, centripetal force applied to the ball to smooth the out the motion.",{"type":24,"tag":126,"props":154,"children":157},{"src":155,"alt":156},"/images/projects/golf/blackhole.png","blackhole pulling in the golf ball",[],{"type":24,"tag":42,"props":159,"children":160},{},[161],{"type":39,"value":162},"The final task that I was responsible for was implementing the multiplayer system in the VR Game. We wanted to implement this via a pass-the-headset approach similar to Wii Sports' pass the remote multiplayer. This was done via a state machine pattern where the POV cycled through each of the players perspective.",{"type":24,"tag":34,"props":164,"children":166},{"id":165},"results",[167],{"type":39,"value":168},"Results",{"type":24,"tag":42,"props":170,"children":171},{},[172],{"type":39,"value":173},"The result was a great success, our group received an overall astounding project mark of 95/100 and won a Top 10 Games Award. Our project was also used as a showcase project for students in future terms when this course was run.",{"type":24,"tag":126,"props":175,"children":178},{"src":176,"alt":177},"/images/projects/golf/Award.png","award for winning top 10 games award",[],{"title":8,"searchDepth":180,"depth":180,"links":181},2,[182,183,184,185,186],{"id":36,"depth":180,"text":40},{"id":64,"depth":180,"text":67},{"id":75,"depth":180,"text":78},{"id":116,"depth":180,"text":119},{"id":165,"depth":180,"text":168},"markdown","content:projects:1.goofy-golf.md","content","projects/1.goofy-golf.md","projects/1.goofy-golf","md",{"_path":194,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":195,"description":196,"thumbnail":197,"technologies":198,"assets":207,"showcased":18,"gallerySize":208,"body":209,"_type":187,"_id":423,"_source":189,"_file":424,"_stem":425,"_extension":192},"/projects/shock-absorbing-regenerative-backpack","Shock Absorbing Regenerative Backpack","University project involving a backpack with active suspension and energy harvesting capabilities.","/images/projects/backpack/thumbnail.png",[199,200,201,202,203,204,205,206],"Fusion360","Solidworks","3D Printing","Soldering","Oscilloscope","ESP32","Circuit Design","Construction","/images/projects/backpack",7,{"type":21,"children":210,"toc":416},[211,216,220,225,230,249,254,258,261,265,303,307,312,317,322,327,340,345,358,363,367,372,377,382,387,392,397,401,406,411],{"type":24,"tag":25,"props":212,"children":214},{"id":213},"shock-absorbing-regenerative-backpack",[215],{"type":39,"value":195},{"type":24,"tag":34,"props":217,"children":218},{"id":36},[219],{"type":39,"value":40},{"type":24,"tag":42,"props":221,"children":222},{},[223],{"type":39,"value":224},"The Shock Absorbing Regenerative Backpack was a group project as part of the DESN2000 - Engineering Design and Professional Practice course at UNSW.",{"type":24,"tag":42,"props":226,"children":227},{},[228],{"type":39,"value":229},"Our group was tasked with creating a device that satisfied the following:",{"type":24,"tag":231,"props":232,"children":233},"ol",{},[234,239,244],{"type":24,"tag":84,"props":235,"children":236},{},[237],{"type":39,"value":238},"The energy accumulation module functions to derive energy from an external source outside the energy harvesting device.",{"type":24,"tag":84,"props":240,"children":241},{},[242],{"type":39,"value":243},"The energy storage module functions to store the accumulated energy inside the energy harvesting device.",{"type":24,"tag":84,"props":245,"children":246},{},[247],{"type":39,"value":248},"The energy utilization module utilizes the harvested energy to power other some meaningful device.",{"type":24,"tag":42,"props":250,"children":251},{},[252],{"type":39,"value":253},"Our group decided to make a backpack that is able to harvest the vertical motion of human gait to generate electricity to charge a portable charger. A byproduct of achieving this objective was creating an active shock dampener that reduced perceived load on the shoulders.",{"type":24,"tag":34,"props":255,"children":256},{"id":64},[257],{"type":39,"value":67},{"type":24,"tag":69,"props":259,"children":260},{":tags":71},[],{"type":24,"tag":34,"props":262,"children":263},{"id":75},[264],{"type":39,"value":78},{"type":24,"tag":80,"props":266,"children":267},{},[268,273,278,283,288,293,298],{"type":24,"tag":84,"props":269,"children":270},{},[271],{"type":39,"value":272},"Team Leader.",{"type":24,"tag":84,"props":274,"children":275},{},[276],{"type":39,"value":277},"Researching solutions with respect to design priciples.",{"type":24,"tag":84,"props":279,"children":280},{},[281],{"type":39,"value":282},"Sketching desired product.",{"type":24,"tag":84,"props":284,"children":285},{},[286],{"type":39,"value":287},"CAD model for 3D printed prototype.",{"type":24,"tag":84,"props":289,"children":290},{},[291],{"type":39,"value":292},"Circuit Design.",{"type":24,"tag":84,"props":294,"children":295},{},[296],{"type":39,"value":297},"Testing Prototype.",{"type":24,"tag":84,"props":299,"children":300},{},[301],{"type":39,"value":302},"CAD model for final item in Solidworks.",{"type":24,"tag":34,"props":304,"children":305},{"id":116},[306],{"type":39,"value":119},{"type":24,"tag":42,"props":308,"children":309},{},[310],{"type":39,"value":311},"I was selected as team leader for this particular case as I had the most experience working with circuitry, fabricating and prototyping. The other four members of my group were second year mechanical engineers whereas I was a fourth year mechatronics engineer who understood energy generation principles.",{"type":24,"tag":42,"props":313,"children":314},{},[315],{"type":39,"value":316},"I quickly mocked up a concept sketch for how the product should look like.",{"type":24,"tag":126,"props":318,"children":321},{"src":319,"alt":320},"/images/projects/backpack/sketch.png","A preliminary sketch of the backpack.",[],{"type":24,"tag":42,"props":323,"children":324},{},[325],{"type":39,"value":326},"The next step was to make the idealised version of the product in SOLIDWORKS as this was the application our team was most familiar with.",{"type":24,"tag":328,"props":329,"children":330},"blog-double-img",{},[331,336],{"type":24,"tag":126,"props":332,"children":335},{"src":333,"alt":334},"/images/projects/backpack/exploded.png","An exploded view of the backpack.",[],{"type":24,"tag":126,"props":337,"children":339},{"src":197,"alt":338},"An assembled view of the backpack.",[],{"type":24,"tag":42,"props":341,"children":342},{},[343],{"type":39,"value":344},"I then fabricated each part of for the prototype using Fusion360 and 3D printing. Bungee cords were used to create the suspension system.",{"type":24,"tag":328,"props":346,"children":347},{},[348,353],{"type":24,"tag":126,"props":349,"children":352},{"src":350,"alt":351},"/images/projects/backpack/mounting-bracket.png","Mounting bracket for the motor housing.",[],{"type":24,"tag":126,"props":354,"children":357},{"src":355,"alt":356},"/images/projects/backpack/top-view.png","Top view of the backpack.",[],{"type":24,"tag":42,"props":359,"children":360},{},[361],{"type":39,"value":362},"The main ideas for the electrical circuitry was inspired by this helpful video from Robert Murray-Smith.",{"type":24,"tag":58,"props":364,"children":366},{"src":365},"https://www.youtube.com/embed/-zCTggoh994?si=psBL0vn72sWduEN7",[],{"type":24,"tag":42,"props":368,"children":369},{},[370],{"type":39,"value":371},"Since I will be generating power with electric motors, the output will be sinusoidal in nature. As such I will need to rectify, smooth and finally regulate its voltage output to 5v DC.",{"type":24,"tag":126,"props":373,"children":376},{"src":374,"alt":375},"/images/projects/backpack/schematic.png","circuit schematic.",[],{"type":24,"tag":42,"props":378,"children":379},{},[380],{"type":39,"value":381},"After soldering, the circuitry looks like this:",{"type":24,"tag":126,"props":383,"children":386},{"src":384,"alt":385},"/images/projects/backpack/circuit.png","Circuitry used to provide power in the prototype.",[],{"type":24,"tag":42,"props":388,"children":389},{},[390],{"type":39,"value":391},"After assembly, the final product looks like this:",{"type":24,"tag":126,"props":393,"children":396},{"src":394,"alt":395},"/images/projects/backpack/Assembly.png","Full assembly for the prototype.",[],{"type":24,"tag":34,"props":398,"children":399},{"id":165},[400],{"type":39,"value":168},{"type":24,"tag":42,"props":402,"children":403},{},[404],{"type":39,"value":405},"As shown on the oscilloscope output (cyan line), the final output oscillates about 4.69 volts.",{"type":24,"tag":126,"props":407,"children":410},{"src":408,"alt":409},"/images/projects/backpack/Oscilloscope.png","Oscilloscope reading of 4.69 volts.",[],{"type":24,"tag":126,"props":412,"children":415},{"src":413,"alt":414},"/images/projects/backpack/Power Output.png","Power meter reading of 2.61 watts",[],{"title":8,"searchDepth":180,"depth":180,"links":417},[418,419,420,421,422],{"id":36,"depth":180,"text":40},{"id":64,"depth":180,"text":67},{"id":75,"depth":180,"text":78},{"id":116,"depth":180,"text":119},{"id":165,"depth":180,"text":168},"content:projects:2.shock-absorbing-regenerative-backpack.md","projects/2.shock-absorbing-regenerative-backpack.md","projects/2.shock-absorbing-regenerative-backpack",{"_path":427,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":428,"description":429,"thumbnail":430,"technologies":431,"assets":434,"showcased":18,"body":435,"_type":187,"_id":988,"_source":189,"_file":989,"_stem":990,"_extension":192},"/projects/breadboard-gpu","Breadboard GPU","Breadboard graphics processing unit based on the Ben Eater's graphics card series on youtube.","/images/projects/gpu/thumbnail.webp",[205,432,433],"Arduino","C++","/images/projects/gpu",{"type":21,"children":436,"toc":979},[437,443,447,452,457,466,471,476,480,483,489,494,499,668,674,679,685,690,696,701,706,711,950,955,960,964,973],{"type":24,"tag":25,"props":438,"children":439},{"id":8},[440],{"type":24,"tag":29,"props":441,"children":442},{"value":31},[],{"type":24,"tag":34,"props":444,"children":445},{"id":36},[446],{"type":39,"value":40},{"type":24,"tag":42,"props":448,"children":449},{},[450],{"type":39,"value":451},"This was a project that I decided to do on a whim during my summer break over 2021 after complete a digital circuits course in university. It is a breadboard computer that was build following the guidance of youtuber Ben Eater and his homemade graphics card series.",{"type":24,"tag":42,"props":453,"children":454},{},[455],{"type":39,"value":456},"It was a great way for learning the subtle intricacies of electronics engineering and also learning how to interpret datasheets.",{"type":24,"tag":42,"props":458,"children":459},{},[460,462],{"type":39,"value":461},"In case you would like to check out his series below,\n",{"type":24,"tag":58,"props":463,"children":465},{"src":464},"https://www.youtube.com/embed/l7rce6IQDWs?si=UXNcpmVq3vdGLPMx",[],{"type":24,"tag":42,"props":467,"children":468},{},[469],{"type":39,"value":470},"This project involved extensive use of breadboards, digital circuits, and datasheets for different components.",{"type":24,"tag":42,"props":472,"children":473},{},[474],{"type":39,"value":475},"The main technologies used in this project included TTL ICs, diodes, capacitors, resistors, and most importantly, a VGA connector for output. I also utilized C++ for generating writing my own naïve graphics API and other necessary digital logic.",{"type":24,"tag":34,"props":477,"children":478},{"id":64},[479],{"type":39,"value":67},{"type":24,"tag":69,"props":481,"children":482},{":tags":71},[],{"type":24,"tag":34,"props":484,"children":486},{"id":485},"features",[487],{"type":39,"value":488},"Features",{"type":24,"tag":42,"props":490,"children":491},{},[492],{"type":39,"value":493},"The graphics card I decided to build was slightly different to the one from Ben Eater mainly because I wanted to challenge myself and test my overall understanding of the content.",{"type":24,"tag":42,"props":495,"children":496},{},[497],{"type":39,"value":498},"Namely the key differences will be:",{"type":24,"tag":500,"props":501,"children":502},"table",{},[503,537],{"type":24,"tag":504,"props":505,"children":506},"thead",{},[507],{"type":24,"tag":508,"props":509,"children":510},"tr",{},[511,521,529],{"type":24,"tag":512,"props":513,"children":514},"th",{},[515],{"type":24,"tag":516,"props":517,"children":518},"strong",{},[519],{"type":39,"value":520},"Feature",{"type":24,"tag":512,"props":522,"children":523},{},[524],{"type":24,"tag":516,"props":525,"children":526},{},[527],{"type":39,"value":528},"Ben Eater",{"type":24,"tag":512,"props":530,"children":531},{},[532],{"type":24,"tag":516,"props":533,"children":534},{},[535],{"type":39,"value":536},"Mine",{"type":24,"tag":538,"props":539,"children":540},"tbody",{},[541,560,578,596,614,632,650],{"type":24,"tag":508,"props":542,"children":543},{},[544,550,555],{"type":24,"tag":545,"props":546,"children":547},"td",{},[548],{"type":39,"value":549},"Resolution",{"type":24,"tag":545,"props":551,"children":552},{},[553],{"type":39,"value":554},"100:75",{"type":24,"tag":545,"props":556,"children":557},{},[558],{"type":39,"value":559},"200:150",{"type":24,"tag":508,"props":561,"children":562},{},[563,568,573],{"type":24,"tag":545,"props":564,"children":565},{},[566],{"type":39,"value":567},"VRam Type",{"type":24,"tag":545,"props":569,"children":570},{},[571],{"type":39,"value":572},"EEPROM (AT28C256)",{"type":24,"tag":545,"props":574,"children":575},{},[576],{"type":39,"value":577},"SRAM (AS6C1008-55PCN)",{"type":24,"tag":508,"props":579,"children":580},{},[581,586,591],{"type":24,"tag":545,"props":582,"children":583},{},[584],{"type":39,"value":585},"Framebuffer",{"type":24,"tag":545,"props":587,"children":588},{},[589],{"type":39,"value":590},"Single buffered",{"type":24,"tag":545,"props":592,"children":593},{},[594],{"type":39,"value":595},"Double buffered",{"type":24,"tag":508,"props":597,"children":598},{},[599,604,609],{"type":24,"tag":545,"props":600,"children":601},{},[602],{"type":39,"value":603},"Colour Range",{"type":24,"tag":545,"props":605,"children":606},{},[607],{"type":39,"value":608},"64 colours",{"type":24,"tag":545,"props":610,"children":611},{},[612],{"type":39,"value":613},"4096 colours",{"type":24,"tag":508,"props":615,"children":616},{},[617,622,627],{"type":24,"tag":545,"props":618,"children":619},{},[620],{"type":39,"value":621},"CPU Type",{"type":24,"tag":545,"props":623,"children":624},{},[625],{"type":39,"value":626},"W65C02S 8–bit Microprocessor",{"type":24,"tag":545,"props":628,"children":629},{},[630],{"type":39,"value":631},"ATMEGA1284-PU Microcontroller",{"type":24,"tag":508,"props":633,"children":634},{},[635,640,645],{"type":24,"tag":545,"props":636,"children":637},{},[638],{"type":39,"value":639},"CPU Access",{"type":24,"tag":545,"props":641,"children":642},{},[643],{"type":39,"value":644},"During blanking intervals",{"type":24,"tag":545,"props":646,"children":647},{},[648],{"type":39,"value":649},"No restrictions",{"type":24,"tag":508,"props":651,"children":652},{},[653,658,663],{"type":24,"tag":545,"props":654,"children":655},{},[656],{"type":39,"value":657},"Breadboard Type",{"type":24,"tag":545,"props":659,"children":660},{},[661],{"type":39,"value":662},"Solderless",{"type":24,"tag":545,"props":664,"children":665},{},[666],{"type":39,"value":667},"Soldered",{"type":24,"tag":34,"props":669,"children":671},{"id":670},"timing-circuitry",[672],{"type":39,"value":673},"Timing Circuitry",{"type":24,"tag":42,"props":675,"children":676},{},[677],{"type":39,"value":678},"By following Ben Eater’s guide, I was quickly able to build the breadboard setup for displaying simple RGB bands on the monitor.",{"type":24,"tag":34,"props":680,"children":682},{"id":681},"vram-circuitry",[683],{"type":39,"value":684},"VRAM Circuitry",{"type":24,"tag":42,"props":686,"children":687},{},[688],{"type":39,"value":689},"A huge limitation in Ben Eater's design was that the EEPROM only had 15 address lines and hence, the maximum supported resolution was 100 x 75. In addition, his graphics card can only render 64 different colours. Because I wanted to render games on my GPU, I opted to use the AS6C1008-55PCN- 1Mbit instead of an EEPROM with for a final resolution of 200 x 150 and 4096 supported colours.",{"type":24,"tag":34,"props":691,"children":693},{"id":692},"driver",[694],{"type":39,"value":695},"Driver",{"type":24,"tag":42,"props":697,"children":698},{},[699],{"type":39,"value":700},"The main computing unit for this graphics card was ATMEGA1284-PU microcontroller the reason for this was due to it having 32 GPIO pins in which I would need 16 for the address, 12 for I/O and 1 to control which SRAM is in read/write mode.",{"type":24,"tag":42,"props":702,"children":703},{},[704],{"type":39,"value":705},"Initially the main bottleneck was the digital write function being too slow for my needs since they only operated on one pin at a time and performed checks on the input. As such, I will be writing my own C function to accomplish the task with zero overhead using port manipulation. This allowed me to dramatically improve the time to write from 2.24us for a single bit to 23ns for 8 bits in parallel.",{"type":24,"tag":42,"props":707,"children":708},{},[709],{"type":39,"value":710},"In case you wanted to know, this is what the code was:",{"type":24,"tag":712,"props":713,"children":717},"pre",{"className":714,"code":715,"language":716,"meta":8,"style":8},"language-c shiki shiki-themes github-light github-dark","void writeToBuffer(uint16_t addr, uint16_t word) {\n    PORTB = addr >> 8; // Higher Addr Bytes\n    PORTA = addr & 0xFF; // Lower Addr Bytes\n    PORTC = (word >> 8) & 0b00111111;\n    PORTD = word & 0xFF;\n}\n","c",[718],{"type":24,"tag":719,"props":720,"children":721},"code",{"__ignoreMap":8},[722,776,816,857,907,941],{"type":24,"tag":723,"props":724,"children":727},"span",{"class":725,"line":726},"line",1,[728,734,740,746,751,757,762,766,771],{"type":24,"tag":723,"props":729,"children":731},{"style":730},"--shiki-default:#D73A49;--shiki-dark:#F97583",[732],{"type":39,"value":733},"void",{"type":24,"tag":723,"props":735,"children":737},{"style":736},"--shiki-default:#6F42C1;--shiki-dark:#B392F0",[738],{"type":39,"value":739}," writeToBuffer",{"type":24,"tag":723,"props":741,"children":743},{"style":742},"--shiki-default:#24292E;--shiki-dark:#E1E4E8",[744],{"type":39,"value":745},"(",{"type":24,"tag":723,"props":747,"children":748},{"style":730},[749],{"type":39,"value":750},"uint16_t",{"type":24,"tag":723,"props":752,"children":754},{"style":753},"--shiki-default:#E36209;--shiki-dark:#FFAB70",[755],{"type":39,"value":756}," addr",{"type":24,"tag":723,"props":758,"children":759},{"style":742},[760],{"type":39,"value":761},", ",{"type":24,"tag":723,"props":763,"children":764},{"style":730},[765],{"type":39,"value":750},{"type":24,"tag":723,"props":767,"children":768},{"style":753},[769],{"type":39,"value":770}," word",{"type":24,"tag":723,"props":772,"children":773},{"style":742},[774],{"type":39,"value":775},") {\n",{"type":24,"tag":723,"props":777,"children":778},{"class":725,"line":180},[779,784,789,794,799,805,810],{"type":24,"tag":723,"props":780,"children":781},{"style":742},[782],{"type":39,"value":783},"    PORTB ",{"type":24,"tag":723,"props":785,"children":786},{"style":730},[787],{"type":39,"value":788},"=",{"type":24,"tag":723,"props":790,"children":791},{"style":742},[792],{"type":39,"value":793}," addr ",{"type":24,"tag":723,"props":795,"children":796},{"style":730},[797],{"type":39,"value":798},">>",{"type":24,"tag":723,"props":800,"children":802},{"style":801},"--shiki-default:#005CC5;--shiki-dark:#79B8FF",[803],{"type":39,"value":804}," 8",{"type":24,"tag":723,"props":806,"children":807},{"style":742},[808],{"type":39,"value":809},";",{"type":24,"tag":723,"props":811,"children":813},{"style":812},"--shiki-default:#6A737D;--shiki-dark:#6A737D",[814],{"type":39,"value":815}," // Higher Addr Bytes\n",{"type":24,"tag":723,"props":817,"children":819},{"class":725,"line":818},3,[820,825,829,833,838,843,848,852],{"type":24,"tag":723,"props":821,"children":822},{"style":742},[823],{"type":39,"value":824},"    PORTA ",{"type":24,"tag":723,"props":826,"children":827},{"style":730},[828],{"type":39,"value":788},{"type":24,"tag":723,"props":830,"children":831},{"style":742},[832],{"type":39,"value":793},{"type":24,"tag":723,"props":834,"children":835},{"style":730},[836],{"type":39,"value":837},"&",{"type":24,"tag":723,"props":839,"children":840},{"style":730},[841],{"type":39,"value":842}," 0x",{"type":24,"tag":723,"props":844,"children":845},{"style":801},[846],{"type":39,"value":847},"FF",{"type":24,"tag":723,"props":849,"children":850},{"style":742},[851],{"type":39,"value":809},{"type":24,"tag":723,"props":853,"children":854},{"style":812},[855],{"type":39,"value":856}," // Lower Addr Bytes\n",{"type":24,"tag":723,"props":858,"children":860},{"class":725,"line":859},4,[861,866,870,875,879,883,888,892,897,902],{"type":24,"tag":723,"props":862,"children":863},{"style":742},[864],{"type":39,"value":865},"    PORTC ",{"type":24,"tag":723,"props":867,"children":868},{"style":730},[869],{"type":39,"value":788},{"type":24,"tag":723,"props":871,"children":872},{"style":742},[873],{"type":39,"value":874}," (word ",{"type":24,"tag":723,"props":876,"children":877},{"style":730},[878],{"type":39,"value":798},{"type":24,"tag":723,"props":880,"children":881},{"style":801},[882],{"type":39,"value":804},{"type":24,"tag":723,"props":884,"children":885},{"style":742},[886],{"type":39,"value":887},") ",{"type":24,"tag":723,"props":889,"children":890},{"style":730},[891],{"type":39,"value":837},{"type":24,"tag":723,"props":893,"children":894},{"style":730},[895],{"type":39,"value":896}," 0b",{"type":24,"tag":723,"props":898,"children":899},{"style":801},[900],{"type":39,"value":901},"00111111",{"type":24,"tag":723,"props":903,"children":904},{"style":742},[905],{"type":39,"value":906},";\n",{"type":24,"tag":723,"props":908,"children":910},{"class":725,"line":909},5,[911,916,920,925,929,933,937],{"type":24,"tag":723,"props":912,"children":913},{"style":742},[914],{"type":39,"value":915},"    PORTD ",{"type":24,"tag":723,"props":917,"children":918},{"style":730},[919],{"type":39,"value":788},{"type":24,"tag":723,"props":921,"children":922},{"style":742},[923],{"type":39,"value":924}," word ",{"type":24,"tag":723,"props":926,"children":927},{"style":730},[928],{"type":39,"value":837},{"type":24,"tag":723,"props":930,"children":931},{"style":730},[932],{"type":39,"value":842},{"type":24,"tag":723,"props":934,"children":935},{"style":801},[936],{"type":39,"value":847},{"type":24,"tag":723,"props":938,"children":939},{"style":742},[940],{"type":39,"value":906},{"type":24,"tag":723,"props":942,"children":944},{"class":725,"line":943},6,[945],{"type":24,"tag":723,"props":946,"children":947},{"style":742},[948],{"type":39,"value":949},"}\n",{"type":24,"tag":42,"props":951,"children":952},{},[953],{"type":39,"value":954},"Note that I am setting the upper bytes first to avoid corrupting addresses in the SRAM.",{"type":24,"tag":42,"props":956,"children":957},{},[958],{"type":39,"value":959},"Since I was really into Tetris at the time, I thought it would be a cool idea to implement that as a playable game.",{"type":24,"tag":34,"props":961,"children":962},{"id":165},[963],{"type":39,"value":168},{"type":24,"tag":42,"props":965,"children":966},{},[967,969],{"type":39,"value":968},"Although, due to time and financial constraints, I had to halt development on the project. However, I plan to resume it someday, possibly after graduating from university when I might have a few more electrical circuit design tricks up my sleeve to streamline the process. Alternatively, I may choose to redo the project using proper PCBs instead of breadboards. Despite the abrupt halt, I was quite pleased with the progress I made in just a few weeks, especially considering I was a beginner in electronics engineering.\n",{"type":24,"tag":126,"props":970,"children":972},{"src":971},"/images/projects/gpu/tetris.PNG",[],{"type":24,"tag":974,"props":975,"children":976},"style",{},[977],{"type":39,"value":978},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":8,"searchDepth":180,"depth":180,"links":980},[981,982,983,984,985,986,987],{"id":36,"depth":180,"text":40},{"id":64,"depth":180,"text":67},{"id":485,"depth":180,"text":488},{"id":670,"depth":180,"text":673},{"id":681,"depth":180,"text":684},{"id":692,"depth":180,"text":695},{"id":165,"depth":180,"text":168},"content:projects:3.breadboard-gpu.md","projects/3.breadboard-gpu.md","projects/3.breadboard-gpu",{"_path":992,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":993,"description":994,"thumbnail":995,"technologies":996,"assets":999,"github":1000,"demo":1001,"showcased":18,"body":1002,"_type":187,"_id":1122,"_source":189,"_file":1123,"_stem":1124,"_extension":192},"/projects/glsl-raymarching","GLSL Sphere Marching","This project uses a graphics programming technique called sphere marching with custom-made distance functions.","/images/projects/sphere-marching/thumbnail.webp",[997,998],"ThreeJS","GLSL","/images/projects/sphere-marching","https://github.com/WeichenTie/10-Sphere-Marching","https://weichentie.github.io/10-Sphere-Marching",{"type":21,"children":1003,"toc":1116},[1004,1010,1015,1020,1024,1029,1033,1036,1040,1045,1055,1065,1075,1085,1089,1094,1105],{"type":24,"tag":25,"props":1005,"children":1006},{"id":8},[1007],{"type":24,"tag":29,"props":1008,"children":1009},{"value":31},[],{"type":24,"tag":1011,"props":1012,"children":1014},"view-github-button",{":to":1013},"github",[],{"type":24,"tag":1016,"props":1017,"children":1019},"view-demo-button",{":to":1018},"demo",[],{"type":24,"tag":34,"props":1021,"children":1022},{"id":36},[1023],{"type":39,"value":40},{"type":24,"tag":42,"props":1025,"children":1026},{},[1027],{"type":39,"value":1028},"Sphere marching is a technique in ray marching that helps render scenes with implicit surfaces, especially useful for complex shapes or those defined by mathematical formulas.",{"type":24,"tag":34,"props":1030,"children":1031},{"id":64},[1032],{"type":39,"value":67},{"type":24,"tag":69,"props":1034,"children":1035},{":tags":71},[],{"type":24,"tag":34,"props":1037,"children":1038},{"id":116},[1039],{"type":39,"value":119},{"type":24,"tag":42,"props":1041,"children":1042},{},[1043],{"type":39,"value":1044},"I implemented the following in the fragment shader to render onto a full screen quad:",{"type":24,"tag":42,"props":1046,"children":1047},{},[1048,1053],{"type":24,"tag":516,"props":1049,"children":1050},{},[1051],{"type":39,"value":1052},"Signed Distance Function (SDF)",{"type":39,"value":1054},": A function that calculates the distance from any point in space to the surface you want to render. For a sphere, this is simply the difference between the point's distance to the sphere's center and the sphere's radius.",{"type":24,"tag":42,"props":1056,"children":1057},{},[1058,1063],{"type":24,"tag":516,"props":1059,"children":1060},{},[1061],{"type":39,"value":1062},"Ray Marching",{"type":39,"value":1064},": Imagine shooting rays out from the camera into the scene. Sphere marching iteratively samples points along each ray using the SDF.",{"type":24,"tag":42,"props":1066,"children":1067},{},[1068,1073],{"type":24,"tag":516,"props":1069,"children":1070},{},[1071],{"type":39,"value":1072},"Sphere Bounding",{"type":39,"value":1074},": At each sample point, the SDF tells you how far you are from the surface. Sphere marching uses this distance to estimate the biggest sphere that can fit around the current position on the ray. This helps determine the next step size along the ray.",{"type":24,"tag":42,"props":1076,"children":1077},{},[1078,1083],{"type":24,"tag":516,"props":1079,"children":1080},{},[1081],{"type":39,"value":1082},"Surface Intersection",{"type":39,"value":1084},": By taking these larger steps guided by the SDF, sphere marching efficiently marches the ray closer to the surface. The iteration stops when the SDF indicates you're close enough to the surface (within a threshold).",{"type":24,"tag":34,"props":1086,"children":1087},{"id":165},[1088],{"type":39,"value":168},{"type":24,"tag":42,"props":1090,"children":1091},{},[1092],{"type":39,"value":1093},"The results were quite nice and I've also added an orbital camera that is controlled by the mouse to change viewing angles.",{"type":24,"tag":328,"props":1095,"children":1096},{},[1097,1101],{"type":24,"tag":126,"props":1098,"children":1100},{"src":1099},"/images/projects/sphere-marching/3.png",[],{"type":24,"tag":126,"props":1102,"children":1104},{"src":1103},"/images/projects/sphere-marching/4.png",[],{"type":24,"tag":328,"props":1106,"children":1107},{},[1108,1112],{"type":24,"tag":126,"props":1109,"children":1111},{"src":1110},"/images/projects/sphere-marching/1.png",[],{"type":24,"tag":126,"props":1113,"children":1115},{"src":1114},"/images/projects/sphere-marching/2.png",[],{"title":8,"searchDepth":180,"depth":180,"links":1117},[1118,1119,1120,1121],{"id":36,"depth":180,"text":40},{"id":64,"depth":180,"text":67},{"id":116,"depth":180,"text":119},{"id":165,"depth":180,"text":168},"content:projects:4.glsl-raymarching.md","projects/4.glsl-raymarching.md","projects/4.glsl-raymarching",{"_path":1126,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":1127,"description":1128,"thumbnail":1129,"technologies":1130,"assets":1131,"github":1132,"demo":1133,"showcased":18,"body":1134,"_type":187,"_id":3025,"_source":189,"_file":3026,"_stem":3027,"_extension":192},"/projects/slime-simulation","Slime Simulation","GPGPU simulating the acellular slime mold species, Physarum polycephalum. It demonstrates how complexity in life can arise from following a few simple rules.","/images/projects/slime/thumbnail.webp",[997,998],"/images/projects/slime","https://github.com/WeichenTie/07-Slime-Simulation","https://weichentie.github.io/07-Slime-Simulation/",{"type":21,"children":1135,"toc":3017},[1136,1141,1144,1147,1151,1156,1166,1170,1173,1177,1182,1187,1192,1200,1206,1211,1247,1252,1257,1314,1319,1324,1855,1860,1910,1915,2042,2048,2053,2971,2975,2980,2991,3002,3013],{"type":24,"tag":25,"props":1137,"children":1139},{"id":1138},"slime-simulation",[1140],{"type":39,"value":1127},{"type":24,"tag":1011,"props":1142,"children":1143},{":to":1013},[],{"type":24,"tag":1016,"props":1145,"children":1146},{":to":1018},[],{"type":24,"tag":34,"props":1148,"children":1149},{"id":36},[1150],{"type":39,"value":40},{"type":24,"tag":42,"props":1152,"children":1153},{},[1154],{"type":39,"value":1155},"My first attempt at GPGPU, simulating the acellular slime mold species, Physarum Polycephalum. The main goal is to demonstrate how complexity in life can arise from following a few simple rules.",{"type":24,"tag":42,"props":1157,"children":1158},{},[1159,1161],{"type":39,"value":1160},"This attempt was heavily inspired by Sebastian Lague's coding adventure \"Ant & Slime Simulations\".\n",{"type":24,"tag":58,"props":1162,"children":1165},{"src":1163,"title":1164},"https://www.youtube.com/embed/X-iSQQgOd1A","Coding Adventure: Ant and Slime Simulations",[],{"type":24,"tag":34,"props":1167,"children":1168},{"id":64},[1169],{"type":39,"value":67},{"type":24,"tag":69,"props":1171,"children":1172},{":tags":71},[],{"type":24,"tag":34,"props":1174,"children":1175},{"id":116},[1176],{"type":39,"value":119},{"type":24,"tag":42,"props":1178,"children":1179},{},[1180],{"type":39,"value":1181},"Given how complex simulating life appeared, it was rather surprising for me to realise the simplistic rules that govern this simulation. The simulated organism essentially follows a simple algorithm: it secretes a trail of pheromones as it moves, tends to move in the same direction it was previously moving, and prefers to follow its nose to areas of higher pheromone concentration.",{"type":24,"tag":42,"props":1183,"children":1184},{},[1185],{"type":39,"value":1186},"This particular implementation has 250000 agents and could easily be run on a GPU due to its highly parallel nature. Each agent operates independently, making decisions based on its local environment, which leads to a beautiful emergent behavior when viewed as a whole. The simulation also includes an evaporation and diffusion process for the pheromones, further contributing to the complexity of the system.",{"type":24,"tag":42,"props":1188,"children":1189},{},[1190],{"type":39,"value":1191},"Usually I would do this in compute shaders but since I want this to be web friendly, I’ve taken the approach of using ping-pong texture computing where one texture is used as the read buffer and the other one as the output buffer. After each computation cycle, the buffers swap places with each other. In pseudocode code, it looks something like this:",{"type":24,"tag":712,"props":1193,"children":1195},{"code":1194},"For each agent:\n    Read current pheromone value from texture A\n    Write the updated pheromone value to texture B\nSwap textures A and B\nRepeat\n\n",[1196],{"type":24,"tag":719,"props":1197,"children":1198},{"__ignoreMap":8},[1199],{"type":39,"value":1194},{"type":24,"tag":34,"props":1201,"children":1203},{"id":1202},"agent-computation",[1204],{"type":39,"value":1205},"Agent Computation",{"type":24,"tag":42,"props":1207,"children":1208},{},[1209],{"type":39,"value":1210},"In our case, an agent has 2 properties, a position vector and a normalised direction vector stored in a vec4’s xy and zw components respectively. We can then calculate the angle theta with respect to the positive x-axis which will allow me to apply rotations by simply adding or subtracting from theta.",{"type":24,"tag":712,"props":1212,"children":1216},{"code":1213,"language":1214,"meta":8,"className":1215,"style":8},"float theta = atan(direction.y, direction.x);\n","glsl","language-glsl shiki shiki-themes github-light github-dark",[1217],{"type":24,"tag":719,"props":1218,"children":1219},{"__ignoreMap":8},[1220],{"type":24,"tag":723,"props":1221,"children":1222},{"class":725,"line":726},[1223,1228,1233,1237,1242],{"type":24,"tag":723,"props":1224,"children":1225},{"style":730},[1226],{"type":39,"value":1227},"float",{"type":24,"tag":723,"props":1229,"children":1230},{"style":742},[1231],{"type":39,"value":1232}," theta ",{"type":24,"tag":723,"props":1234,"children":1235},{"style":730},[1236],{"type":39,"value":788},{"type":24,"tag":723,"props":1238,"children":1239},{"style":801},[1240],{"type":39,"value":1241}," atan",{"type":24,"tag":723,"props":1243,"children":1244},{"style":742},[1245],{"type":39,"value":1246},"(direction.y, direction.x);\n",{"type":24,"tag":42,"props":1248,"children":1249},{},[1250],{"type":39,"value":1251},"Now in addition to moving in a straight line, each agent will tend to deviate from its original path",{"type":24,"tag":42,"props":1253,"children":1254},{},[1255],{"type":39,"value":1256},"This deviation is determined by a random value, 'wander', which is assigned a value between -1.0 and 1.0. This will then be added to the current direction, causing the agent to wander in a random direction within a given range.",{"type":24,"tag":712,"props":1258,"children":1260},{"code":1259,"language":1214,"meta":8,"className":1215,"style":8},"float wander = random() * 2.0 - 1.0;\n",[1261],{"type":24,"tag":719,"props":1262,"children":1263},{"__ignoreMap":8},[1264],{"type":24,"tag":723,"props":1265,"children":1266},{"class":725,"line":726},[1267,1271,1276,1280,1285,1290,1295,1300,1305,1310],{"type":24,"tag":723,"props":1268,"children":1269},{"style":730},[1270],{"type":39,"value":1227},{"type":24,"tag":723,"props":1272,"children":1273},{"style":742},[1274],{"type":39,"value":1275}," wander ",{"type":24,"tag":723,"props":1277,"children":1278},{"style":730},[1279],{"type":39,"value":788},{"type":24,"tag":723,"props":1281,"children":1282},{"style":736},[1283],{"type":39,"value":1284}," random",{"type":24,"tag":723,"props":1286,"children":1287},{"style":742},[1288],{"type":39,"value":1289},"() ",{"type":24,"tag":723,"props":1291,"children":1292},{"style":730},[1293],{"type":39,"value":1294},"*",{"type":24,"tag":723,"props":1296,"children":1297},{"style":801},[1298],{"type":39,"value":1299}," 2.0",{"type":24,"tag":723,"props":1301,"children":1302},{"style":730},[1303],{"type":39,"value":1304}," -",{"type":24,"tag":723,"props":1306,"children":1307},{"style":801},[1308],{"type":39,"value":1309}," 1.0",{"type":24,"tag":723,"props":1311,"children":1312},{"style":742},[1313],{"type":39,"value":906},{"type":24,"tag":42,"props":1315,"children":1316},{},[1317],{"type":39,"value":1318},"Now each agent has 3 separate sensors",{"type":24,"tag":42,"props":1320,"children":1321},{},[1322],{"type":39,"value":1323},"Each sensor reads the pheromone level at its location, and the agent uses this information to decide its next direction. The sensor detecting the highest pheromone concentration will determine the agent's new direction, drawing it towards areas with more pheromones.",{"type":24,"tag":712,"props":1325,"children":1327},{"code":1326,"language":1214,"meta":8,"className":1215,"style":8},"vec2 sensorLeftPosition = position + uSensorOffset*vec2(cos(theta + uSensorAngle), sin(theta + uSensorAngle));\nvec2 sensorMiddlePosition = position + uSensorOffset*vec2(cos(theta), sin(theta));\nvec2 sensorRightPosition = position + uSensorOffset\\*vec2(cos(theta - uSensorAngle), sin(theta - uSensorAngle));\n\nvec4 leftSample = texture(uPheromones, (sensorLeftPosition) / uScreenSize);\nvec4 middleSample = texture(uPheromones, (sensorMiddlePosition) / uScreenSize);\nvec4 rightSample = texture(uPheromones, (sensorRightPosition) / uScreenSize);\n\nfloat steer = 0.0;\nif (length(leftSample) > length(middleSample) && length(leftSample) > length(rightSample)) {\nsteer = uSteerAngle;\n}\nif (length(rightSample) > length(middleSample) && length(rightSample) > length(leftSample)) {\nsteer = -uSteerAngle;\n}\n",[1328],{"type":24,"tag":719,"props":1329,"children":1330},{"__ignoreMap":8},[1331,1409,1463,1533,1541,1578,1611,1644,1652,1677,1742,1760,1768,1826,1847],{"type":24,"tag":723,"props":1332,"children":1333},{"class":725,"line":726},[1334,1339,1344,1348,1353,1358,1363,1368,1372,1377,1382,1386,1391,1396,1400,1404],{"type":24,"tag":723,"props":1335,"children":1336},{"style":730},[1337],{"type":39,"value":1338},"vec2",{"type":24,"tag":723,"props":1340,"children":1341},{"style":742},[1342],{"type":39,"value":1343}," sensorLeftPosition ",{"type":24,"tag":723,"props":1345,"children":1346},{"style":730},[1347],{"type":39,"value":788},{"type":24,"tag":723,"props":1349,"children":1350},{"style":742},[1351],{"type":39,"value":1352}," position ",{"type":24,"tag":723,"props":1354,"children":1355},{"style":730},[1356],{"type":39,"value":1357},"+",{"type":24,"tag":723,"props":1359,"children":1360},{"style":742},[1361],{"type":39,"value":1362}," uSensorOffset",{"type":24,"tag":723,"props":1364,"children":1365},{"style":730},[1366],{"type":39,"value":1367},"*vec2",{"type":24,"tag":723,"props":1369,"children":1370},{"style":742},[1371],{"type":39,"value":745},{"type":24,"tag":723,"props":1373,"children":1374},{"style":736},[1375],{"type":39,"value":1376},"cos",{"type":24,"tag":723,"props":1378,"children":1379},{"style":742},[1380],{"type":39,"value":1381},"(theta ",{"type":24,"tag":723,"props":1383,"children":1384},{"style":730},[1385],{"type":39,"value":1357},{"type":24,"tag":723,"props":1387,"children":1388},{"style":742},[1389],{"type":39,"value":1390}," uSensorAngle), ",{"type":24,"tag":723,"props":1392,"children":1393},{"style":736},[1394],{"type":39,"value":1395},"sin",{"type":24,"tag":723,"props":1397,"children":1398},{"style":742},[1399],{"type":39,"value":1381},{"type":24,"tag":723,"props":1401,"children":1402},{"style":730},[1403],{"type":39,"value":1357},{"type":24,"tag":723,"props":1405,"children":1406},{"style":742},[1407],{"type":39,"value":1408}," uSensorAngle));\n",{"type":24,"tag":723,"props":1410,"children":1411},{"class":725,"line":180},[1412,1416,1421,1425,1429,1433,1437,1441,1445,1449,1454,1458],{"type":24,"tag":723,"props":1413,"children":1414},{"style":730},[1415],{"type":39,"value":1338},{"type":24,"tag":723,"props":1417,"children":1418},{"style":742},[1419],{"type":39,"value":1420}," sensorMiddlePosition ",{"type":24,"tag":723,"props":1422,"children":1423},{"style":730},[1424],{"type":39,"value":788},{"type":24,"tag":723,"props":1426,"children":1427},{"style":742},[1428],{"type":39,"value":1352},{"type":24,"tag":723,"props":1430,"children":1431},{"style":730},[1432],{"type":39,"value":1357},{"type":24,"tag":723,"props":1434,"children":1435},{"style":742},[1436],{"type":39,"value":1362},{"type":24,"tag":723,"props":1438,"children":1439},{"style":730},[1440],{"type":39,"value":1367},{"type":24,"tag":723,"props":1442,"children":1443},{"style":742},[1444],{"type":39,"value":745},{"type":24,"tag":723,"props":1446,"children":1447},{"style":736},[1448],{"type":39,"value":1376},{"type":24,"tag":723,"props":1450,"children":1451},{"style":742},[1452],{"type":39,"value":1453},"(theta), ",{"type":24,"tag":723,"props":1455,"children":1456},{"style":736},[1457],{"type":39,"value":1395},{"type":24,"tag":723,"props":1459,"children":1460},{"style":742},[1461],{"type":39,"value":1462},"(theta));\n",{"type":24,"tag":723,"props":1464,"children":1465},{"class":725,"line":818},[1466,1470,1475,1479,1483,1487,1492,1496,1500,1504,1508,1513,1517,1521,1525,1529],{"type":24,"tag":723,"props":1467,"children":1468},{"style":730},[1469],{"type":39,"value":1338},{"type":24,"tag":723,"props":1471,"children":1472},{"style":742},[1473],{"type":39,"value":1474}," sensorRightPosition ",{"type":24,"tag":723,"props":1476,"children":1477},{"style":730},[1478],{"type":39,"value":788},{"type":24,"tag":723,"props":1480,"children":1481},{"style":742},[1482],{"type":39,"value":1352},{"type":24,"tag":723,"props":1484,"children":1485},{"style":730},[1486],{"type":39,"value":1357},{"type":24,"tag":723,"props":1488,"children":1489},{"style":742},[1490],{"type":39,"value":1491}," uSensorOffset\\",{"type":24,"tag":723,"props":1493,"children":1494},{"style":730},[1495],{"type":39,"value":1367},{"type":24,"tag":723,"props":1497,"children":1498},{"style":742},[1499],{"type":39,"value":745},{"type":24,"tag":723,"props":1501,"children":1502},{"style":736},[1503],{"type":39,"value":1376},{"type":24,"tag":723,"props":1505,"children":1506},{"style":742},[1507],{"type":39,"value":1381},{"type":24,"tag":723,"props":1509,"children":1510},{"style":730},[1511],{"type":39,"value":1512},"-",{"type":24,"tag":723,"props":1514,"children":1515},{"style":742},[1516],{"type":39,"value":1390},{"type":24,"tag":723,"props":1518,"children":1519},{"style":736},[1520],{"type":39,"value":1395},{"type":24,"tag":723,"props":1522,"children":1523},{"style":742},[1524],{"type":39,"value":1381},{"type":24,"tag":723,"props":1526,"children":1527},{"style":730},[1528],{"type":39,"value":1512},{"type":24,"tag":723,"props":1530,"children":1531},{"style":742},[1532],{"type":39,"value":1408},{"type":24,"tag":723,"props":1534,"children":1535},{"class":725,"line":859},[1536],{"type":24,"tag":723,"props":1537,"children":1538},{"emptyLinePlaceholder":18},[1539],{"type":39,"value":1540},"\n",{"type":24,"tag":723,"props":1542,"children":1543},{"class":725,"line":909},[1544,1549,1554,1558,1563,1568,1573],{"type":24,"tag":723,"props":1545,"children":1546},{"style":730},[1547],{"type":39,"value":1548},"vec4",{"type":24,"tag":723,"props":1550,"children":1551},{"style":742},[1552],{"type":39,"value":1553}," leftSample ",{"type":24,"tag":723,"props":1555,"children":1556},{"style":730},[1557],{"type":39,"value":788},{"type":24,"tag":723,"props":1559,"children":1560},{"style":736},[1561],{"type":39,"value":1562}," texture",{"type":24,"tag":723,"props":1564,"children":1565},{"style":742},[1566],{"type":39,"value":1567},"(uPheromones, (sensorLeftPosition) ",{"type":24,"tag":723,"props":1569,"children":1570},{"style":730},[1571],{"type":39,"value":1572},"/",{"type":24,"tag":723,"props":1574,"children":1575},{"style":742},[1576],{"type":39,"value":1577}," uScreenSize);\n",{"type":24,"tag":723,"props":1579,"children":1580},{"class":725,"line":943},[1581,1585,1590,1594,1598,1603,1607],{"type":24,"tag":723,"props":1582,"children":1583},{"style":730},[1584],{"type":39,"value":1548},{"type":24,"tag":723,"props":1586,"children":1587},{"style":742},[1588],{"type":39,"value":1589}," middleSample ",{"type":24,"tag":723,"props":1591,"children":1592},{"style":730},[1593],{"type":39,"value":788},{"type":24,"tag":723,"props":1595,"children":1596},{"style":736},[1597],{"type":39,"value":1562},{"type":24,"tag":723,"props":1599,"children":1600},{"style":742},[1601],{"type":39,"value":1602},"(uPheromones, (sensorMiddlePosition) ",{"type":24,"tag":723,"props":1604,"children":1605},{"style":730},[1606],{"type":39,"value":1572},{"type":24,"tag":723,"props":1608,"children":1609},{"style":742},[1610],{"type":39,"value":1577},{"type":24,"tag":723,"props":1612,"children":1613},{"class":725,"line":208},[1614,1618,1623,1627,1631,1636,1640],{"type":24,"tag":723,"props":1615,"children":1616},{"style":730},[1617],{"type":39,"value":1548},{"type":24,"tag":723,"props":1619,"children":1620},{"style":742},[1621],{"type":39,"value":1622}," rightSample ",{"type":24,"tag":723,"props":1624,"children":1625},{"style":730},[1626],{"type":39,"value":788},{"type":24,"tag":723,"props":1628,"children":1629},{"style":736},[1630],{"type":39,"value":1562},{"type":24,"tag":723,"props":1632,"children":1633},{"style":742},[1634],{"type":39,"value":1635},"(uPheromones, (sensorRightPosition) ",{"type":24,"tag":723,"props":1637,"children":1638},{"style":730},[1639],{"type":39,"value":1572},{"type":24,"tag":723,"props":1641,"children":1642},{"style":742},[1643],{"type":39,"value":1577},{"type":24,"tag":723,"props":1645,"children":1647},{"class":725,"line":1646},8,[1648],{"type":24,"tag":723,"props":1649,"children":1650},{"emptyLinePlaceholder":18},[1651],{"type":39,"value":1540},{"type":24,"tag":723,"props":1653,"children":1654},{"class":725,"line":19},[1655,1659,1664,1668,1673],{"type":24,"tag":723,"props":1656,"children":1657},{"style":730},[1658],{"type":39,"value":1227},{"type":24,"tag":723,"props":1660,"children":1661},{"style":742},[1662],{"type":39,"value":1663}," steer ",{"type":24,"tag":723,"props":1665,"children":1666},{"style":730},[1667],{"type":39,"value":788},{"type":24,"tag":723,"props":1669,"children":1670},{"style":801},[1671],{"type":39,"value":1672}," 0.0",{"type":24,"tag":723,"props":1674,"children":1675},{"style":742},[1676],{"type":39,"value":906},{"type":24,"tag":723,"props":1678,"children":1680},{"class":725,"line":1679},10,[1681,1686,1691,1696,1701,1706,1711,1716,1721,1725,1729,1733,1737],{"type":24,"tag":723,"props":1682,"children":1683},{"style":730},[1684],{"type":39,"value":1685},"if",{"type":24,"tag":723,"props":1687,"children":1688},{"style":742},[1689],{"type":39,"value":1690}," (",{"type":24,"tag":723,"props":1692,"children":1693},{"style":736},[1694],{"type":39,"value":1695},"length",{"type":24,"tag":723,"props":1697,"children":1698},{"style":742},[1699],{"type":39,"value":1700},"(leftSample) ",{"type":24,"tag":723,"props":1702,"children":1703},{"style":730},[1704],{"type":39,"value":1705},">",{"type":24,"tag":723,"props":1707,"children":1708},{"style":736},[1709],{"type":39,"value":1710}," length",{"type":24,"tag":723,"props":1712,"children":1713},{"style":742},[1714],{"type":39,"value":1715},"(middleSample) ",{"type":24,"tag":723,"props":1717,"children":1718},{"style":730},[1719],{"type":39,"value":1720},"&&",{"type":24,"tag":723,"props":1722,"children":1723},{"style":736},[1724],{"type":39,"value":1710},{"type":24,"tag":723,"props":1726,"children":1727},{"style":742},[1728],{"type":39,"value":1700},{"type":24,"tag":723,"props":1730,"children":1731},{"style":730},[1732],{"type":39,"value":1705},{"type":24,"tag":723,"props":1734,"children":1735},{"style":736},[1736],{"type":39,"value":1710},{"type":24,"tag":723,"props":1738,"children":1739},{"style":742},[1740],{"type":39,"value":1741},"(rightSample)) {\n",{"type":24,"tag":723,"props":1743,"children":1745},{"class":725,"line":1744},11,[1746,1751,1755],{"type":24,"tag":723,"props":1747,"children":1748},{"style":742},[1749],{"type":39,"value":1750},"steer ",{"type":24,"tag":723,"props":1752,"children":1753},{"style":730},[1754],{"type":39,"value":788},{"type":24,"tag":723,"props":1756,"children":1757},{"style":742},[1758],{"type":39,"value":1759}," uSteerAngle;\n",{"type":24,"tag":723,"props":1761,"children":1763},{"class":725,"line":1762},12,[1764],{"type":24,"tag":723,"props":1765,"children":1766},{"style":742},[1767],{"type":39,"value":949},{"type":24,"tag":723,"props":1769,"children":1771},{"class":725,"line":1770},13,[1772,1776,1780,1784,1789,1793,1797,1801,1805,1809,1813,1817,1821],{"type":24,"tag":723,"props":1773,"children":1774},{"style":730},[1775],{"type":39,"value":1685},{"type":24,"tag":723,"props":1777,"children":1778},{"style":742},[1779],{"type":39,"value":1690},{"type":24,"tag":723,"props":1781,"children":1782},{"style":736},[1783],{"type":39,"value":1695},{"type":24,"tag":723,"props":1785,"children":1786},{"style":742},[1787],{"type":39,"value":1788},"(rightSample) ",{"type":24,"tag":723,"props":1790,"children":1791},{"style":730},[1792],{"type":39,"value":1705},{"type":24,"tag":723,"props":1794,"children":1795},{"style":736},[1796],{"type":39,"value":1710},{"type":24,"tag":723,"props":1798,"children":1799},{"style":742},[1800],{"type":39,"value":1715},{"type":24,"tag":723,"props":1802,"children":1803},{"style":730},[1804],{"type":39,"value":1720},{"type":24,"tag":723,"props":1806,"children":1807},{"style":736},[1808],{"type":39,"value":1710},{"type":24,"tag":723,"props":1810,"children":1811},{"style":742},[1812],{"type":39,"value":1788},{"type":24,"tag":723,"props":1814,"children":1815},{"style":730},[1816],{"type":39,"value":1705},{"type":24,"tag":723,"props":1818,"children":1819},{"style":736},[1820],{"type":39,"value":1710},{"type":24,"tag":723,"props":1822,"children":1823},{"style":742},[1824],{"type":39,"value":1825},"(leftSample)) {\n",{"type":24,"tag":723,"props":1827,"children":1829},{"class":725,"line":1828},14,[1830,1834,1838,1842],{"type":24,"tag":723,"props":1831,"children":1832},{"style":742},[1833],{"type":39,"value":1750},{"type":24,"tag":723,"props":1835,"children":1836},{"style":730},[1837],{"type":39,"value":788},{"type":24,"tag":723,"props":1839,"children":1840},{"style":730},[1841],{"type":39,"value":1304},{"type":24,"tag":723,"props":1843,"children":1844},{"style":742},[1845],{"type":39,"value":1846},"uSteerAngle;\n",{"type":24,"tag":723,"props":1848,"children":1850},{"class":725,"line":1849},15,[1851],{"type":24,"tag":723,"props":1852,"children":1853},{"style":742},[1854],{"type":39,"value":949},{"type":24,"tag":42,"props":1856,"children":1857},{},[1858],{"type":39,"value":1859},"Now we can determine the final theta value with the following process",{"type":24,"tag":712,"props":1861,"children":1863},{"code":1862,"language":1214,"meta":8,"className":1215,"style":8},"theta += uWanderStrength * wander;\ntheta += steer;\n",[1864],{"type":24,"tag":719,"props":1865,"children":1866},{"__ignoreMap":8},[1867,1894],{"type":24,"tag":723,"props":1868,"children":1869},{"class":725,"line":726},[1870,1875,1880,1885,1889],{"type":24,"tag":723,"props":1871,"children":1872},{"style":742},[1873],{"type":39,"value":1874},"theta ",{"type":24,"tag":723,"props":1876,"children":1877},{"style":730},[1878],{"type":39,"value":1879},"+=",{"type":24,"tag":723,"props":1881,"children":1882},{"style":742},[1883],{"type":39,"value":1884}," uWanderStrength ",{"type":24,"tag":723,"props":1886,"children":1887},{"style":730},[1888],{"type":39,"value":1294},{"type":24,"tag":723,"props":1890,"children":1891},{"style":742},[1892],{"type":39,"value":1893}," wander;\n",{"type":24,"tag":723,"props":1895,"children":1896},{"class":725,"line":180},[1897,1901,1905],{"type":24,"tag":723,"props":1898,"children":1899},{"style":742},[1900],{"type":39,"value":1874},{"type":24,"tag":723,"props":1902,"children":1903},{"style":730},[1904],{"type":39,"value":1879},{"type":24,"tag":723,"props":1906,"children":1907},{"style":742},[1908],{"type":39,"value":1909}," steer;\n",{"type":24,"tag":42,"props":1911,"children":1912},{},[1913],{"type":39,"value":1914},"By adding the velocity to the position, we can get the position for the next frame",{"type":24,"tag":712,"props":1916,"children":1918},{"code":1917,"language":1214,"meta":8,"className":1215,"style":8},"float speed = max(uSpeed, 0.001);\nvec2 velocity = vec2(speed * cos(theta), speed *sin(theta));\n\n// add velocity to position\nposition += velocity;\n",[1919],{"type":24,"tag":719,"props":1920,"children":1921},{"__ignoreMap":8},[1922,1958,2010,2017,2025],{"type":24,"tag":723,"props":1923,"children":1924},{"class":725,"line":726},[1925,1929,1934,1938,1943,1948,1953],{"type":24,"tag":723,"props":1926,"children":1927},{"style":730},[1928],{"type":39,"value":1227},{"type":24,"tag":723,"props":1930,"children":1931},{"style":742},[1932],{"type":39,"value":1933}," speed ",{"type":24,"tag":723,"props":1935,"children":1936},{"style":730},[1937],{"type":39,"value":788},{"type":24,"tag":723,"props":1939,"children":1940},{"style":801},[1941],{"type":39,"value":1942}," max",{"type":24,"tag":723,"props":1944,"children":1945},{"style":742},[1946],{"type":39,"value":1947},"(uSpeed, ",{"type":24,"tag":723,"props":1949,"children":1950},{"style":801},[1951],{"type":39,"value":1952},"0.001",{"type":24,"tag":723,"props":1954,"children":1955},{"style":742},[1956],{"type":39,"value":1957},");\n",{"type":24,"tag":723,"props":1959,"children":1960},{"class":725,"line":180},[1961,1965,1970,1974,1979,1984,1988,1993,1998,2002,2006],{"type":24,"tag":723,"props":1962,"children":1963},{"style":730},[1964],{"type":39,"value":1338},{"type":24,"tag":723,"props":1966,"children":1967},{"style":742},[1968],{"type":39,"value":1969}," velocity ",{"type":24,"tag":723,"props":1971,"children":1972},{"style":730},[1973],{"type":39,"value":788},{"type":24,"tag":723,"props":1975,"children":1976},{"style":730},[1977],{"type":39,"value":1978}," vec2",{"type":24,"tag":723,"props":1980,"children":1981},{"style":742},[1982],{"type":39,"value":1983},"(speed ",{"type":24,"tag":723,"props":1985,"children":1986},{"style":730},[1987],{"type":39,"value":1294},{"type":24,"tag":723,"props":1989,"children":1990},{"style":736},[1991],{"type":39,"value":1992}," cos",{"type":24,"tag":723,"props":1994,"children":1995},{"style":742},[1996],{"type":39,"value":1997},"(theta), speed ",{"type":24,"tag":723,"props":1999,"children":2000},{"style":730},[2001],{"type":39,"value":1294},{"type":24,"tag":723,"props":2003,"children":2004},{"style":736},[2005],{"type":39,"value":1395},{"type":24,"tag":723,"props":2007,"children":2008},{"style":742},[2009],{"type":39,"value":1462},{"type":24,"tag":723,"props":2011,"children":2012},{"class":725,"line":818},[2013],{"type":24,"tag":723,"props":2014,"children":2015},{"emptyLinePlaceholder":18},[2016],{"type":39,"value":1540},{"type":24,"tag":723,"props":2018,"children":2019},{"class":725,"line":859},[2020],{"type":24,"tag":723,"props":2021,"children":2022},{"style":812},[2023],{"type":39,"value":2024},"// add velocity to position\n",{"type":24,"tag":723,"props":2026,"children":2027},{"class":725,"line":909},[2028,2033,2037],{"type":24,"tag":723,"props":2029,"children":2030},{"style":742},[2031],{"type":39,"value":2032},"position ",{"type":24,"tag":723,"props":2034,"children":2035},{"style":730},[2036],{"type":39,"value":1879},{"type":24,"tag":723,"props":2038,"children":2039},{"style":742},[2040],{"type":39,"value":2041}," velocity;\n",{"type":24,"tag":34,"props":2043,"children":2045},{"id":2044},"pheromone-diffusion-and-evaporation",[2046],{"type":39,"value":2047},"Pheromone Diffusion and Evaporation",{"type":24,"tag":42,"props":2049,"children":2050},{},[2051],{"type":39,"value":2052},"The diffusion step involves a gaussian blur and the evaporation step then reduces the pheromone concentration by a small amount, representing the natural decay of pheromones over time. This process allows older trails to fade away, making room for new pathways to be explored.",{"type":24,"tag":712,"props":2054,"children":2056},{"code":2055,"language":1214,"meta":8,"className":1215,"style":8},"void main(){\n  vec2 uv = gl_FragCoord.xy / uScreenSize;\n  vec4 s1 = texelFetch(uTexture, ivec2(gl_FragCoord.xy + vec2(-1,-1)),0);\n  vec4 s2 = texelFetch(uTexture, ivec2(gl_FragCoord.xy + vec2( 0,-1)),0);\n  vec4 s3 = texelFetch(uTexture, ivec2(gl_FragCoord.xy + vec2( 1,-1)),0);\n  vec4 s4 = texelFetch(uTexture, ivec2(gl_FragCoord.xy + vec2(-1, 0)),0);\n  vec4 s5 = texelFetch(uTexture, ivec2(gl_FragCoord.xy), 0);\n  vec4 s6 = texelFetch(uTexture, ivec2(gl_FragCoord.xy + vec2( 1, 0)),0);\n  vec4 s7 = texelFetch(uTexture, ivec2(gl_FragCoord.xy + vec2(-1, 1)),0);\n  vec4 s8 = texelFetch(uTexture, ivec2(gl_FragCoord.xy + vec2( 0, 1)),0);\n  vec4 s9 = texelFetch(uTexture, ivec2(gl_FragCoord.xy + vec2( 1, 1)),0);\n\n  vec4 blur = (s1 + 2.0 * s2 + s3 + 2.0 * s4 + 4.0 * s5 + 2.0* s6 + s7 + 2.0 * s8 + s9) / 16.0;\n\n  float strength = length(blur.xyz);\n  fColor = vec4(blur.xyz * float(strength > 0.0005),1) * (1.0-uDiffusionStrength*0.1);\n}\n",[2057],{"type":24,"tag":719,"props":2058,"children":2059},{"__ignoreMap":8},[2060,2077,2103,2183,2252,2320,2388,2425,2489,2557,2621,2685,2692,2836,2843,2869,2963],{"type":24,"tag":723,"props":2061,"children":2062},{"class":725,"line":726},[2063,2067,2072],{"type":24,"tag":723,"props":2064,"children":2065},{"style":730},[2066],{"type":39,"value":733},{"type":24,"tag":723,"props":2068,"children":2069},{"style":736},[2070],{"type":39,"value":2071}," main",{"type":24,"tag":723,"props":2073,"children":2074},{"style":742},[2075],{"type":39,"value":2076},"(){\n",{"type":24,"tag":723,"props":2078,"children":2079},{"class":725,"line":180},[2080,2085,2089,2094,2098],{"type":24,"tag":723,"props":2081,"children":2082},{"style":742},[2083],{"type":39,"value":2084},"  vec2 uv ",{"type":24,"tag":723,"props":2086,"children":2087},{"style":730},[2088],{"type":39,"value":788},{"type":24,"tag":723,"props":2090,"children":2091},{"style":742},[2092],{"type":39,"value":2093}," gl_FragCoord.xy ",{"type":24,"tag":723,"props":2095,"children":2096},{"style":730},[2097],{"type":39,"value":1572},{"type":24,"tag":723,"props":2099,"children":2100},{"style":742},[2101],{"type":39,"value":2102}," uScreenSize;\n",{"type":24,"tag":723,"props":2104,"children":2105},{"class":725,"line":818},[2106,2111,2115,2120,2125,2130,2135,2139,2143,2147,2151,2156,2161,2165,2169,2174,2179],{"type":24,"tag":723,"props":2107,"children":2108},{"style":742},[2109],{"type":39,"value":2110},"  vec4 s1 ",{"type":24,"tag":723,"props":2112,"children":2113},{"style":730},[2114],{"type":39,"value":788},{"type":24,"tag":723,"props":2116,"children":2117},{"style":736},[2118],{"type":39,"value":2119}," texelFetch",{"type":24,"tag":723,"props":2121,"children":2122},{"style":742},[2123],{"type":39,"value":2124},"(uTexture, ",{"type":24,"tag":723,"props":2126,"children":2127},{"style":736},[2128],{"type":39,"value":2129},"ivec2",{"type":24,"tag":723,"props":2131,"children":2132},{"style":742},[2133],{"type":39,"value":2134},"(gl_FragCoord.xy ",{"type":24,"tag":723,"props":2136,"children":2137},{"style":730},[2138],{"type":39,"value":1357},{"type":24,"tag":723,"props":2140,"children":2141},{"style":736},[2142],{"type":39,"value":1978},{"type":24,"tag":723,"props":2144,"children":2145},{"style":742},[2146],{"type":39,"value":745},{"type":24,"tag":723,"props":2148,"children":2149},{"style":730},[2150],{"type":39,"value":1512},{"type":24,"tag":723,"props":2152,"children":2153},{"style":801},[2154],{"type":39,"value":2155},"1",{"type":24,"tag":723,"props":2157,"children":2158},{"style":742},[2159],{"type":39,"value":2160},",",{"type":24,"tag":723,"props":2162,"children":2163},{"style":730},[2164],{"type":39,"value":1512},{"type":24,"tag":723,"props":2166,"children":2167},{"style":801},[2168],{"type":39,"value":2155},{"type":24,"tag":723,"props":2170,"children":2171},{"style":742},[2172],{"type":39,"value":2173},")),",{"type":24,"tag":723,"props":2175,"children":2176},{"style":801},[2177],{"type":39,"value":2178},"0",{"type":24,"tag":723,"props":2180,"children":2181},{"style":742},[2182],{"type":39,"value":1957},{"type":24,"tag":723,"props":2184,"children":2185},{"class":725,"line":859},[2186,2191,2195,2199,2203,2207,2211,2215,2219,2224,2228,2232,2236,2240,2244,2248],{"type":24,"tag":723,"props":2187,"children":2188},{"style":742},[2189],{"type":39,"value":2190},"  vec4 s2 ",{"type":24,"tag":723,"props":2192,"children":2193},{"style":730},[2194],{"type":39,"value":788},{"type":24,"tag":723,"props":2196,"children":2197},{"style":736},[2198],{"type":39,"value":2119},{"type":24,"tag":723,"props":2200,"children":2201},{"style":742},[2202],{"type":39,"value":2124},{"type":24,"tag":723,"props":2204,"children":2205},{"style":736},[2206],{"type":39,"value":2129},{"type":24,"tag":723,"props":2208,"children":2209},{"style":742},[2210],{"type":39,"value":2134},{"type":24,"tag":723,"props":2212,"children":2213},{"style":730},[2214],{"type":39,"value":1357},{"type":24,"tag":723,"props":2216,"children":2217},{"style":736},[2218],{"type":39,"value":1978},{"type":24,"tag":723,"props":2220,"children":2221},{"style":742},[2222],{"type":39,"value":2223},"( ",{"type":24,"tag":723,"props":2225,"children":2226},{"style":801},[2227],{"type":39,"value":2178},{"type":24,"tag":723,"props":2229,"children":2230},{"style":742},[2231],{"type":39,"value":2160},{"type":24,"tag":723,"props":2233,"children":2234},{"style":730},[2235],{"type":39,"value":1512},{"type":24,"tag":723,"props":2237,"children":2238},{"style":801},[2239],{"type":39,"value":2155},{"type":24,"tag":723,"props":2241,"children":2242},{"style":742},[2243],{"type":39,"value":2173},{"type":24,"tag":723,"props":2245,"children":2246},{"style":801},[2247],{"type":39,"value":2178},{"type":24,"tag":723,"props":2249,"children":2250},{"style":742},[2251],{"type":39,"value":1957},{"type":24,"tag":723,"props":2253,"children":2254},{"class":725,"line":909},[2255,2260,2264,2268,2272,2276,2280,2284,2288,2292,2296,2300,2304,2308,2312,2316],{"type":24,"tag":723,"props":2256,"children":2257},{"style":742},[2258],{"type":39,"value":2259},"  vec4 s3 ",{"type":24,"tag":723,"props":2261,"children":2262},{"style":730},[2263],{"type":39,"value":788},{"type":24,"tag":723,"props":2265,"children":2266},{"style":736},[2267],{"type":39,"value":2119},{"type":24,"tag":723,"props":2269,"children":2270},{"style":742},[2271],{"type":39,"value":2124},{"type":24,"tag":723,"props":2273,"children":2274},{"style":736},[2275],{"type":39,"value":2129},{"type":24,"tag":723,"props":2277,"children":2278},{"style":742},[2279],{"type":39,"value":2134},{"type":24,"tag":723,"props":2281,"children":2282},{"style":730},[2283],{"type":39,"value":1357},{"type":24,"tag":723,"props":2285,"children":2286},{"style":736},[2287],{"type":39,"value":1978},{"type":24,"tag":723,"props":2289,"children":2290},{"style":742},[2291],{"type":39,"value":2223},{"type":24,"tag":723,"props":2293,"children":2294},{"style":801},[2295],{"type":39,"value":2155},{"type":24,"tag":723,"props":2297,"children":2298},{"style":742},[2299],{"type":39,"value":2160},{"type":24,"tag":723,"props":2301,"children":2302},{"style":730},[2303],{"type":39,"value":1512},{"type":24,"tag":723,"props":2305,"children":2306},{"style":801},[2307],{"type":39,"value":2155},{"type":24,"tag":723,"props":2309,"children":2310},{"style":742},[2311],{"type":39,"value":2173},{"type":24,"tag":723,"props":2313,"children":2314},{"style":801},[2315],{"type":39,"value":2178},{"type":24,"tag":723,"props":2317,"children":2318},{"style":742},[2319],{"type":39,"value":1957},{"type":24,"tag":723,"props":2321,"children":2322},{"class":725,"line":943},[2323,2328,2332,2336,2340,2344,2348,2352,2356,2360,2364,2368,2372,2376,2380,2384],{"type":24,"tag":723,"props":2324,"children":2325},{"style":742},[2326],{"type":39,"value":2327},"  vec4 s4 ",{"type":24,"tag":723,"props":2329,"children":2330},{"style":730},[2331],{"type":39,"value":788},{"type":24,"tag":723,"props":2333,"children":2334},{"style":736},[2335],{"type":39,"value":2119},{"type":24,"tag":723,"props":2337,"children":2338},{"style":742},[2339],{"type":39,"value":2124},{"type":24,"tag":723,"props":2341,"children":2342},{"style":736},[2343],{"type":39,"value":2129},{"type":24,"tag":723,"props":2345,"children":2346},{"style":742},[2347],{"type":39,"value":2134},{"type":24,"tag":723,"props":2349,"children":2350},{"style":730},[2351],{"type":39,"value":1357},{"type":24,"tag":723,"props":2353,"children":2354},{"style":736},[2355],{"type":39,"value":1978},{"type":24,"tag":723,"props":2357,"children":2358},{"style":742},[2359],{"type":39,"value":745},{"type":24,"tag":723,"props":2361,"children":2362},{"style":730},[2363],{"type":39,"value":1512},{"type":24,"tag":723,"props":2365,"children":2366},{"style":801},[2367],{"type":39,"value":2155},{"type":24,"tag":723,"props":2369,"children":2370},{"style":742},[2371],{"type":39,"value":761},{"type":24,"tag":723,"props":2373,"children":2374},{"style":801},[2375],{"type":39,"value":2178},{"type":24,"tag":723,"props":2377,"children":2378},{"style":742},[2379],{"type":39,"value":2173},{"type":24,"tag":723,"props":2381,"children":2382},{"style":801},[2383],{"type":39,"value":2178},{"type":24,"tag":723,"props":2385,"children":2386},{"style":742},[2387],{"type":39,"value":1957},{"type":24,"tag":723,"props":2389,"children":2390},{"class":725,"line":208},[2391,2396,2400,2404,2408,2412,2417,2421],{"type":24,"tag":723,"props":2392,"children":2393},{"style":742},[2394],{"type":39,"value":2395},"  vec4 s5 ",{"type":24,"tag":723,"props":2397,"children":2398},{"style":730},[2399],{"type":39,"value":788},{"type":24,"tag":723,"props":2401,"children":2402},{"style":736},[2403],{"type":39,"value":2119},{"type":24,"tag":723,"props":2405,"children":2406},{"style":742},[2407],{"type":39,"value":2124},{"type":24,"tag":723,"props":2409,"children":2410},{"style":736},[2411],{"type":39,"value":2129},{"type":24,"tag":723,"props":2413,"children":2414},{"style":742},[2415],{"type":39,"value":2416},"(gl_FragCoord.xy), ",{"type":24,"tag":723,"props":2418,"children":2419},{"style":801},[2420],{"type":39,"value":2178},{"type":24,"tag":723,"props":2422,"children":2423},{"style":742},[2424],{"type":39,"value":1957},{"type":24,"tag":723,"props":2426,"children":2427},{"class":725,"line":1646},[2428,2433,2437,2441,2445,2449,2453,2457,2461,2465,2469,2473,2477,2481,2485],{"type":24,"tag":723,"props":2429,"children":2430},{"style":742},[2431],{"type":39,"value":2432},"  vec4 s6 ",{"type":24,"tag":723,"props":2434,"children":2435},{"style":730},[2436],{"type":39,"value":788},{"type":24,"tag":723,"props":2438,"children":2439},{"style":736},[2440],{"type":39,"value":2119},{"type":24,"tag":723,"props":2442,"children":2443},{"style":742},[2444],{"type":39,"value":2124},{"type":24,"tag":723,"props":2446,"children":2447},{"style":736},[2448],{"type":39,"value":2129},{"type":24,"tag":723,"props":2450,"children":2451},{"style":742},[2452],{"type":39,"value":2134},{"type":24,"tag":723,"props":2454,"children":2455},{"style":730},[2456],{"type":39,"value":1357},{"type":24,"tag":723,"props":2458,"children":2459},{"style":736},[2460],{"type":39,"value":1978},{"type":24,"tag":723,"props":2462,"children":2463},{"style":742},[2464],{"type":39,"value":2223},{"type":24,"tag":723,"props":2466,"children":2467},{"style":801},[2468],{"type":39,"value":2155},{"type":24,"tag":723,"props":2470,"children":2471},{"style":742},[2472],{"type":39,"value":761},{"type":24,"tag":723,"props":2474,"children":2475},{"style":801},[2476],{"type":39,"value":2178},{"type":24,"tag":723,"props":2478,"children":2479},{"style":742},[2480],{"type":39,"value":2173},{"type":24,"tag":723,"props":2482,"children":2483},{"style":801},[2484],{"type":39,"value":2178},{"type":24,"tag":723,"props":2486,"children":2487},{"style":742},[2488],{"type":39,"value":1957},{"type":24,"tag":723,"props":2490,"children":2491},{"class":725,"line":19},[2492,2497,2501,2505,2509,2513,2517,2521,2525,2529,2533,2537,2541,2545,2549,2553],{"type":24,"tag":723,"props":2493,"children":2494},{"style":742},[2495],{"type":39,"value":2496},"  vec4 s7 ",{"type":24,"tag":723,"props":2498,"children":2499},{"style":730},[2500],{"type":39,"value":788},{"type":24,"tag":723,"props":2502,"children":2503},{"style":736},[2504],{"type":39,"value":2119},{"type":24,"tag":723,"props":2506,"children":2507},{"style":742},[2508],{"type":39,"value":2124},{"type":24,"tag":723,"props":2510,"children":2511},{"style":736},[2512],{"type":39,"value":2129},{"type":24,"tag":723,"props":2514,"children":2515},{"style":742},[2516],{"type":39,"value":2134},{"type":24,"tag":723,"props":2518,"children":2519},{"style":730},[2520],{"type":39,"value":1357},{"type":24,"tag":723,"props":2522,"children":2523},{"style":736},[2524],{"type":39,"value":1978},{"type":24,"tag":723,"props":2526,"children":2527},{"style":742},[2528],{"type":39,"value":745},{"type":24,"tag":723,"props":2530,"children":2531},{"style":730},[2532],{"type":39,"value":1512},{"type":24,"tag":723,"props":2534,"children":2535},{"style":801},[2536],{"type":39,"value":2155},{"type":24,"tag":723,"props":2538,"children":2539},{"style":742},[2540],{"type":39,"value":761},{"type":24,"tag":723,"props":2542,"children":2543},{"style":801},[2544],{"type":39,"value":2155},{"type":24,"tag":723,"props":2546,"children":2547},{"style":742},[2548],{"type":39,"value":2173},{"type":24,"tag":723,"props":2550,"children":2551},{"style":801},[2552],{"type":39,"value":2178},{"type":24,"tag":723,"props":2554,"children":2555},{"style":742},[2556],{"type":39,"value":1957},{"type":24,"tag":723,"props":2558,"children":2559},{"class":725,"line":1679},[2560,2565,2569,2573,2577,2581,2585,2589,2593,2597,2601,2605,2609,2613,2617],{"type":24,"tag":723,"props":2561,"children":2562},{"style":742},[2563],{"type":39,"value":2564},"  vec4 s8 ",{"type":24,"tag":723,"props":2566,"children":2567},{"style":730},[2568],{"type":39,"value":788},{"type":24,"tag":723,"props":2570,"children":2571},{"style":736},[2572],{"type":39,"value":2119},{"type":24,"tag":723,"props":2574,"children":2575},{"style":742},[2576],{"type":39,"value":2124},{"type":24,"tag":723,"props":2578,"children":2579},{"style":736},[2580],{"type":39,"value":2129},{"type":24,"tag":723,"props":2582,"children":2583},{"style":742},[2584],{"type":39,"value":2134},{"type":24,"tag":723,"props":2586,"children":2587},{"style":730},[2588],{"type":39,"value":1357},{"type":24,"tag":723,"props":2590,"children":2591},{"style":736},[2592],{"type":39,"value":1978},{"type":24,"tag":723,"props":2594,"children":2595},{"style":742},[2596],{"type":39,"value":2223},{"type":24,"tag":723,"props":2598,"children":2599},{"style":801},[2600],{"type":39,"value":2178},{"type":24,"tag":723,"props":2602,"children":2603},{"style":742},[2604],{"type":39,"value":761},{"type":24,"tag":723,"props":2606,"children":2607},{"style":801},[2608],{"type":39,"value":2155},{"type":24,"tag":723,"props":2610,"children":2611},{"style":742},[2612],{"type":39,"value":2173},{"type":24,"tag":723,"props":2614,"children":2615},{"style":801},[2616],{"type":39,"value":2178},{"type":24,"tag":723,"props":2618,"children":2619},{"style":742},[2620],{"type":39,"value":1957},{"type":24,"tag":723,"props":2622,"children":2623},{"class":725,"line":1744},[2624,2629,2633,2637,2641,2645,2649,2653,2657,2661,2665,2669,2673,2677,2681],{"type":24,"tag":723,"props":2625,"children":2626},{"style":742},[2627],{"type":39,"value":2628},"  vec4 s9 ",{"type":24,"tag":723,"props":2630,"children":2631},{"style":730},[2632],{"type":39,"value":788},{"type":24,"tag":723,"props":2634,"children":2635},{"style":736},[2636],{"type":39,"value":2119},{"type":24,"tag":723,"props":2638,"children":2639},{"style":742},[2640],{"type":39,"value":2124},{"type":24,"tag":723,"props":2642,"children":2643},{"style":736},[2644],{"type":39,"value":2129},{"type":24,"tag":723,"props":2646,"children":2647},{"style":742},[2648],{"type":39,"value":2134},{"type":24,"tag":723,"props":2650,"children":2651},{"style":730},[2652],{"type":39,"value":1357},{"type":24,"tag":723,"props":2654,"children":2655},{"style":736},[2656],{"type":39,"value":1978},{"type":24,"tag":723,"props":2658,"children":2659},{"style":742},[2660],{"type":39,"value":2223},{"type":24,"tag":723,"props":2662,"children":2663},{"style":801},[2664],{"type":39,"value":2155},{"type":24,"tag":723,"props":2666,"children":2667},{"style":742},[2668],{"type":39,"value":761},{"type":24,"tag":723,"props":2670,"children":2671},{"style":801},[2672],{"type":39,"value":2155},{"type":24,"tag":723,"props":2674,"children":2675},{"style":742},[2676],{"type":39,"value":2173},{"type":24,"tag":723,"props":2678,"children":2679},{"style":801},[2680],{"type":39,"value":2178},{"type":24,"tag":723,"props":2682,"children":2683},{"style":742},[2684],{"type":39,"value":1957},{"type":24,"tag":723,"props":2686,"children":2687},{"class":725,"line":1762},[2688],{"type":24,"tag":723,"props":2689,"children":2690},{"emptyLinePlaceholder":18},[2691],{"type":39,"value":1540},{"type":24,"tag":723,"props":2693,"children":2694},{"class":725,"line":1770},[2695,2700,2704,2709,2713,2717,2722,2727,2731,2736,2740,2744,2748,2753,2757,2762,2766,2771,2775,2779,2783,2788,2792,2797,2801,2805,2809,2814,2818,2823,2827,2832],{"type":24,"tag":723,"props":2696,"children":2697},{"style":742},[2698],{"type":39,"value":2699},"  vec4 blur ",{"type":24,"tag":723,"props":2701,"children":2702},{"style":730},[2703],{"type":39,"value":788},{"type":24,"tag":723,"props":2705,"children":2706},{"style":742},[2707],{"type":39,"value":2708}," (s1 ",{"type":24,"tag":723,"props":2710,"children":2711},{"style":730},[2712],{"type":39,"value":1357},{"type":24,"tag":723,"props":2714,"children":2715},{"style":801},[2716],{"type":39,"value":1299},{"type":24,"tag":723,"props":2718,"children":2719},{"style":730},[2720],{"type":39,"value":2721}," *",{"type":24,"tag":723,"props":2723,"children":2724},{"style":742},[2725],{"type":39,"value":2726}," s2 ",{"type":24,"tag":723,"props":2728,"children":2729},{"style":730},[2730],{"type":39,"value":1357},{"type":24,"tag":723,"props":2732,"children":2733},{"style":742},[2734],{"type":39,"value":2735}," s3 ",{"type":24,"tag":723,"props":2737,"children":2738},{"style":730},[2739],{"type":39,"value":1357},{"type":24,"tag":723,"props":2741,"children":2742},{"style":801},[2743],{"type":39,"value":1299},{"type":24,"tag":723,"props":2745,"children":2746},{"style":730},[2747],{"type":39,"value":2721},{"type":24,"tag":723,"props":2749,"children":2750},{"style":742},[2751],{"type":39,"value":2752}," s4 ",{"type":24,"tag":723,"props":2754,"children":2755},{"style":730},[2756],{"type":39,"value":1357},{"type":24,"tag":723,"props":2758,"children":2759},{"style":801},[2760],{"type":39,"value":2761}," 4.0",{"type":24,"tag":723,"props":2763,"children":2764},{"style":730},[2765],{"type":39,"value":2721},{"type":24,"tag":723,"props":2767,"children":2768},{"style":742},[2769],{"type":39,"value":2770}," s5 ",{"type":24,"tag":723,"props":2772,"children":2773},{"style":730},[2774],{"type":39,"value":1357},{"type":24,"tag":723,"props":2776,"children":2777},{"style":801},[2778],{"type":39,"value":1299},{"type":24,"tag":723,"props":2780,"children":2781},{"style":730},[2782],{"type":39,"value":1294},{"type":24,"tag":723,"props":2784,"children":2785},{"style":742},[2786],{"type":39,"value":2787}," s6 ",{"type":24,"tag":723,"props":2789,"children":2790},{"style":730},[2791],{"type":39,"value":1357},{"type":24,"tag":723,"props":2793,"children":2794},{"style":742},[2795],{"type":39,"value":2796}," s7 ",{"type":24,"tag":723,"props":2798,"children":2799},{"style":730},[2800],{"type":39,"value":1357},{"type":24,"tag":723,"props":2802,"children":2803},{"style":801},[2804],{"type":39,"value":1299},{"type":24,"tag":723,"props":2806,"children":2807},{"style":730},[2808],{"type":39,"value":2721},{"type":24,"tag":723,"props":2810,"children":2811},{"style":742},[2812],{"type":39,"value":2813}," s8 ",{"type":24,"tag":723,"props":2815,"children":2816},{"style":730},[2817],{"type":39,"value":1357},{"type":24,"tag":723,"props":2819,"children":2820},{"style":742},[2821],{"type":39,"value":2822}," s9) ",{"type":24,"tag":723,"props":2824,"children":2825},{"style":730},[2826],{"type":39,"value":1572},{"type":24,"tag":723,"props":2828,"children":2829},{"style":801},[2830],{"type":39,"value":2831}," 16.0",{"type":24,"tag":723,"props":2833,"children":2834},{"style":742},[2835],{"type":39,"value":906},{"type":24,"tag":723,"props":2837,"children":2838},{"class":725,"line":1828},[2839],{"type":24,"tag":723,"props":2840,"children":2841},{"emptyLinePlaceholder":18},[2842],{"type":39,"value":1540},{"type":24,"tag":723,"props":2844,"children":2845},{"class":725,"line":1849},[2846,2851,2856,2860,2864],{"type":24,"tag":723,"props":2847,"children":2848},{"style":730},[2849],{"type":39,"value":2850},"  float",{"type":24,"tag":723,"props":2852,"children":2853},{"style":742},[2854],{"type":39,"value":2855}," strength ",{"type":24,"tag":723,"props":2857,"children":2858},{"style":730},[2859],{"type":39,"value":788},{"type":24,"tag":723,"props":2861,"children":2862},{"style":736},[2863],{"type":39,"value":1710},{"type":24,"tag":723,"props":2865,"children":2866},{"style":742},[2867],{"type":39,"value":2868},"(blur.xyz);\n",{"type":24,"tag":723,"props":2870,"children":2872},{"class":725,"line":2871},16,[2873,2878,2882,2887,2892,2896,2901,2906,2910,2915,2920,2924,2928,2932,2936,2941,2945,2950,2954,2959],{"type":24,"tag":723,"props":2874,"children":2875},{"style":742},[2876],{"type":39,"value":2877},"  fColor ",{"type":24,"tag":723,"props":2879,"children":2880},{"style":730},[2881],{"type":39,"value":788},{"type":24,"tag":723,"props":2883,"children":2884},{"style":736},[2885],{"type":39,"value":2886}," vec4",{"type":24,"tag":723,"props":2888,"children":2889},{"style":742},[2890],{"type":39,"value":2891},"(blur.xyz ",{"type":24,"tag":723,"props":2893,"children":2894},{"style":730},[2895],{"type":39,"value":1294},{"type":24,"tag":723,"props":2897,"children":2898},{"style":730},[2899],{"type":39,"value":2900}," float",{"type":24,"tag":723,"props":2902,"children":2903},{"style":742},[2904],{"type":39,"value":2905},"(strength ",{"type":24,"tag":723,"props":2907,"children":2908},{"style":730},[2909],{"type":39,"value":1705},{"type":24,"tag":723,"props":2911,"children":2912},{"style":801},[2913],{"type":39,"value":2914}," 0.0005",{"type":24,"tag":723,"props":2916,"children":2917},{"style":742},[2918],{"type":39,"value":2919},"),",{"type":24,"tag":723,"props":2921,"children":2922},{"style":801},[2923],{"type":39,"value":2155},{"type":24,"tag":723,"props":2925,"children":2926},{"style":742},[2927],{"type":39,"value":887},{"type":24,"tag":723,"props":2929,"children":2930},{"style":730},[2931],{"type":39,"value":1294},{"type":24,"tag":723,"props":2933,"children":2934},{"style":742},[2935],{"type":39,"value":1690},{"type":24,"tag":723,"props":2937,"children":2938},{"style":801},[2939],{"type":39,"value":2940},"1.0",{"type":24,"tag":723,"props":2942,"children":2943},{"style":730},[2944],{"type":39,"value":1512},{"type":24,"tag":723,"props":2946,"children":2947},{"style":742},[2948],{"type":39,"value":2949},"uDiffusionStrength",{"type":24,"tag":723,"props":2951,"children":2952},{"style":730},[2953],{"type":39,"value":1294},{"type":24,"tag":723,"props":2955,"children":2956},{"style":801},[2957],{"type":39,"value":2958},"0.1",{"type":24,"tag":723,"props":2960,"children":2961},{"style":742},[2962],{"type":39,"value":1957},{"type":24,"tag":723,"props":2964,"children":2966},{"class":725,"line":2965},17,[2967],{"type":24,"tag":723,"props":2968,"children":2969},{"style":742},[2970],{"type":39,"value":949},{"type":24,"tag":34,"props":2972,"children":2973},{"id":165},[2974],{"type":39,"value":168},{"type":24,"tag":42,"props":2976,"children":2977},{},[2978],{"type":39,"value":2979},"The results were quite beautiful despite the simplistic rules that were given to the program. I have provided a link to the program and I encourage you to check it out as the lossy compression for webp images lowers the detail that I can show you on this blog.",{"type":24,"tag":328,"props":2981,"children":2982},{},[2983,2987],{"type":24,"tag":126,"props":2984,"children":2986},{"src":2985},"/images/projects/slime/balls.png",[],{"type":24,"tag":126,"props":2988,"children":2990},{"src":2989},"/images/projects/slime/ring.png",[],{"type":24,"tag":328,"props":2992,"children":2993},{},[2994,2998],{"type":24,"tag":126,"props":2995,"children":2997},{"src":2996},"/images/projects/slime/web.png",[],{"type":24,"tag":126,"props":2999,"children":3001},{"src":3000},"/images/projects/slime/depth.png",[],{"type":24,"tag":328,"props":3003,"children":3004},{},[3005,3009],{"type":24,"tag":126,"props":3006,"children":3008},{"src":3007},"/images/projects/slime/neuron.png",[],{"type":24,"tag":126,"props":3010,"children":3012},{"src":3011},"/images/projects/slime/link.png",[],{"type":24,"tag":974,"props":3014,"children":3015},{},[3016],{"type":39,"value":978},{"title":8,"searchDepth":180,"depth":180,"links":3018},[3019,3020,3021,3022,3023,3024],{"id":36,"depth":180,"text":40},{"id":64,"depth":180,"text":67},{"id":116,"depth":180,"text":119},{"id":1202,"depth":180,"text":1205},{"id":2044,"depth":180,"text":2047},{"id":165,"depth":180,"text":168},"content:projects:5.slime-simulation.md","projects/5.slime-simulation.md","projects/5.slime-simulation",{"_path":3029,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":3030,"description":3031,"thumbnail":3032,"technologies":3033,"assets":3037,"github":3038,"showcased":18,"body":3039,"_type":187,"_id":3175,"_source":189,"_file":3176,"_stem":3177,"_extension":192},"/projects/grass-simulation","Grass Simulation","Grass simulation done in unity using, tessellation and geometry shaders. The grass' appearance is inspired by Hoyoverse's Genshin Impact.","/images/projects/grass/thumbnail.webp",[3034,3035,3036],"Unity URP","HLSL","C#","/images/projects/grass","https://github.com/WeichenTie/12-Unity-Grass-Shader",{"type":21,"children":3040,"toc":3165},[3041,3047,3050,3054,3059,3063,3066,3072,3077,3095,3099,3106,3111,3122,3128,3133,3144,3148,3152,3157,3161],{"type":24,"tag":25,"props":3042,"children":3043},{"id":8},[3044],{"type":24,"tag":29,"props":3045,"children":3046},{"value":31},[],{"type":24,"tag":1011,"props":3048,"children":3049},{":to":1013},[],{"type":24,"tag":34,"props":3051,"children":3052},{"id":36},[3053],{"type":39,"value":40},{"type":24,"tag":42,"props":3055,"children":3056},{},[3057],{"type":39,"value":3058},"Throughout late 2020 and 2021, I was heavily invested in a ARPG game called Genshin Impact. One thing that I found really beautiful was the grassy terrain that was present throughout the game so I became really inspired to recreate this effect and hence this project. Although I know that using geometry and tessellation shaders may not have been the best approach, I kind of wanted to have an excuse to learn them while having fun.",{"type":24,"tag":34,"props":3060,"children":3061},{"id":64},[3062],{"type":39,"value":67},{"type":24,"tag":69,"props":3064,"children":3065},{":tags":71},[],{"type":24,"tag":34,"props":3067,"children":3069},{"id":3068},"requirements",[3070],{"type":39,"value":3071},"Requirements",{"type":24,"tag":42,"props":3073,"children":3074},{},[3075],{"type":39,"value":3076},"Simulating realistic grass poses several challenges:",{"type":24,"tag":80,"props":3078,"children":3079},{},[3080,3085,3090],{"type":24,"tag":84,"props":3081,"children":3082},{},[3083],{"type":39,"value":3084},"Performance: Rendering countless individual grass blades can quickly overwhelm even powerful GPUs.",{"type":24,"tag":84,"props":3086,"children":3087},{},[3088],{"type":39,"value":3089},"Detail: Capturing the intricate details of individual blades and their interactions with wind and light requires careful shader design.",{"type":24,"tag":84,"props":3091,"children":3092},{},[3093],{"type":39,"value":3094},"Flexibility: The solution should be adaptable to different terrains shapes.",{"type":24,"tag":34,"props":3096,"children":3097},{"id":116},[3098],{"type":39,"value":119},{"type":24,"tag":3100,"props":3101,"children":3103},"h3",{"id":3102},"tessellation-shader",[3104],{"type":39,"value":3105},"Tessellation Shader",{"type":24,"tag":42,"props":3107,"children":3108},{},[3109],{"type":39,"value":3110},"The tessellation shader was used to dynamically subdivide my terrain mesh where each vertex is a seed for for a grass to grow from. Vertices that are far from the camera are culled to preserve performance.",{"type":24,"tag":328,"props":3112,"children":3113},{},[3114,3118],{"type":24,"tag":126,"props":3115,"children":3117},{"src":3116},"/images/projects/grass/T1.png",[],{"type":24,"tag":126,"props":3119,"children":3121},{"src":3120},"/images/projects/grass/T2.png",[],{"type":24,"tag":3100,"props":3123,"children":3125},{"id":3124},"geometry-shader",[3126],{"type":39,"value":3127},"Geometry Shader",{"type":24,"tag":42,"props":3129,"children":3130},{},[3131],{"type":39,"value":3132},"The geometry shader then analyses each seed point and constructing individual grass blades based on parameters like height, density, and randomness. Furthermore this shader is responsible for interacting with the wind.",{"type":24,"tag":328,"props":3134,"children":3135},{},[3136,3140],{"type":24,"tag":126,"props":3137,"children":3139},{"src":3138},"/images/projects/grass/Tesslv1.png",[],{"type":24,"tag":126,"props":3141,"children":3143},{"src":3142},"/images/projects/grass/Tesslv2.png",[],{"type":24,"tag":126,"props":3145,"children":3147},{"src":3146},"/images/projects/grass/Tesslv3.png",[],{"type":24,"tag":34,"props":3149,"children":3150},{"id":165},[3151],{"type":39,"value":168},{"type":24,"tag":42,"props":3153,"children":3154},{},[3155],{"type":39,"value":3156},"The final result was a dynamic grass system that convincingly mimicked the look and feel of Genshin Impact's terrain. While it may not be the most performant solution, it provided a valuable learning experience and opened my eyes to the possibilities of tessellation and geometry shaders in Unity. There are many optimisations that could still be made but I think I have achieved what I set out to do and will stop it at here for now. Here are some of my results.",{"type":24,"tag":126,"props":3158,"children":3160},{"src":3159},"/images/projects/grass/ball.png",[],{"type":24,"tag":126,"props":3162,"children":3164},{"src":3163},"/images/projects/grass/prototype.webp",[],{"title":8,"searchDepth":180,"depth":180,"links":3166},[3167,3168,3169,3170,3174],{"id":36,"depth":180,"text":40},{"id":64,"depth":180,"text":67},{"id":3068,"depth":180,"text":3071},{"id":116,"depth":180,"text":119,"children":3171},[3172,3173],{"id":3102,"depth":818,"text":3105},{"id":3124,"depth":818,"text":3127},{"id":165,"depth":180,"text":168},"content:projects:6.grass-simulation.md","projects/6.grass-simulation.md","projects/6.grass-simulation",{"_path":3179,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":3180,"description":3181,"thumbnail":3182,"technologies":3183,"assets":3187,"showcased":18,"body":3188,"_type":187,"_id":5962,"_source":189,"_file":5963,"_stem":5964,"_extension":192},"/projects/power-meter","Power Meter","Homemade power meter made using hall effect sensors and an ESP-32.","/images/projects/power-meter/thumbnail.jpg",[3184,3185,3186,202],"ESP-32","C","Electronics","/images/projects/power-meter",{"type":21,"children":3189,"toc":5956},[3190,3196,3200,3213,3217,3220,3224,3229,3251,3256,3260,3265,3269,3274,5939,5943,5948,5952],{"type":24,"tag":25,"props":3191,"children":3192},{"id":8},[3193],{"type":24,"tag":29,"props":3194,"children":3195},{"value":31},[],{"type":24,"tag":34,"props":3197,"children":3198},{"id":36},[3199],{"type":39,"value":40},{"type":24,"tag":42,"props":3201,"children":3202},{},[3203,3205,3211],{"type":39,"value":3204},"I made this power meter during my university group project for DESN2000 where I needed a way to validate the amount of energy generated by our ",{"type":24,"tag":3206,"props":3207,"children":3208},"a",{"href":194},[3209],{"type":39,"value":3210},"backpack",{"type":39,"value":3212},".",{"type":24,"tag":34,"props":3214,"children":3215},{"id":64},[3216],{"type":39,"value":67},{"type":24,"tag":69,"props":3218,"children":3219},{":tags":71},[],{"type":24,"tag":34,"props":3221,"children":3222},{"id":116},[3223],{"type":39,"value":119},{"type":24,"tag":42,"props":3225,"children":3226},{},[3227],{"type":39,"value":3228},"I only wanted to use what I already had on hand at the time which was:",{"type":24,"tag":80,"props":3230,"children":3231},{},[3232,3236,3241,3246],{"type":24,"tag":84,"props":3233,"children":3234},{},[3235],{"type":39,"value":204},{"type":24,"tag":84,"props":3237,"children":3238},{},[3239],{"type":39,"value":3240},"LCD display",{"type":24,"tag":84,"props":3242,"children":3243},{},[3244],{"type":39,"value":3245},"2KΩ resistors",{"type":24,"tag":84,"props":3247,"children":3248},{},[3249],{"type":39,"value":3250},"ACS712 5A current sensor",{"type":24,"tag":42,"props":3252,"children":3253},{},[3254],{"type":39,"value":3255},"After accounting for the required resources, this was the schematic that I ended up with.",{"type":24,"tag":126,"props":3257,"children":3259},{"src":3258},"/images/projects/power-meter/schematics.png",[],{"type":24,"tag":42,"props":3261,"children":3262},{},[3263],{"type":39,"value":3264},"And after assembly, this is what it looks like.",{"type":24,"tag":126,"props":3266,"children":3268},{"src":3267},"/images/projects/power-meter/assembled.jpg",[],{"type":24,"tag":42,"props":3270,"children":3271},{},[3272],{"type":39,"value":3273},"I then wrote the following code for the ESP-32 to interpert the sensor readings and output it to the LCD display.",{"type":24,"tag":712,"props":3275,"children":3279},{"className":3276,"code":3277,"language":3278,"meta":8,"style":8},"language-c++ shiki shiki-themes github-light github-dark","#include \u003CLiquidCrystal_I2C.h>\n#define READINGS_LEN 64\n#define DELTA_TIME 6\ndouble CURRENT_CALIBRATION_OFFSET = 0.0;\ndouble VOLTAGE_CALIBRATION_OFFSET = 0.0;\ndouble* currentReadings = new double[READINGS_LEN]();\ndouble* voltageReadings = new double[READINGS_LEN]();\ndouble joules = 0;\nLiquidCrystal_I2C lcd(0x27, 16, 2);  // I2C address 0x27, 16 column and 2 rows\nunsigned long lastLcdRefresh = 100000000;\n\n// Average of an array\ndouble average(double array[], int len) {\n  double sum = 0.0;\n  for (int i = 0; i \u003C len; i++)\n    sum += array[i];\n  return sum / len;\n}\n\n// Shifts the array right\nvoid shift_right(double array[], int len) {\n  for (int i = len - 1; i > 0; i--) {\n    array[i] = array[i - 1];\n  }\n  array[0] = 0.0;\n}\n\nvoid calibrate() {\n  const int totalCalibrationCycles = 120;\n  double totalVoltageDiff = 0.0;\n  double totalCurrentDiff = 0.0;\n  lcd.clear();\n  lcd.setCursor(0, 0);\n  for (int i = 0; i \u003C totalCalibrationCycles; i++) {\n    int adc = analogRead(34);\n    double loadVoltage = analogRead(35) * 3.3 / 4095.0 * 2.0;\n    double sensorVoltage = adc * 3.3 / 4095.0;\n    double current = (sensorVoltage - 4.92 / 2.0) / 0.185;\n    // No voltage and current at the start.\n    double voltageDiff = 0 - loadVoltage;\n    double currentDiff = 0 - current;\n    // Add difference to the calibration results\n    totalVoltageDiff += voltageDiff;\n    totalCurrentDiff += currentDiff;\n    // Display calibration status to lcd\n    lcd.setCursor(0, 0);\n    lcd.print(\"Calib..\");\n    lcd.setCursor(8, 0);\n    lcd.print(\"i: \");\n    lcd.print(i);\n    lcd.setCursor(0, 1);\n    lcd.print(\"V: \");\n    lcd.print(totalVoltageDiff / (double)i);\n    lcd.setCursor(8, 1);\n    lcd.print(\"A: \");\n    lcd.print(totalCurrentDiff / (double)i);\n    delay(6);\n  }\n  // Update calibration offsets\n  VOLTAGE_CALIBRATION_OFFSET = totalVoltageDiff / totalCalibrationCycles;\n  CURRENT_CALIBRATION_OFFSET = totalCurrentDiff / totalCalibrationCycles;\n}\n\nvoid setup() {\n  lcd.init();  // initialize the lcd\n  lcd.backlight();\n  calibrate();\n}\nvoid loop() {\n  // Obtain input\n  int adc = analogRead(34);\n  double loadVoltage = analogRead(35) * 3.3 / 4095.0 * 2.0 + VOLTAGE_CALIBRATION_OFFSET;\n  if (loadVoltage \u003C VOLTAGE_CALIBRATION_OFFSET + 0.05) loadVoltage = 0;\n  double sensorVoltage = adc * 3.3 / 4095.0;\n  double current = (sensorVoltage - 4.92 / 2.0) / 0.185 + CURRENT_CALIBRATION_OFFSET;\n  if (current \u003C 0.05) current = 0;\n  // Calculate average current\n  double averagedCurrent = average(currentReadings, READINGS_LEN);\n  shift_right(currentReadings, READINGS_LEN);\n  currentReadings[0] = current;\n  if (averagedCurrent \u003C 0.035) averagedCurrent = 0;\n  // Calculate average voltage\n  double averagedVoltage = average(voltageReadings, READINGS_LEN);\n  shift_right(voltageReadings, READINGS_LEN);\n  voltageReadings[0] = loadVoltage;\n  // Calculate total energy generated\n  joules += averagedVoltage * averagedCurrent * DELTA_TIME / 1000.0;\n  // Display to LCD\n  if (lastLcdRefresh > 500) {\n    lcd.clear();\n    lcd.setCursor(0, 0);\n    lcd.print(averagedVoltage);\n    lcd.print(\" V\");\n    lcd.setCursor(8, 0);\n    lcd.print(averagedCurrent);\n    lcd.print(\" A\");\n    lcd.setCursor(0, 1);\n    lcd.print(averagedCurrent * averagedVoltage);\n    lcd.print(\" W\");\n    lcd.setCursor(8, 1);\n    lcd.print(joules);\n    lcd.print(\" J\");\n    lastLcdRefresh = 0;\n  }\n  lastLcdRefresh += DELTA_TIME;\n  delay(DELTA_TIME);\n}\n\n","c++",[3280],{"type":24,"tag":719,"props":3281,"children":3282},{"__ignoreMap":8},[3283,3297,3315,3332,3357,3381,3413,3441,3466,3521,3552,3559,3567,3611,3636,3690,3707,3728,3736,3744,3753,3794,3858,3889,3898,3928,3936,3944,3962,3994,4019,4044,4063,4096,4145,4181,4247,4288,4344,4353,4383,4413,4422,4440,4458,4467,4500,4526,4559,4584,4601,4633,4658,4692,4724,4749,4782,4804,4812,4821,4847,4872,4880,4888,4905,4928,4945,4958,4966,4983,4992,5025,5091,5139,5179,5236,5274,5283,5309,5322,5347,5386,5395,5421,5433,5458,5467,5514,5523,5549,5565,5597,5614,5639,5671,5688,5713,5745,5771,5796,5828,5845,5870,5891,5899,5917,5931],{"type":24,"tag":723,"props":3284,"children":3285},{"class":725,"line":726},[3286,3291],{"type":24,"tag":723,"props":3287,"children":3288},{"style":730},[3289],{"type":39,"value":3290},"#include",{"type":24,"tag":723,"props":3292,"children":3294},{"style":3293},"--shiki-default:#032F62;--shiki-dark:#9ECBFF",[3295],{"type":39,"value":3296}," \u003CLiquidCrystal_I2C.h>\n",{"type":24,"tag":723,"props":3298,"children":3299},{"class":725,"line":180},[3300,3305,3310],{"type":24,"tag":723,"props":3301,"children":3302},{"style":730},[3303],{"type":39,"value":3304},"#define",{"type":24,"tag":723,"props":3306,"children":3307},{"style":736},[3308],{"type":39,"value":3309}," READINGS_LEN",{"type":24,"tag":723,"props":3311,"children":3312},{"style":801},[3313],{"type":39,"value":3314}," 64\n",{"type":24,"tag":723,"props":3316,"children":3317},{"class":725,"line":818},[3318,3322,3327],{"type":24,"tag":723,"props":3319,"children":3320},{"style":730},[3321],{"type":39,"value":3304},{"type":24,"tag":723,"props":3323,"children":3324},{"style":736},[3325],{"type":39,"value":3326}," DELTA_TIME",{"type":24,"tag":723,"props":3328,"children":3329},{"style":801},[3330],{"type":39,"value":3331}," 6\n",{"type":24,"tag":723,"props":3333,"children":3334},{"class":725,"line":859},[3335,3340,3345,3349,3353],{"type":24,"tag":723,"props":3336,"children":3337},{"style":730},[3338],{"type":39,"value":3339},"double",{"type":24,"tag":723,"props":3341,"children":3342},{"style":742},[3343],{"type":39,"value":3344}," CURRENT_CALIBRATION_OFFSET ",{"type":24,"tag":723,"props":3346,"children":3347},{"style":730},[3348],{"type":39,"value":788},{"type":24,"tag":723,"props":3350,"children":3351},{"style":801},[3352],{"type":39,"value":1672},{"type":24,"tag":723,"props":3354,"children":3355},{"style":742},[3356],{"type":39,"value":906},{"type":24,"tag":723,"props":3358,"children":3359},{"class":725,"line":909},[3360,3364,3369,3373,3377],{"type":24,"tag":723,"props":3361,"children":3362},{"style":730},[3363],{"type":39,"value":3339},{"type":24,"tag":723,"props":3365,"children":3366},{"style":742},[3367],{"type":39,"value":3368}," VOLTAGE_CALIBRATION_OFFSET ",{"type":24,"tag":723,"props":3370,"children":3371},{"style":730},[3372],{"type":39,"value":788},{"type":24,"tag":723,"props":3374,"children":3375},{"style":801},[3376],{"type":39,"value":1672},{"type":24,"tag":723,"props":3378,"children":3379},{"style":742},[3380],{"type":39,"value":906},{"type":24,"tag":723,"props":3382,"children":3383},{"class":725,"line":943},[3384,3389,3394,3398,3403,3408],{"type":24,"tag":723,"props":3385,"children":3386},{"style":730},[3387],{"type":39,"value":3388},"double*",{"type":24,"tag":723,"props":3390,"children":3391},{"style":742},[3392],{"type":39,"value":3393}," currentReadings ",{"type":24,"tag":723,"props":3395,"children":3396},{"style":730},[3397],{"type":39,"value":788},{"type":24,"tag":723,"props":3399,"children":3400},{"style":730},[3401],{"type":39,"value":3402}," new",{"type":24,"tag":723,"props":3404,"children":3405},{"style":730},[3406],{"type":39,"value":3407}," double",{"type":24,"tag":723,"props":3409,"children":3410},{"style":742},[3411],{"type":39,"value":3412},"[READINGS_LEN]();\n",{"type":24,"tag":723,"props":3414,"children":3415},{"class":725,"line":208},[3416,3420,3425,3429,3433,3437],{"type":24,"tag":723,"props":3417,"children":3418},{"style":730},[3419],{"type":39,"value":3388},{"type":24,"tag":723,"props":3421,"children":3422},{"style":742},[3423],{"type":39,"value":3424}," voltageReadings ",{"type":24,"tag":723,"props":3426,"children":3427},{"style":730},[3428],{"type":39,"value":788},{"type":24,"tag":723,"props":3430,"children":3431},{"style":730},[3432],{"type":39,"value":3402},{"type":24,"tag":723,"props":3434,"children":3435},{"style":730},[3436],{"type":39,"value":3407},{"type":24,"tag":723,"props":3438,"children":3439},{"style":742},[3440],{"type":39,"value":3412},{"type":24,"tag":723,"props":3442,"children":3443},{"class":725,"line":1646},[3444,3448,3453,3457,3462],{"type":24,"tag":723,"props":3445,"children":3446},{"style":730},[3447],{"type":39,"value":3339},{"type":24,"tag":723,"props":3449,"children":3450},{"style":742},[3451],{"type":39,"value":3452}," joules ",{"type":24,"tag":723,"props":3454,"children":3455},{"style":730},[3456],{"type":39,"value":788},{"type":24,"tag":723,"props":3458,"children":3459},{"style":801},[3460],{"type":39,"value":3461}," 0",{"type":24,"tag":723,"props":3463,"children":3464},{"style":742},[3465],{"type":39,"value":906},{"type":24,"tag":723,"props":3467,"children":3468},{"class":725,"line":19},[3469,3474,3479,3483,3488,3493,3497,3502,3506,3511,3516],{"type":24,"tag":723,"props":3470,"children":3471},{"style":736},[3472],{"type":39,"value":3473},"LiquidCrystal_I2C",{"type":24,"tag":723,"props":3475,"children":3476},{"style":736},[3477],{"type":39,"value":3478}," lcd",{"type":24,"tag":723,"props":3480,"children":3481},{"style":742},[3482],{"type":39,"value":745},{"type":24,"tag":723,"props":3484,"children":3485},{"style":730},[3486],{"type":39,"value":3487},"0x",{"type":24,"tag":723,"props":3489,"children":3490},{"style":801},[3491],{"type":39,"value":3492},"27",{"type":24,"tag":723,"props":3494,"children":3495},{"style":742},[3496],{"type":39,"value":761},{"type":24,"tag":723,"props":3498,"children":3499},{"style":801},[3500],{"type":39,"value":3501},"16",{"type":24,"tag":723,"props":3503,"children":3504},{"style":742},[3505],{"type":39,"value":761},{"type":24,"tag":723,"props":3507,"children":3508},{"style":801},[3509],{"type":39,"value":3510},"2",{"type":24,"tag":723,"props":3512,"children":3513},{"style":742},[3514],{"type":39,"value":3515},");",{"type":24,"tag":723,"props":3517,"children":3518},{"style":812},[3519],{"type":39,"value":3520},"  // I2C address 0x27, 16 column and 2 rows\n",{"type":24,"tag":723,"props":3522,"children":3523},{"class":725,"line":1679},[3524,3529,3534,3539,3543,3548],{"type":24,"tag":723,"props":3525,"children":3526},{"style":730},[3527],{"type":39,"value":3528},"unsigned",{"type":24,"tag":723,"props":3530,"children":3531},{"style":730},[3532],{"type":39,"value":3533}," long",{"type":24,"tag":723,"props":3535,"children":3536},{"style":742},[3537],{"type":39,"value":3538}," lastLcdRefresh ",{"type":24,"tag":723,"props":3540,"children":3541},{"style":730},[3542],{"type":39,"value":788},{"type":24,"tag":723,"props":3544,"children":3545},{"style":801},[3546],{"type":39,"value":3547}," 100000000",{"type":24,"tag":723,"props":3549,"children":3550},{"style":742},[3551],{"type":39,"value":906},{"type":24,"tag":723,"props":3553,"children":3554},{"class":725,"line":1744},[3555],{"type":24,"tag":723,"props":3556,"children":3557},{"emptyLinePlaceholder":18},[3558],{"type":39,"value":1540},{"type":24,"tag":723,"props":3560,"children":3561},{"class":725,"line":1762},[3562],{"type":24,"tag":723,"props":3563,"children":3564},{"style":812},[3565],{"type":39,"value":3566},"// Average of an array\n",{"type":24,"tag":723,"props":3568,"children":3569},{"class":725,"line":1770},[3570,3574,3579,3583,3587,3592,3597,3602,3607],{"type":24,"tag":723,"props":3571,"children":3572},{"style":730},[3573],{"type":39,"value":3339},{"type":24,"tag":723,"props":3575,"children":3576},{"style":736},[3577],{"type":39,"value":3578}," average",{"type":24,"tag":723,"props":3580,"children":3581},{"style":742},[3582],{"type":39,"value":745},{"type":24,"tag":723,"props":3584,"children":3585},{"style":730},[3586],{"type":39,"value":3339},{"type":24,"tag":723,"props":3588,"children":3589},{"style":753},[3590],{"type":39,"value":3591}," array",{"type":24,"tag":723,"props":3593,"children":3594},{"style":742},[3595],{"type":39,"value":3596},"[], ",{"type":24,"tag":723,"props":3598,"children":3599},{"style":730},[3600],{"type":39,"value":3601},"int",{"type":24,"tag":723,"props":3603,"children":3604},{"style":753},[3605],{"type":39,"value":3606}," len",{"type":24,"tag":723,"props":3608,"children":3609},{"style":742},[3610],{"type":39,"value":775},{"type":24,"tag":723,"props":3612,"children":3613},{"class":725,"line":1828},[3614,3619,3624,3628,3632],{"type":24,"tag":723,"props":3615,"children":3616},{"style":730},[3617],{"type":39,"value":3618},"  double",{"type":24,"tag":723,"props":3620,"children":3621},{"style":742},[3622],{"type":39,"value":3623}," sum ",{"type":24,"tag":723,"props":3625,"children":3626},{"style":730},[3627],{"type":39,"value":788},{"type":24,"tag":723,"props":3629,"children":3630},{"style":801},[3631],{"type":39,"value":1672},{"type":24,"tag":723,"props":3633,"children":3634},{"style":742},[3635],{"type":39,"value":906},{"type":24,"tag":723,"props":3637,"children":3638},{"class":725,"line":1849},[3639,3644,3648,3652,3657,3661,3665,3670,3675,3680,3685],{"type":24,"tag":723,"props":3640,"children":3641},{"style":730},[3642],{"type":39,"value":3643},"  for",{"type":24,"tag":723,"props":3645,"children":3646},{"style":742},[3647],{"type":39,"value":1690},{"type":24,"tag":723,"props":3649,"children":3650},{"style":730},[3651],{"type":39,"value":3601},{"type":24,"tag":723,"props":3653,"children":3654},{"style":742},[3655],{"type":39,"value":3656}," i ",{"type":24,"tag":723,"props":3658,"children":3659},{"style":730},[3660],{"type":39,"value":788},{"type":24,"tag":723,"props":3662,"children":3663},{"style":801},[3664],{"type":39,"value":3461},{"type":24,"tag":723,"props":3666,"children":3667},{"style":742},[3668],{"type":39,"value":3669},"; i ",{"type":24,"tag":723,"props":3671,"children":3672},{"style":730},[3673],{"type":39,"value":3674},"\u003C",{"type":24,"tag":723,"props":3676,"children":3677},{"style":742},[3678],{"type":39,"value":3679}," len; i",{"type":24,"tag":723,"props":3681,"children":3682},{"style":730},[3683],{"type":39,"value":3684},"++",{"type":24,"tag":723,"props":3686,"children":3687},{"style":742},[3688],{"type":39,"value":3689},")\n",{"type":24,"tag":723,"props":3691,"children":3692},{"class":725,"line":2871},[3693,3698,3702],{"type":24,"tag":723,"props":3694,"children":3695},{"style":742},[3696],{"type":39,"value":3697},"    sum ",{"type":24,"tag":723,"props":3699,"children":3700},{"style":730},[3701],{"type":39,"value":1879},{"type":24,"tag":723,"props":3703,"children":3704},{"style":742},[3705],{"type":39,"value":3706}," array[i];\n",{"type":24,"tag":723,"props":3708,"children":3709},{"class":725,"line":2965},[3710,3715,3719,3723],{"type":24,"tag":723,"props":3711,"children":3712},{"style":730},[3713],{"type":39,"value":3714},"  return",{"type":24,"tag":723,"props":3716,"children":3717},{"style":742},[3718],{"type":39,"value":3623},{"type":24,"tag":723,"props":3720,"children":3721},{"style":730},[3722],{"type":39,"value":1572},{"type":24,"tag":723,"props":3724,"children":3725},{"style":742},[3726],{"type":39,"value":3727}," len;\n",{"type":24,"tag":723,"props":3729,"children":3731},{"class":725,"line":3730},18,[3732],{"type":24,"tag":723,"props":3733,"children":3734},{"style":742},[3735],{"type":39,"value":949},{"type":24,"tag":723,"props":3737,"children":3739},{"class":725,"line":3738},19,[3740],{"type":24,"tag":723,"props":3741,"children":3742},{"emptyLinePlaceholder":18},[3743],{"type":39,"value":1540},{"type":24,"tag":723,"props":3745,"children":3747},{"class":725,"line":3746},20,[3748],{"type":24,"tag":723,"props":3749,"children":3750},{"style":812},[3751],{"type":39,"value":3752},"// Shifts the array right\n",{"type":24,"tag":723,"props":3754,"children":3756},{"class":725,"line":3755},21,[3757,3761,3766,3770,3774,3778,3782,3786,3790],{"type":24,"tag":723,"props":3758,"children":3759},{"style":730},[3760],{"type":39,"value":733},{"type":24,"tag":723,"props":3762,"children":3763},{"style":736},[3764],{"type":39,"value":3765}," shift_right",{"type":24,"tag":723,"props":3767,"children":3768},{"style":742},[3769],{"type":39,"value":745},{"type":24,"tag":723,"props":3771,"children":3772},{"style":730},[3773],{"type":39,"value":3339},{"type":24,"tag":723,"props":3775,"children":3776},{"style":753},[3777],{"type":39,"value":3591},{"type":24,"tag":723,"props":3779,"children":3780},{"style":742},[3781],{"type":39,"value":3596},{"type":24,"tag":723,"props":3783,"children":3784},{"style":730},[3785],{"type":39,"value":3601},{"type":24,"tag":723,"props":3787,"children":3788},{"style":753},[3789],{"type":39,"value":3606},{"type":24,"tag":723,"props":3791,"children":3792},{"style":742},[3793],{"type":39,"value":775},{"type":24,"tag":723,"props":3795,"children":3797},{"class":725,"line":3796},22,[3798,3802,3806,3810,3814,3818,3823,3827,3832,3836,3840,3844,3849,3854],{"type":24,"tag":723,"props":3799,"children":3800},{"style":730},[3801],{"type":39,"value":3643},{"type":24,"tag":723,"props":3803,"children":3804},{"style":742},[3805],{"type":39,"value":1690},{"type":24,"tag":723,"props":3807,"children":3808},{"style":730},[3809],{"type":39,"value":3601},{"type":24,"tag":723,"props":3811,"children":3812},{"style":742},[3813],{"type":39,"value":3656},{"type":24,"tag":723,"props":3815,"children":3816},{"style":730},[3817],{"type":39,"value":788},{"type":24,"tag":723,"props":3819,"children":3820},{"style":742},[3821],{"type":39,"value":3822}," len ",{"type":24,"tag":723,"props":3824,"children":3825},{"style":730},[3826],{"type":39,"value":1512},{"type":24,"tag":723,"props":3828,"children":3829},{"style":801},[3830],{"type":39,"value":3831}," 1",{"type":24,"tag":723,"props":3833,"children":3834},{"style":742},[3835],{"type":39,"value":3669},{"type":24,"tag":723,"props":3837,"children":3838},{"style":730},[3839],{"type":39,"value":1705},{"type":24,"tag":723,"props":3841,"children":3842},{"style":801},[3843],{"type":39,"value":3461},{"type":24,"tag":723,"props":3845,"children":3846},{"style":742},[3847],{"type":39,"value":3848},"; i",{"type":24,"tag":723,"props":3850,"children":3851},{"style":730},[3852],{"type":39,"value":3853},"--",{"type":24,"tag":723,"props":3855,"children":3856},{"style":742},[3857],{"type":39,"value":775},{"type":24,"tag":723,"props":3859,"children":3861},{"class":725,"line":3860},23,[3862,3867,3871,3876,3880,3884],{"type":24,"tag":723,"props":3863,"children":3864},{"style":742},[3865],{"type":39,"value":3866},"    array[i] ",{"type":24,"tag":723,"props":3868,"children":3869},{"style":730},[3870],{"type":39,"value":788},{"type":24,"tag":723,"props":3872,"children":3873},{"style":742},[3874],{"type":39,"value":3875}," array[i ",{"type":24,"tag":723,"props":3877,"children":3878},{"style":730},[3879],{"type":39,"value":1512},{"type":24,"tag":723,"props":3881,"children":3882},{"style":801},[3883],{"type":39,"value":3831},{"type":24,"tag":723,"props":3885,"children":3886},{"style":742},[3887],{"type":39,"value":3888},"];\n",{"type":24,"tag":723,"props":3890,"children":3892},{"class":725,"line":3891},24,[3893],{"type":24,"tag":723,"props":3894,"children":3895},{"style":742},[3896],{"type":39,"value":3897},"  }\n",{"type":24,"tag":723,"props":3899,"children":3901},{"class":725,"line":3900},25,[3902,3907,3911,3916,3920,3924],{"type":24,"tag":723,"props":3903,"children":3904},{"style":742},[3905],{"type":39,"value":3906},"  array[",{"type":24,"tag":723,"props":3908,"children":3909},{"style":801},[3910],{"type":39,"value":2178},{"type":24,"tag":723,"props":3912,"children":3913},{"style":742},[3914],{"type":39,"value":3915},"] ",{"type":24,"tag":723,"props":3917,"children":3918},{"style":730},[3919],{"type":39,"value":788},{"type":24,"tag":723,"props":3921,"children":3922},{"style":801},[3923],{"type":39,"value":1672},{"type":24,"tag":723,"props":3925,"children":3926},{"style":742},[3927],{"type":39,"value":906},{"type":24,"tag":723,"props":3929,"children":3931},{"class":725,"line":3930},26,[3932],{"type":24,"tag":723,"props":3933,"children":3934},{"style":742},[3935],{"type":39,"value":949},{"type":24,"tag":723,"props":3937,"children":3939},{"class":725,"line":3938},27,[3940],{"type":24,"tag":723,"props":3941,"children":3942},{"emptyLinePlaceholder":18},[3943],{"type":39,"value":1540},{"type":24,"tag":723,"props":3945,"children":3947},{"class":725,"line":3946},28,[3948,3952,3957],{"type":24,"tag":723,"props":3949,"children":3950},{"style":730},[3951],{"type":39,"value":733},{"type":24,"tag":723,"props":3953,"children":3954},{"style":736},[3955],{"type":39,"value":3956}," calibrate",{"type":24,"tag":723,"props":3958,"children":3959},{"style":742},[3960],{"type":39,"value":3961},"() {\n",{"type":24,"tag":723,"props":3963,"children":3965},{"class":725,"line":3964},29,[3966,3971,3976,3981,3985,3990],{"type":24,"tag":723,"props":3967,"children":3968},{"style":730},[3969],{"type":39,"value":3970},"  const",{"type":24,"tag":723,"props":3972,"children":3973},{"style":730},[3974],{"type":39,"value":3975}," int",{"type":24,"tag":723,"props":3977,"children":3978},{"style":742},[3979],{"type":39,"value":3980}," totalCalibrationCycles ",{"type":24,"tag":723,"props":3982,"children":3983},{"style":730},[3984],{"type":39,"value":788},{"type":24,"tag":723,"props":3986,"children":3987},{"style":801},[3988],{"type":39,"value":3989}," 120",{"type":24,"tag":723,"props":3991,"children":3992},{"style":742},[3993],{"type":39,"value":906},{"type":24,"tag":723,"props":3995,"children":3997},{"class":725,"line":3996},30,[3998,4002,4007,4011,4015],{"type":24,"tag":723,"props":3999,"children":4000},{"style":730},[4001],{"type":39,"value":3618},{"type":24,"tag":723,"props":4003,"children":4004},{"style":742},[4005],{"type":39,"value":4006}," totalVoltageDiff ",{"type":24,"tag":723,"props":4008,"children":4009},{"style":730},[4010],{"type":39,"value":788},{"type":24,"tag":723,"props":4012,"children":4013},{"style":801},[4014],{"type":39,"value":1672},{"type":24,"tag":723,"props":4016,"children":4017},{"style":742},[4018],{"type":39,"value":906},{"type":24,"tag":723,"props":4020,"children":4022},{"class":725,"line":4021},31,[4023,4027,4032,4036,4040],{"type":24,"tag":723,"props":4024,"children":4025},{"style":730},[4026],{"type":39,"value":3618},{"type":24,"tag":723,"props":4028,"children":4029},{"style":742},[4030],{"type":39,"value":4031}," totalCurrentDiff ",{"type":24,"tag":723,"props":4033,"children":4034},{"style":730},[4035],{"type":39,"value":788},{"type":24,"tag":723,"props":4037,"children":4038},{"style":801},[4039],{"type":39,"value":1672},{"type":24,"tag":723,"props":4041,"children":4042},{"style":742},[4043],{"type":39,"value":906},{"type":24,"tag":723,"props":4045,"children":4047},{"class":725,"line":4046},32,[4048,4053,4058],{"type":24,"tag":723,"props":4049,"children":4050},{"style":742},[4051],{"type":39,"value":4052},"  lcd.",{"type":24,"tag":723,"props":4054,"children":4055},{"style":736},[4056],{"type":39,"value":4057},"clear",{"type":24,"tag":723,"props":4059,"children":4060},{"style":742},[4061],{"type":39,"value":4062},"();\n",{"type":24,"tag":723,"props":4064,"children":4066},{"class":725,"line":4065},33,[4067,4071,4076,4080,4084,4088,4092],{"type":24,"tag":723,"props":4068,"children":4069},{"style":742},[4070],{"type":39,"value":4052},{"type":24,"tag":723,"props":4072,"children":4073},{"style":736},[4074],{"type":39,"value":4075},"setCursor",{"type":24,"tag":723,"props":4077,"children":4078},{"style":742},[4079],{"type":39,"value":745},{"type":24,"tag":723,"props":4081,"children":4082},{"style":801},[4083],{"type":39,"value":2178},{"type":24,"tag":723,"props":4085,"children":4086},{"style":742},[4087],{"type":39,"value":761},{"type":24,"tag":723,"props":4089,"children":4090},{"style":801},[4091],{"type":39,"value":2178},{"type":24,"tag":723,"props":4093,"children":4094},{"style":742},[4095],{"type":39,"value":1957},{"type":24,"tag":723,"props":4097,"children":4099},{"class":725,"line":4098},34,[4100,4104,4108,4112,4116,4120,4124,4128,4132,4137,4141],{"type":24,"tag":723,"props":4101,"children":4102},{"style":730},[4103],{"type":39,"value":3643},{"type":24,"tag":723,"props":4105,"children":4106},{"style":742},[4107],{"type":39,"value":1690},{"type":24,"tag":723,"props":4109,"children":4110},{"style":730},[4111],{"type":39,"value":3601},{"type":24,"tag":723,"props":4113,"children":4114},{"style":742},[4115],{"type":39,"value":3656},{"type":24,"tag":723,"props":4117,"children":4118},{"style":730},[4119],{"type":39,"value":788},{"type":24,"tag":723,"props":4121,"children":4122},{"style":801},[4123],{"type":39,"value":3461},{"type":24,"tag":723,"props":4125,"children":4126},{"style":742},[4127],{"type":39,"value":3669},{"type":24,"tag":723,"props":4129,"children":4130},{"style":730},[4131],{"type":39,"value":3674},{"type":24,"tag":723,"props":4133,"children":4134},{"style":742},[4135],{"type":39,"value":4136}," totalCalibrationCycles; i",{"type":24,"tag":723,"props":4138,"children":4139},{"style":730},[4140],{"type":39,"value":3684},{"type":24,"tag":723,"props":4142,"children":4143},{"style":742},[4144],{"type":39,"value":775},{"type":24,"tag":723,"props":4146,"children":4148},{"class":725,"line":4147},35,[4149,4154,4159,4163,4168,4172,4177],{"type":24,"tag":723,"props":4150,"children":4151},{"style":730},[4152],{"type":39,"value":4153},"    int",{"type":24,"tag":723,"props":4155,"children":4156},{"style":742},[4157],{"type":39,"value":4158}," adc ",{"type":24,"tag":723,"props":4160,"children":4161},{"style":730},[4162],{"type":39,"value":788},{"type":24,"tag":723,"props":4164,"children":4165},{"style":736},[4166],{"type":39,"value":4167}," analogRead",{"type":24,"tag":723,"props":4169,"children":4170},{"style":742},[4171],{"type":39,"value":745},{"type":24,"tag":723,"props":4173,"children":4174},{"style":801},[4175],{"type":39,"value":4176},"34",{"type":24,"tag":723,"props":4178,"children":4179},{"style":742},[4180],{"type":39,"value":1957},{"type":24,"tag":723,"props":4182,"children":4184},{"class":725,"line":4183},36,[4185,4190,4195,4199,4203,4207,4212,4216,4220,4225,4230,4235,4239,4243],{"type":24,"tag":723,"props":4186,"children":4187},{"style":730},[4188],{"type":39,"value":4189},"    double",{"type":24,"tag":723,"props":4191,"children":4192},{"style":742},[4193],{"type":39,"value":4194}," loadVoltage ",{"type":24,"tag":723,"props":4196,"children":4197},{"style":730},[4198],{"type":39,"value":788},{"type":24,"tag":723,"props":4200,"children":4201},{"style":736},[4202],{"type":39,"value":4167},{"type":24,"tag":723,"props":4204,"children":4205},{"style":742},[4206],{"type":39,"value":745},{"type":24,"tag":723,"props":4208,"children":4209},{"style":801},[4210],{"type":39,"value":4211},"35",{"type":24,"tag":723,"props":4213,"children":4214},{"style":742},[4215],{"type":39,"value":887},{"type":24,"tag":723,"props":4217,"children":4218},{"style":730},[4219],{"type":39,"value":1294},{"type":24,"tag":723,"props":4221,"children":4222},{"style":801},[4223],{"type":39,"value":4224}," 3.3",{"type":24,"tag":723,"props":4226,"children":4227},{"style":730},[4228],{"type":39,"value":4229}," /",{"type":24,"tag":723,"props":4231,"children":4232},{"style":801},[4233],{"type":39,"value":4234}," 4095.0",{"type":24,"tag":723,"props":4236,"children":4237},{"style":730},[4238],{"type":39,"value":2721},{"type":24,"tag":723,"props":4240,"children":4241},{"style":801},[4242],{"type":39,"value":1299},{"type":24,"tag":723,"props":4244,"children":4245},{"style":742},[4246],{"type":39,"value":906},{"type":24,"tag":723,"props":4248,"children":4250},{"class":725,"line":4249},37,[4251,4255,4260,4264,4268,4272,4276,4280,4284],{"type":24,"tag":723,"props":4252,"children":4253},{"style":730},[4254],{"type":39,"value":4189},{"type":24,"tag":723,"props":4256,"children":4257},{"style":742},[4258],{"type":39,"value":4259}," sensorVoltage ",{"type":24,"tag":723,"props":4261,"children":4262},{"style":730},[4263],{"type":39,"value":788},{"type":24,"tag":723,"props":4265,"children":4266},{"style":742},[4267],{"type":39,"value":4158},{"type":24,"tag":723,"props":4269,"children":4270},{"style":730},[4271],{"type":39,"value":1294},{"type":24,"tag":723,"props":4273,"children":4274},{"style":801},[4275],{"type":39,"value":4224},{"type":24,"tag":723,"props":4277,"children":4278},{"style":730},[4279],{"type":39,"value":4229},{"type":24,"tag":723,"props":4281,"children":4282},{"style":801},[4283],{"type":39,"value":4234},{"type":24,"tag":723,"props":4285,"children":4286},{"style":742},[4287],{"type":39,"value":906},{"type":24,"tag":723,"props":4289,"children":4291},{"class":725,"line":4290},38,[4292,4296,4301,4305,4310,4314,4319,4323,4327,4331,4335,4340],{"type":24,"tag":723,"props":4293,"children":4294},{"style":730},[4295],{"type":39,"value":4189},{"type":24,"tag":723,"props":4297,"children":4298},{"style":742},[4299],{"type":39,"value":4300}," current ",{"type":24,"tag":723,"props":4302,"children":4303},{"style":730},[4304],{"type":39,"value":788},{"type":24,"tag":723,"props":4306,"children":4307},{"style":742},[4308],{"type":39,"value":4309}," (sensorVoltage ",{"type":24,"tag":723,"props":4311,"children":4312},{"style":730},[4313],{"type":39,"value":1512},{"type":24,"tag":723,"props":4315,"children":4316},{"style":801},[4317],{"type":39,"value":4318}," 4.92",{"type":24,"tag":723,"props":4320,"children":4321},{"style":730},[4322],{"type":39,"value":4229},{"type":24,"tag":723,"props":4324,"children":4325},{"style":801},[4326],{"type":39,"value":1299},{"type":24,"tag":723,"props":4328,"children":4329},{"style":742},[4330],{"type":39,"value":887},{"type":24,"tag":723,"props":4332,"children":4333},{"style":730},[4334],{"type":39,"value":1572},{"type":24,"tag":723,"props":4336,"children":4337},{"style":801},[4338],{"type":39,"value":4339}," 0.185",{"type":24,"tag":723,"props":4341,"children":4342},{"style":742},[4343],{"type":39,"value":906},{"type":24,"tag":723,"props":4345,"children":4347},{"class":725,"line":4346},39,[4348],{"type":24,"tag":723,"props":4349,"children":4350},{"style":812},[4351],{"type":39,"value":4352},"    // No voltage and current at the start.\n",{"type":24,"tag":723,"props":4354,"children":4356},{"class":725,"line":4355},40,[4357,4361,4366,4370,4374,4378],{"type":24,"tag":723,"props":4358,"children":4359},{"style":730},[4360],{"type":39,"value":4189},{"type":24,"tag":723,"props":4362,"children":4363},{"style":742},[4364],{"type":39,"value":4365}," voltageDiff ",{"type":24,"tag":723,"props":4367,"children":4368},{"style":730},[4369],{"type":39,"value":788},{"type":24,"tag":723,"props":4371,"children":4372},{"style":801},[4373],{"type":39,"value":3461},{"type":24,"tag":723,"props":4375,"children":4376},{"style":730},[4377],{"type":39,"value":1304},{"type":24,"tag":723,"props":4379,"children":4380},{"style":742},[4381],{"type":39,"value":4382}," loadVoltage;\n",{"type":24,"tag":723,"props":4384,"children":4386},{"class":725,"line":4385},41,[4387,4391,4396,4400,4404,4408],{"type":24,"tag":723,"props":4388,"children":4389},{"style":730},[4390],{"type":39,"value":4189},{"type":24,"tag":723,"props":4392,"children":4393},{"style":742},[4394],{"type":39,"value":4395}," currentDiff ",{"type":24,"tag":723,"props":4397,"children":4398},{"style":730},[4399],{"type":39,"value":788},{"type":24,"tag":723,"props":4401,"children":4402},{"style":801},[4403],{"type":39,"value":3461},{"type":24,"tag":723,"props":4405,"children":4406},{"style":730},[4407],{"type":39,"value":1304},{"type":24,"tag":723,"props":4409,"children":4410},{"style":742},[4411],{"type":39,"value":4412}," current;\n",{"type":24,"tag":723,"props":4414,"children":4416},{"class":725,"line":4415},42,[4417],{"type":24,"tag":723,"props":4418,"children":4419},{"style":812},[4420],{"type":39,"value":4421},"    // Add difference to the calibration results\n",{"type":24,"tag":723,"props":4423,"children":4425},{"class":725,"line":4424},43,[4426,4431,4435],{"type":24,"tag":723,"props":4427,"children":4428},{"style":742},[4429],{"type":39,"value":4430},"    totalVoltageDiff ",{"type":24,"tag":723,"props":4432,"children":4433},{"style":730},[4434],{"type":39,"value":1879},{"type":24,"tag":723,"props":4436,"children":4437},{"style":742},[4438],{"type":39,"value":4439}," voltageDiff;\n",{"type":24,"tag":723,"props":4441,"children":4443},{"class":725,"line":4442},44,[4444,4449,4453],{"type":24,"tag":723,"props":4445,"children":4446},{"style":742},[4447],{"type":39,"value":4448},"    totalCurrentDiff ",{"type":24,"tag":723,"props":4450,"children":4451},{"style":730},[4452],{"type":39,"value":1879},{"type":24,"tag":723,"props":4454,"children":4455},{"style":742},[4456],{"type":39,"value":4457}," currentDiff;\n",{"type":24,"tag":723,"props":4459,"children":4461},{"class":725,"line":4460},45,[4462],{"type":24,"tag":723,"props":4463,"children":4464},{"style":812},[4465],{"type":39,"value":4466},"    // Display calibration status to lcd\n",{"type":24,"tag":723,"props":4468,"children":4470},{"class":725,"line":4469},46,[4471,4476,4480,4484,4488,4492,4496],{"type":24,"tag":723,"props":4472,"children":4473},{"style":742},[4474],{"type":39,"value":4475},"    lcd.",{"type":24,"tag":723,"props":4477,"children":4478},{"style":736},[4479],{"type":39,"value":4075},{"type":24,"tag":723,"props":4481,"children":4482},{"style":742},[4483],{"type":39,"value":745},{"type":24,"tag":723,"props":4485,"children":4486},{"style":801},[4487],{"type":39,"value":2178},{"type":24,"tag":723,"props":4489,"children":4490},{"style":742},[4491],{"type":39,"value":761},{"type":24,"tag":723,"props":4493,"children":4494},{"style":801},[4495],{"type":39,"value":2178},{"type":24,"tag":723,"props":4497,"children":4498},{"style":742},[4499],{"type":39,"value":1957},{"type":24,"tag":723,"props":4501,"children":4503},{"class":725,"line":4502},47,[4504,4508,4513,4517,4522],{"type":24,"tag":723,"props":4505,"children":4506},{"style":742},[4507],{"type":39,"value":4475},{"type":24,"tag":723,"props":4509,"children":4510},{"style":736},[4511],{"type":39,"value":4512},"print",{"type":24,"tag":723,"props":4514,"children":4515},{"style":742},[4516],{"type":39,"value":745},{"type":24,"tag":723,"props":4518,"children":4519},{"style":3293},[4520],{"type":39,"value":4521},"\"Calib..\"",{"type":24,"tag":723,"props":4523,"children":4524},{"style":742},[4525],{"type":39,"value":1957},{"type":24,"tag":723,"props":4527,"children":4529},{"class":725,"line":4528},48,[4530,4534,4538,4542,4547,4551,4555],{"type":24,"tag":723,"props":4531,"children":4532},{"style":742},[4533],{"type":39,"value":4475},{"type":24,"tag":723,"props":4535,"children":4536},{"style":736},[4537],{"type":39,"value":4075},{"type":24,"tag":723,"props":4539,"children":4540},{"style":742},[4541],{"type":39,"value":745},{"type":24,"tag":723,"props":4543,"children":4544},{"style":801},[4545],{"type":39,"value":4546},"8",{"type":24,"tag":723,"props":4548,"children":4549},{"style":742},[4550],{"type":39,"value":761},{"type":24,"tag":723,"props":4552,"children":4553},{"style":801},[4554],{"type":39,"value":2178},{"type":24,"tag":723,"props":4556,"children":4557},{"style":742},[4558],{"type":39,"value":1957},{"type":24,"tag":723,"props":4560,"children":4562},{"class":725,"line":4561},49,[4563,4567,4571,4575,4580],{"type":24,"tag":723,"props":4564,"children":4565},{"style":742},[4566],{"type":39,"value":4475},{"type":24,"tag":723,"props":4568,"children":4569},{"style":736},[4570],{"type":39,"value":4512},{"type":24,"tag":723,"props":4572,"children":4573},{"style":742},[4574],{"type":39,"value":745},{"type":24,"tag":723,"props":4576,"children":4577},{"style":3293},[4578],{"type":39,"value":4579},"\"i: \"",{"type":24,"tag":723,"props":4581,"children":4582},{"style":742},[4583],{"type":39,"value":1957},{"type":24,"tag":723,"props":4585,"children":4587},{"class":725,"line":4586},50,[4588,4592,4596],{"type":24,"tag":723,"props":4589,"children":4590},{"style":742},[4591],{"type":39,"value":4475},{"type":24,"tag":723,"props":4593,"children":4594},{"style":736},[4595],{"type":39,"value":4512},{"type":24,"tag":723,"props":4597,"children":4598},{"style":742},[4599],{"type":39,"value":4600},"(i);\n",{"type":24,"tag":723,"props":4602,"children":4604},{"class":725,"line":4603},51,[4605,4609,4613,4617,4621,4625,4629],{"type":24,"tag":723,"props":4606,"children":4607},{"style":742},[4608],{"type":39,"value":4475},{"type":24,"tag":723,"props":4610,"children":4611},{"style":736},[4612],{"type":39,"value":4075},{"type":24,"tag":723,"props":4614,"children":4615},{"style":742},[4616],{"type":39,"value":745},{"type":24,"tag":723,"props":4618,"children":4619},{"style":801},[4620],{"type":39,"value":2178},{"type":24,"tag":723,"props":4622,"children":4623},{"style":742},[4624],{"type":39,"value":761},{"type":24,"tag":723,"props":4626,"children":4627},{"style":801},[4628],{"type":39,"value":2155},{"type":24,"tag":723,"props":4630,"children":4631},{"style":742},[4632],{"type":39,"value":1957},{"type":24,"tag":723,"props":4634,"children":4636},{"class":725,"line":4635},52,[4637,4641,4645,4649,4654],{"type":24,"tag":723,"props":4638,"children":4639},{"style":742},[4640],{"type":39,"value":4475},{"type":24,"tag":723,"props":4642,"children":4643},{"style":736},[4644],{"type":39,"value":4512},{"type":24,"tag":723,"props":4646,"children":4647},{"style":742},[4648],{"type":39,"value":745},{"type":24,"tag":723,"props":4650,"children":4651},{"style":3293},[4652],{"type":39,"value":4653},"\"V: \"",{"type":24,"tag":723,"props":4655,"children":4656},{"style":742},[4657],{"type":39,"value":1957},{"type":24,"tag":723,"props":4659,"children":4661},{"class":725,"line":4660},53,[4662,4666,4670,4675,4679,4683,4687],{"type":24,"tag":723,"props":4663,"children":4664},{"style":742},[4665],{"type":39,"value":4475},{"type":24,"tag":723,"props":4667,"children":4668},{"style":736},[4669],{"type":39,"value":4512},{"type":24,"tag":723,"props":4671,"children":4672},{"style":742},[4673],{"type":39,"value":4674},"(totalVoltageDiff ",{"type":24,"tag":723,"props":4676,"children":4677},{"style":730},[4678],{"type":39,"value":1572},{"type":24,"tag":723,"props":4680,"children":4681},{"style":742},[4682],{"type":39,"value":1690},{"type":24,"tag":723,"props":4684,"children":4685},{"style":730},[4686],{"type":39,"value":3339},{"type":24,"tag":723,"props":4688,"children":4689},{"style":742},[4690],{"type":39,"value":4691},")i);\n",{"type":24,"tag":723,"props":4693,"children":4695},{"class":725,"line":4694},54,[4696,4700,4704,4708,4712,4716,4720],{"type":24,"tag":723,"props":4697,"children":4698},{"style":742},[4699],{"type":39,"value":4475},{"type":24,"tag":723,"props":4701,"children":4702},{"style":736},[4703],{"type":39,"value":4075},{"type":24,"tag":723,"props":4705,"children":4706},{"style":742},[4707],{"type":39,"value":745},{"type":24,"tag":723,"props":4709,"children":4710},{"style":801},[4711],{"type":39,"value":4546},{"type":24,"tag":723,"props":4713,"children":4714},{"style":742},[4715],{"type":39,"value":761},{"type":24,"tag":723,"props":4717,"children":4718},{"style":801},[4719],{"type":39,"value":2155},{"type":24,"tag":723,"props":4721,"children":4722},{"style":742},[4723],{"type":39,"value":1957},{"type":24,"tag":723,"props":4725,"children":4727},{"class":725,"line":4726},55,[4728,4732,4736,4740,4745],{"type":24,"tag":723,"props":4729,"children":4730},{"style":742},[4731],{"type":39,"value":4475},{"type":24,"tag":723,"props":4733,"children":4734},{"style":736},[4735],{"type":39,"value":4512},{"type":24,"tag":723,"props":4737,"children":4738},{"style":742},[4739],{"type":39,"value":745},{"type":24,"tag":723,"props":4741,"children":4742},{"style":3293},[4743],{"type":39,"value":4744},"\"A: \"",{"type":24,"tag":723,"props":4746,"children":4747},{"style":742},[4748],{"type":39,"value":1957},{"type":24,"tag":723,"props":4750,"children":4752},{"class":725,"line":4751},56,[4753,4757,4761,4766,4770,4774,4778],{"type":24,"tag":723,"props":4754,"children":4755},{"style":742},[4756],{"type":39,"value":4475},{"type":24,"tag":723,"props":4758,"children":4759},{"style":736},[4760],{"type":39,"value":4512},{"type":24,"tag":723,"props":4762,"children":4763},{"style":742},[4764],{"type":39,"value":4765},"(totalCurrentDiff ",{"type":24,"tag":723,"props":4767,"children":4768},{"style":730},[4769],{"type":39,"value":1572},{"type":24,"tag":723,"props":4771,"children":4772},{"style":742},[4773],{"type":39,"value":1690},{"type":24,"tag":723,"props":4775,"children":4776},{"style":730},[4777],{"type":39,"value":3339},{"type":24,"tag":723,"props":4779,"children":4780},{"style":742},[4781],{"type":39,"value":4691},{"type":24,"tag":723,"props":4783,"children":4785},{"class":725,"line":4784},57,[4786,4791,4795,4800],{"type":24,"tag":723,"props":4787,"children":4788},{"style":736},[4789],{"type":39,"value":4790},"    delay",{"type":24,"tag":723,"props":4792,"children":4793},{"style":742},[4794],{"type":39,"value":745},{"type":24,"tag":723,"props":4796,"children":4797},{"style":801},[4798],{"type":39,"value":4799},"6",{"type":24,"tag":723,"props":4801,"children":4802},{"style":742},[4803],{"type":39,"value":1957},{"type":24,"tag":723,"props":4805,"children":4807},{"class":725,"line":4806},58,[4808],{"type":24,"tag":723,"props":4809,"children":4810},{"style":742},[4811],{"type":39,"value":3897},{"type":24,"tag":723,"props":4813,"children":4815},{"class":725,"line":4814},59,[4816],{"type":24,"tag":723,"props":4817,"children":4818},{"style":812},[4819],{"type":39,"value":4820},"  // Update calibration offsets\n",{"type":24,"tag":723,"props":4822,"children":4824},{"class":725,"line":4823},60,[4825,4830,4834,4838,4842],{"type":24,"tag":723,"props":4826,"children":4827},{"style":742},[4828],{"type":39,"value":4829},"  VOLTAGE_CALIBRATION_OFFSET ",{"type":24,"tag":723,"props":4831,"children":4832},{"style":730},[4833],{"type":39,"value":788},{"type":24,"tag":723,"props":4835,"children":4836},{"style":742},[4837],{"type":39,"value":4006},{"type":24,"tag":723,"props":4839,"children":4840},{"style":730},[4841],{"type":39,"value":1572},{"type":24,"tag":723,"props":4843,"children":4844},{"style":742},[4845],{"type":39,"value":4846}," totalCalibrationCycles;\n",{"type":24,"tag":723,"props":4848,"children":4850},{"class":725,"line":4849},61,[4851,4856,4860,4864,4868],{"type":24,"tag":723,"props":4852,"children":4853},{"style":742},[4854],{"type":39,"value":4855},"  CURRENT_CALIBRATION_OFFSET ",{"type":24,"tag":723,"props":4857,"children":4858},{"style":730},[4859],{"type":39,"value":788},{"type":24,"tag":723,"props":4861,"children":4862},{"style":742},[4863],{"type":39,"value":4031},{"type":24,"tag":723,"props":4865,"children":4866},{"style":730},[4867],{"type":39,"value":1572},{"type":24,"tag":723,"props":4869,"children":4870},{"style":742},[4871],{"type":39,"value":4846},{"type":24,"tag":723,"props":4873,"children":4875},{"class":725,"line":4874},62,[4876],{"type":24,"tag":723,"props":4877,"children":4878},{"style":742},[4879],{"type":39,"value":949},{"type":24,"tag":723,"props":4881,"children":4883},{"class":725,"line":4882},63,[4884],{"type":24,"tag":723,"props":4885,"children":4886},{"emptyLinePlaceholder":18},[4887],{"type":39,"value":1540},{"type":24,"tag":723,"props":4889,"children":4891},{"class":725,"line":4890},64,[4892,4896,4901],{"type":24,"tag":723,"props":4893,"children":4894},{"style":730},[4895],{"type":39,"value":733},{"type":24,"tag":723,"props":4897,"children":4898},{"style":736},[4899],{"type":39,"value":4900}," setup",{"type":24,"tag":723,"props":4902,"children":4903},{"style":742},[4904],{"type":39,"value":3961},{"type":24,"tag":723,"props":4906,"children":4908},{"class":725,"line":4907},65,[4909,4913,4918,4923],{"type":24,"tag":723,"props":4910,"children":4911},{"style":742},[4912],{"type":39,"value":4052},{"type":24,"tag":723,"props":4914,"children":4915},{"style":736},[4916],{"type":39,"value":4917},"init",{"type":24,"tag":723,"props":4919,"children":4920},{"style":742},[4921],{"type":39,"value":4922},"();",{"type":24,"tag":723,"props":4924,"children":4925},{"style":812},[4926],{"type":39,"value":4927},"  // initialize the lcd\n",{"type":24,"tag":723,"props":4929,"children":4931},{"class":725,"line":4930},66,[4932,4936,4941],{"type":24,"tag":723,"props":4933,"children":4934},{"style":742},[4935],{"type":39,"value":4052},{"type":24,"tag":723,"props":4937,"children":4938},{"style":736},[4939],{"type":39,"value":4940},"backlight",{"type":24,"tag":723,"props":4942,"children":4943},{"style":742},[4944],{"type":39,"value":4062},{"type":24,"tag":723,"props":4946,"children":4948},{"class":725,"line":4947},67,[4949,4954],{"type":24,"tag":723,"props":4950,"children":4951},{"style":736},[4952],{"type":39,"value":4953},"  calibrate",{"type":24,"tag":723,"props":4955,"children":4956},{"style":742},[4957],{"type":39,"value":4062},{"type":24,"tag":723,"props":4959,"children":4961},{"class":725,"line":4960},68,[4962],{"type":24,"tag":723,"props":4963,"children":4964},{"style":742},[4965],{"type":39,"value":949},{"type":24,"tag":723,"props":4967,"children":4969},{"class":725,"line":4968},69,[4970,4974,4979],{"type":24,"tag":723,"props":4971,"children":4972},{"style":730},[4973],{"type":39,"value":733},{"type":24,"tag":723,"props":4975,"children":4976},{"style":736},[4977],{"type":39,"value":4978}," loop",{"type":24,"tag":723,"props":4980,"children":4981},{"style":742},[4982],{"type":39,"value":3961},{"type":24,"tag":723,"props":4984,"children":4986},{"class":725,"line":4985},70,[4987],{"type":24,"tag":723,"props":4988,"children":4989},{"style":812},[4990],{"type":39,"value":4991},"  // Obtain input\n",{"type":24,"tag":723,"props":4993,"children":4995},{"class":725,"line":4994},71,[4996,5001,5005,5009,5013,5017,5021],{"type":24,"tag":723,"props":4997,"children":4998},{"style":730},[4999],{"type":39,"value":5000},"  int",{"type":24,"tag":723,"props":5002,"children":5003},{"style":742},[5004],{"type":39,"value":4158},{"type":24,"tag":723,"props":5006,"children":5007},{"style":730},[5008],{"type":39,"value":788},{"type":24,"tag":723,"props":5010,"children":5011},{"style":736},[5012],{"type":39,"value":4167},{"type":24,"tag":723,"props":5014,"children":5015},{"style":742},[5016],{"type":39,"value":745},{"type":24,"tag":723,"props":5018,"children":5019},{"style":801},[5020],{"type":39,"value":4176},{"type":24,"tag":723,"props":5022,"children":5023},{"style":742},[5024],{"type":39,"value":1957},{"type":24,"tag":723,"props":5026,"children":5028},{"class":725,"line":5027},72,[5029,5033,5037,5041,5045,5049,5053,5057,5061,5065,5069,5073,5077,5081,5086],{"type":24,"tag":723,"props":5030,"children":5031},{"style":730},[5032],{"type":39,"value":3618},{"type":24,"tag":723,"props":5034,"children":5035},{"style":742},[5036],{"type":39,"value":4194},{"type":24,"tag":723,"props":5038,"children":5039},{"style":730},[5040],{"type":39,"value":788},{"type":24,"tag":723,"props":5042,"children":5043},{"style":736},[5044],{"type":39,"value":4167},{"type":24,"tag":723,"props":5046,"children":5047},{"style":742},[5048],{"type":39,"value":745},{"type":24,"tag":723,"props":5050,"children":5051},{"style":801},[5052],{"type":39,"value":4211},{"type":24,"tag":723,"props":5054,"children":5055},{"style":742},[5056],{"type":39,"value":887},{"type":24,"tag":723,"props":5058,"children":5059},{"style":730},[5060],{"type":39,"value":1294},{"type":24,"tag":723,"props":5062,"children":5063},{"style":801},[5064],{"type":39,"value":4224},{"type":24,"tag":723,"props":5066,"children":5067},{"style":730},[5068],{"type":39,"value":4229},{"type":24,"tag":723,"props":5070,"children":5071},{"style":801},[5072],{"type":39,"value":4234},{"type":24,"tag":723,"props":5074,"children":5075},{"style":730},[5076],{"type":39,"value":2721},{"type":24,"tag":723,"props":5078,"children":5079},{"style":801},[5080],{"type":39,"value":1299},{"type":24,"tag":723,"props":5082,"children":5083},{"style":730},[5084],{"type":39,"value":5085}," +",{"type":24,"tag":723,"props":5087,"children":5088},{"style":742},[5089],{"type":39,"value":5090}," VOLTAGE_CALIBRATION_OFFSET;\n",{"type":24,"tag":723,"props":5092,"children":5094},{"class":725,"line":5093},73,[5095,5100,5105,5109,5113,5117,5122,5127,5131,5135],{"type":24,"tag":723,"props":5096,"children":5097},{"style":730},[5098],{"type":39,"value":5099},"  if",{"type":24,"tag":723,"props":5101,"children":5102},{"style":742},[5103],{"type":39,"value":5104}," (loadVoltage ",{"type":24,"tag":723,"props":5106,"children":5107},{"style":730},[5108],{"type":39,"value":3674},{"type":24,"tag":723,"props":5110,"children":5111},{"style":742},[5112],{"type":39,"value":3368},{"type":24,"tag":723,"props":5114,"children":5115},{"style":730},[5116],{"type":39,"value":1357},{"type":24,"tag":723,"props":5118,"children":5119},{"style":801},[5120],{"type":39,"value":5121}," 0.05",{"type":24,"tag":723,"props":5123,"children":5124},{"style":742},[5125],{"type":39,"value":5126},") loadVoltage ",{"type":24,"tag":723,"props":5128,"children":5129},{"style":730},[5130],{"type":39,"value":788},{"type":24,"tag":723,"props":5132,"children":5133},{"style":801},[5134],{"type":39,"value":3461},{"type":24,"tag":723,"props":5136,"children":5137},{"style":742},[5138],{"type":39,"value":906},{"type":24,"tag":723,"props":5140,"children":5142},{"class":725,"line":5141},74,[5143,5147,5151,5155,5159,5163,5167,5171,5175],{"type":24,"tag":723,"props":5144,"children":5145},{"style":730},[5146],{"type":39,"value":3618},{"type":24,"tag":723,"props":5148,"children":5149},{"style":742},[5150],{"type":39,"value":4259},{"type":24,"tag":723,"props":5152,"children":5153},{"style":730},[5154],{"type":39,"value":788},{"type":24,"tag":723,"props":5156,"children":5157},{"style":742},[5158],{"type":39,"value":4158},{"type":24,"tag":723,"props":5160,"children":5161},{"style":730},[5162],{"type":39,"value":1294},{"type":24,"tag":723,"props":5164,"children":5165},{"style":801},[5166],{"type":39,"value":4224},{"type":24,"tag":723,"props":5168,"children":5169},{"style":730},[5170],{"type":39,"value":4229},{"type":24,"tag":723,"props":5172,"children":5173},{"style":801},[5174],{"type":39,"value":4234},{"type":24,"tag":723,"props":5176,"children":5177},{"style":742},[5178],{"type":39,"value":906},{"type":24,"tag":723,"props":5180,"children":5182},{"class":725,"line":5181},75,[5183,5187,5191,5195,5199,5203,5207,5211,5215,5219,5223,5227,5231],{"type":24,"tag":723,"props":5184,"children":5185},{"style":730},[5186],{"type":39,"value":3618},{"type":24,"tag":723,"props":5188,"children":5189},{"style":742},[5190],{"type":39,"value":4300},{"type":24,"tag":723,"props":5192,"children":5193},{"style":730},[5194],{"type":39,"value":788},{"type":24,"tag":723,"props":5196,"children":5197},{"style":742},[5198],{"type":39,"value":4309},{"type":24,"tag":723,"props":5200,"children":5201},{"style":730},[5202],{"type":39,"value":1512},{"type":24,"tag":723,"props":5204,"children":5205},{"style":801},[5206],{"type":39,"value":4318},{"type":24,"tag":723,"props":5208,"children":5209},{"style":730},[5210],{"type":39,"value":4229},{"type":24,"tag":723,"props":5212,"children":5213},{"style":801},[5214],{"type":39,"value":1299},{"type":24,"tag":723,"props":5216,"children":5217},{"style":742},[5218],{"type":39,"value":887},{"type":24,"tag":723,"props":5220,"children":5221},{"style":730},[5222],{"type":39,"value":1572},{"type":24,"tag":723,"props":5224,"children":5225},{"style":801},[5226],{"type":39,"value":4339},{"type":24,"tag":723,"props":5228,"children":5229},{"style":730},[5230],{"type":39,"value":5085},{"type":24,"tag":723,"props":5232,"children":5233},{"style":742},[5234],{"type":39,"value":5235}," CURRENT_CALIBRATION_OFFSET;\n",{"type":24,"tag":723,"props":5237,"children":5239},{"class":725,"line":5238},76,[5240,5244,5249,5253,5257,5262,5266,5270],{"type":24,"tag":723,"props":5241,"children":5242},{"style":730},[5243],{"type":39,"value":5099},{"type":24,"tag":723,"props":5245,"children":5246},{"style":742},[5247],{"type":39,"value":5248}," (current ",{"type":24,"tag":723,"props":5250,"children":5251},{"style":730},[5252],{"type":39,"value":3674},{"type":24,"tag":723,"props":5254,"children":5255},{"style":801},[5256],{"type":39,"value":5121},{"type":24,"tag":723,"props":5258,"children":5259},{"style":742},[5260],{"type":39,"value":5261},") current ",{"type":24,"tag":723,"props":5263,"children":5264},{"style":730},[5265],{"type":39,"value":788},{"type":24,"tag":723,"props":5267,"children":5268},{"style":801},[5269],{"type":39,"value":3461},{"type":24,"tag":723,"props":5271,"children":5272},{"style":742},[5273],{"type":39,"value":906},{"type":24,"tag":723,"props":5275,"children":5277},{"class":725,"line":5276},77,[5278],{"type":24,"tag":723,"props":5279,"children":5280},{"style":812},[5281],{"type":39,"value":5282},"  // Calculate average current\n",{"type":24,"tag":723,"props":5284,"children":5286},{"class":725,"line":5285},78,[5287,5291,5296,5300,5304],{"type":24,"tag":723,"props":5288,"children":5289},{"style":730},[5290],{"type":39,"value":3618},{"type":24,"tag":723,"props":5292,"children":5293},{"style":742},[5294],{"type":39,"value":5295}," averagedCurrent ",{"type":24,"tag":723,"props":5297,"children":5298},{"style":730},[5299],{"type":39,"value":788},{"type":24,"tag":723,"props":5301,"children":5302},{"style":736},[5303],{"type":39,"value":3578},{"type":24,"tag":723,"props":5305,"children":5306},{"style":742},[5307],{"type":39,"value":5308},"(currentReadings, READINGS_LEN);\n",{"type":24,"tag":723,"props":5310,"children":5312},{"class":725,"line":5311},79,[5313,5318],{"type":24,"tag":723,"props":5314,"children":5315},{"style":736},[5316],{"type":39,"value":5317},"  shift_right",{"type":24,"tag":723,"props":5319,"children":5320},{"style":742},[5321],{"type":39,"value":5308},{"type":24,"tag":723,"props":5323,"children":5325},{"class":725,"line":5324},80,[5326,5331,5335,5339,5343],{"type":24,"tag":723,"props":5327,"children":5328},{"style":742},[5329],{"type":39,"value":5330},"  currentReadings[",{"type":24,"tag":723,"props":5332,"children":5333},{"style":801},[5334],{"type":39,"value":2178},{"type":24,"tag":723,"props":5336,"children":5337},{"style":742},[5338],{"type":39,"value":3915},{"type":24,"tag":723,"props":5340,"children":5341},{"style":730},[5342],{"type":39,"value":788},{"type":24,"tag":723,"props":5344,"children":5345},{"style":742},[5346],{"type":39,"value":4412},{"type":24,"tag":723,"props":5348,"children":5350},{"class":725,"line":5349},81,[5351,5355,5360,5364,5369,5374,5378,5382],{"type":24,"tag":723,"props":5352,"children":5353},{"style":730},[5354],{"type":39,"value":5099},{"type":24,"tag":723,"props":5356,"children":5357},{"style":742},[5358],{"type":39,"value":5359}," (averagedCurrent ",{"type":24,"tag":723,"props":5361,"children":5362},{"style":730},[5363],{"type":39,"value":3674},{"type":24,"tag":723,"props":5365,"children":5366},{"style":801},[5367],{"type":39,"value":5368}," 0.035",{"type":24,"tag":723,"props":5370,"children":5371},{"style":742},[5372],{"type":39,"value":5373},") averagedCurrent ",{"type":24,"tag":723,"props":5375,"children":5376},{"style":730},[5377],{"type":39,"value":788},{"type":24,"tag":723,"props":5379,"children":5380},{"style":801},[5381],{"type":39,"value":3461},{"type":24,"tag":723,"props":5383,"children":5384},{"style":742},[5385],{"type":39,"value":906},{"type":24,"tag":723,"props":5387,"children":5389},{"class":725,"line":5388},82,[5390],{"type":24,"tag":723,"props":5391,"children":5392},{"style":812},[5393],{"type":39,"value":5394},"  // Calculate average voltage\n",{"type":24,"tag":723,"props":5396,"children":5398},{"class":725,"line":5397},83,[5399,5403,5408,5412,5416],{"type":24,"tag":723,"props":5400,"children":5401},{"style":730},[5402],{"type":39,"value":3618},{"type":24,"tag":723,"props":5404,"children":5405},{"style":742},[5406],{"type":39,"value":5407}," averagedVoltage ",{"type":24,"tag":723,"props":5409,"children":5410},{"style":730},[5411],{"type":39,"value":788},{"type":24,"tag":723,"props":5413,"children":5414},{"style":736},[5415],{"type":39,"value":3578},{"type":24,"tag":723,"props":5417,"children":5418},{"style":742},[5419],{"type":39,"value":5420},"(voltageReadings, READINGS_LEN);\n",{"type":24,"tag":723,"props":5422,"children":5424},{"class":725,"line":5423},84,[5425,5429],{"type":24,"tag":723,"props":5426,"children":5427},{"style":736},[5428],{"type":39,"value":5317},{"type":24,"tag":723,"props":5430,"children":5431},{"style":742},[5432],{"type":39,"value":5420},{"type":24,"tag":723,"props":5434,"children":5436},{"class":725,"line":5435},85,[5437,5442,5446,5450,5454],{"type":24,"tag":723,"props":5438,"children":5439},{"style":742},[5440],{"type":39,"value":5441},"  voltageReadings[",{"type":24,"tag":723,"props":5443,"children":5444},{"style":801},[5445],{"type":39,"value":2178},{"type":24,"tag":723,"props":5447,"children":5448},{"style":742},[5449],{"type":39,"value":3915},{"type":24,"tag":723,"props":5451,"children":5452},{"style":730},[5453],{"type":39,"value":788},{"type":24,"tag":723,"props":5455,"children":5456},{"style":742},[5457],{"type":39,"value":4382},{"type":24,"tag":723,"props":5459,"children":5461},{"class":725,"line":5460},86,[5462],{"type":24,"tag":723,"props":5463,"children":5464},{"style":812},[5465],{"type":39,"value":5466},"  // Calculate total energy generated\n",{"type":24,"tag":723,"props":5468,"children":5470},{"class":725,"line":5469},87,[5471,5476,5480,5484,5488,5492,5496,5501,5505,5510],{"type":24,"tag":723,"props":5472,"children":5473},{"style":742},[5474],{"type":39,"value":5475},"  joules ",{"type":24,"tag":723,"props":5477,"children":5478},{"style":730},[5479],{"type":39,"value":1879},{"type":24,"tag":723,"props":5481,"children":5482},{"style":742},[5483],{"type":39,"value":5407},{"type":24,"tag":723,"props":5485,"children":5486},{"style":730},[5487],{"type":39,"value":1294},{"type":24,"tag":723,"props":5489,"children":5490},{"style":742},[5491],{"type":39,"value":5295},{"type":24,"tag":723,"props":5493,"children":5494},{"style":730},[5495],{"type":39,"value":1294},{"type":24,"tag":723,"props":5497,"children":5498},{"style":742},[5499],{"type":39,"value":5500}," DELTA_TIME ",{"type":24,"tag":723,"props":5502,"children":5503},{"style":730},[5504],{"type":39,"value":1572},{"type":24,"tag":723,"props":5506,"children":5507},{"style":801},[5508],{"type":39,"value":5509}," 1000.0",{"type":24,"tag":723,"props":5511,"children":5512},{"style":742},[5513],{"type":39,"value":906},{"type":24,"tag":723,"props":5515,"children":5517},{"class":725,"line":5516},88,[5518],{"type":24,"tag":723,"props":5519,"children":5520},{"style":812},[5521],{"type":39,"value":5522},"  // Display to LCD\n",{"type":24,"tag":723,"props":5524,"children":5526},{"class":725,"line":5525},89,[5527,5531,5536,5540,5545],{"type":24,"tag":723,"props":5528,"children":5529},{"style":730},[5530],{"type":39,"value":5099},{"type":24,"tag":723,"props":5532,"children":5533},{"style":742},[5534],{"type":39,"value":5535}," (lastLcdRefresh ",{"type":24,"tag":723,"props":5537,"children":5538},{"style":730},[5539],{"type":39,"value":1705},{"type":24,"tag":723,"props":5541,"children":5542},{"style":801},[5543],{"type":39,"value":5544}," 500",{"type":24,"tag":723,"props":5546,"children":5547},{"style":742},[5548],{"type":39,"value":775},{"type":24,"tag":723,"props":5550,"children":5552},{"class":725,"line":5551},90,[5553,5557,5561],{"type":24,"tag":723,"props":5554,"children":5555},{"style":742},[5556],{"type":39,"value":4475},{"type":24,"tag":723,"props":5558,"children":5559},{"style":736},[5560],{"type":39,"value":4057},{"type":24,"tag":723,"props":5562,"children":5563},{"style":742},[5564],{"type":39,"value":4062},{"type":24,"tag":723,"props":5566,"children":5568},{"class":725,"line":5567},91,[5569,5573,5577,5581,5585,5589,5593],{"type":24,"tag":723,"props":5570,"children":5571},{"style":742},[5572],{"type":39,"value":4475},{"type":24,"tag":723,"props":5574,"children":5575},{"style":736},[5576],{"type":39,"value":4075},{"type":24,"tag":723,"props":5578,"children":5579},{"style":742},[5580],{"type":39,"value":745},{"type":24,"tag":723,"props":5582,"children":5583},{"style":801},[5584],{"type":39,"value":2178},{"type":24,"tag":723,"props":5586,"children":5587},{"style":742},[5588],{"type":39,"value":761},{"type":24,"tag":723,"props":5590,"children":5591},{"style":801},[5592],{"type":39,"value":2178},{"type":24,"tag":723,"props":5594,"children":5595},{"style":742},[5596],{"type":39,"value":1957},{"type":24,"tag":723,"props":5598,"children":5600},{"class":725,"line":5599},92,[5601,5605,5609],{"type":24,"tag":723,"props":5602,"children":5603},{"style":742},[5604],{"type":39,"value":4475},{"type":24,"tag":723,"props":5606,"children":5607},{"style":736},[5608],{"type":39,"value":4512},{"type":24,"tag":723,"props":5610,"children":5611},{"style":742},[5612],{"type":39,"value":5613},"(averagedVoltage);\n",{"type":24,"tag":723,"props":5615,"children":5617},{"class":725,"line":5616},93,[5618,5622,5626,5630,5635],{"type":24,"tag":723,"props":5619,"children":5620},{"style":742},[5621],{"type":39,"value":4475},{"type":24,"tag":723,"props":5623,"children":5624},{"style":736},[5625],{"type":39,"value":4512},{"type":24,"tag":723,"props":5627,"children":5628},{"style":742},[5629],{"type":39,"value":745},{"type":24,"tag":723,"props":5631,"children":5632},{"style":3293},[5633],{"type":39,"value":5634},"\" V\"",{"type":24,"tag":723,"props":5636,"children":5637},{"style":742},[5638],{"type":39,"value":1957},{"type":24,"tag":723,"props":5640,"children":5642},{"class":725,"line":5641},94,[5643,5647,5651,5655,5659,5663,5667],{"type":24,"tag":723,"props":5644,"children":5645},{"style":742},[5646],{"type":39,"value":4475},{"type":24,"tag":723,"props":5648,"children":5649},{"style":736},[5650],{"type":39,"value":4075},{"type":24,"tag":723,"props":5652,"children":5653},{"style":742},[5654],{"type":39,"value":745},{"type":24,"tag":723,"props":5656,"children":5657},{"style":801},[5658],{"type":39,"value":4546},{"type":24,"tag":723,"props":5660,"children":5661},{"style":742},[5662],{"type":39,"value":761},{"type":24,"tag":723,"props":5664,"children":5665},{"style":801},[5666],{"type":39,"value":2178},{"type":24,"tag":723,"props":5668,"children":5669},{"style":742},[5670],{"type":39,"value":1957},{"type":24,"tag":723,"props":5672,"children":5674},{"class":725,"line":5673},95,[5675,5679,5683],{"type":24,"tag":723,"props":5676,"children":5677},{"style":742},[5678],{"type":39,"value":4475},{"type":24,"tag":723,"props":5680,"children":5681},{"style":736},[5682],{"type":39,"value":4512},{"type":24,"tag":723,"props":5684,"children":5685},{"style":742},[5686],{"type":39,"value":5687},"(averagedCurrent);\n",{"type":24,"tag":723,"props":5689,"children":5691},{"class":725,"line":5690},96,[5692,5696,5700,5704,5709],{"type":24,"tag":723,"props":5693,"children":5694},{"style":742},[5695],{"type":39,"value":4475},{"type":24,"tag":723,"props":5697,"children":5698},{"style":736},[5699],{"type":39,"value":4512},{"type":24,"tag":723,"props":5701,"children":5702},{"style":742},[5703],{"type":39,"value":745},{"type":24,"tag":723,"props":5705,"children":5706},{"style":3293},[5707],{"type":39,"value":5708},"\" A\"",{"type":24,"tag":723,"props":5710,"children":5711},{"style":742},[5712],{"type":39,"value":1957},{"type":24,"tag":723,"props":5714,"children":5716},{"class":725,"line":5715},97,[5717,5721,5725,5729,5733,5737,5741],{"type":24,"tag":723,"props":5718,"children":5719},{"style":742},[5720],{"type":39,"value":4475},{"type":24,"tag":723,"props":5722,"children":5723},{"style":736},[5724],{"type":39,"value":4075},{"type":24,"tag":723,"props":5726,"children":5727},{"style":742},[5728],{"type":39,"value":745},{"type":24,"tag":723,"props":5730,"children":5731},{"style":801},[5732],{"type":39,"value":2178},{"type":24,"tag":723,"props":5734,"children":5735},{"style":742},[5736],{"type":39,"value":761},{"type":24,"tag":723,"props":5738,"children":5739},{"style":801},[5740],{"type":39,"value":2155},{"type":24,"tag":723,"props":5742,"children":5743},{"style":742},[5744],{"type":39,"value":1957},{"type":24,"tag":723,"props":5746,"children":5748},{"class":725,"line":5747},98,[5749,5753,5757,5762,5766],{"type":24,"tag":723,"props":5750,"children":5751},{"style":742},[5752],{"type":39,"value":4475},{"type":24,"tag":723,"props":5754,"children":5755},{"style":736},[5756],{"type":39,"value":4512},{"type":24,"tag":723,"props":5758,"children":5759},{"style":742},[5760],{"type":39,"value":5761},"(averagedCurrent ",{"type":24,"tag":723,"props":5763,"children":5764},{"style":730},[5765],{"type":39,"value":1294},{"type":24,"tag":723,"props":5767,"children":5768},{"style":742},[5769],{"type":39,"value":5770}," averagedVoltage);\n",{"type":24,"tag":723,"props":5772,"children":5774},{"class":725,"line":5773},99,[5775,5779,5783,5787,5792],{"type":24,"tag":723,"props":5776,"children":5777},{"style":742},[5778],{"type":39,"value":4475},{"type":24,"tag":723,"props":5780,"children":5781},{"style":736},[5782],{"type":39,"value":4512},{"type":24,"tag":723,"props":5784,"children":5785},{"style":742},[5786],{"type":39,"value":745},{"type":24,"tag":723,"props":5788,"children":5789},{"style":3293},[5790],{"type":39,"value":5791},"\" W\"",{"type":24,"tag":723,"props":5793,"children":5794},{"style":742},[5795],{"type":39,"value":1957},{"type":24,"tag":723,"props":5797,"children":5799},{"class":725,"line":5798},100,[5800,5804,5808,5812,5816,5820,5824],{"type":24,"tag":723,"props":5801,"children":5802},{"style":742},[5803],{"type":39,"value":4475},{"type":24,"tag":723,"props":5805,"children":5806},{"style":736},[5807],{"type":39,"value":4075},{"type":24,"tag":723,"props":5809,"children":5810},{"style":742},[5811],{"type":39,"value":745},{"type":24,"tag":723,"props":5813,"children":5814},{"style":801},[5815],{"type":39,"value":4546},{"type":24,"tag":723,"props":5817,"children":5818},{"style":742},[5819],{"type":39,"value":761},{"type":24,"tag":723,"props":5821,"children":5822},{"style":801},[5823],{"type":39,"value":2155},{"type":24,"tag":723,"props":5825,"children":5826},{"style":742},[5827],{"type":39,"value":1957},{"type":24,"tag":723,"props":5829,"children":5831},{"class":725,"line":5830},101,[5832,5836,5840],{"type":24,"tag":723,"props":5833,"children":5834},{"style":742},[5835],{"type":39,"value":4475},{"type":24,"tag":723,"props":5837,"children":5838},{"style":736},[5839],{"type":39,"value":4512},{"type":24,"tag":723,"props":5841,"children":5842},{"style":742},[5843],{"type":39,"value":5844},"(joules);\n",{"type":24,"tag":723,"props":5846,"children":5848},{"class":725,"line":5847},102,[5849,5853,5857,5861,5866],{"type":24,"tag":723,"props":5850,"children":5851},{"style":742},[5852],{"type":39,"value":4475},{"type":24,"tag":723,"props":5854,"children":5855},{"style":736},[5856],{"type":39,"value":4512},{"type":24,"tag":723,"props":5858,"children":5859},{"style":742},[5860],{"type":39,"value":745},{"type":24,"tag":723,"props":5862,"children":5863},{"style":3293},[5864],{"type":39,"value":5865},"\" J\"",{"type":24,"tag":723,"props":5867,"children":5868},{"style":742},[5869],{"type":39,"value":1957},{"type":24,"tag":723,"props":5871,"children":5873},{"class":725,"line":5872},103,[5874,5879,5883,5887],{"type":24,"tag":723,"props":5875,"children":5876},{"style":742},[5877],{"type":39,"value":5878},"    lastLcdRefresh ",{"type":24,"tag":723,"props":5880,"children":5881},{"style":730},[5882],{"type":39,"value":788},{"type":24,"tag":723,"props":5884,"children":5885},{"style":801},[5886],{"type":39,"value":3461},{"type":24,"tag":723,"props":5888,"children":5889},{"style":742},[5890],{"type":39,"value":906},{"type":24,"tag":723,"props":5892,"children":5894},{"class":725,"line":5893},104,[5895],{"type":24,"tag":723,"props":5896,"children":5897},{"style":742},[5898],{"type":39,"value":3897},{"type":24,"tag":723,"props":5900,"children":5902},{"class":725,"line":5901},105,[5903,5908,5912],{"type":24,"tag":723,"props":5904,"children":5905},{"style":742},[5906],{"type":39,"value":5907},"  lastLcdRefresh ",{"type":24,"tag":723,"props":5909,"children":5910},{"style":730},[5911],{"type":39,"value":1879},{"type":24,"tag":723,"props":5913,"children":5914},{"style":742},[5915],{"type":39,"value":5916}," DELTA_TIME;\n",{"type":24,"tag":723,"props":5918,"children":5920},{"class":725,"line":5919},106,[5921,5926],{"type":24,"tag":723,"props":5922,"children":5923},{"style":736},[5924],{"type":39,"value":5925},"  delay",{"type":24,"tag":723,"props":5927,"children":5928},{"style":742},[5929],{"type":39,"value":5930},"(DELTA_TIME);\n",{"type":24,"tag":723,"props":5932,"children":5934},{"class":725,"line":5933},107,[5935],{"type":24,"tag":723,"props":5936,"children":5937},{"style":742},[5938],{"type":39,"value":949},{"type":24,"tag":34,"props":5940,"children":5941},{"id":165},[5942],{"type":39,"value":168},{"type":24,"tag":42,"props":5944,"children":5945},{},[5946],{"type":39,"value":5947},"The result was a fully functioning power meter that was suitable for the degree of accuracy that I required. Below is an image of the meter in action when charging an iPhone.",{"type":24,"tag":126,"props":5949,"children":5951},{"src":5950},"/images/projects/power-meter/Charging.jpg",[],{"type":24,"tag":974,"props":5953,"children":5954},{},[5955],{"type":39,"value":978},{"title":8,"searchDepth":180,"depth":180,"links":5957},[5958,5959,5960,5961],{"id":36,"depth":180,"text":40},{"id":64,"depth":180,"text":67},{"id":116,"depth":180,"text":119},{"id":165,"depth":180,"text":168},"content:projects:7.power-meter.md","projects/7.power-meter.md","projects/7.power-meter",{"_path":5966,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":5967,"description":5968,"thumbnail":5969,"technologies":5970,"assets":5972,"github":5973,"demo":5974,"showcased":7,"body":5975,"_type":187,"_id":7618,"_source":189,"_file":7619,"_stem":7620,"_extension":192},"/projects/particle-attractor","Particle Attractor","Particle simulation using vertex transformations in GLSL where you can click and drag around to make particles follow your cursor.","/images/projects/particle2d/thumbnail.webp",[998,5971],"WebGL","/images/projects/portfolio","https://github.com/WeichenTie/06-Particle-Attractor","https://weichentie.github.io/06-Particle-Attractor",{"type":21,"children":5976,"toc":7607},[5977,5983,5986,5989,5993,5998,6002,6005,6011,6016,6044,6050,6055,6061,6066,6314,6320,6325,6977,6982,6987,6993,6998,7036,7403,7409,7414,7582,7586,7591,7595,7599,7603],{"type":24,"tag":25,"props":5978,"children":5979},{"id":8},[5980],{"type":24,"tag":29,"props":5981,"children":5982},{"value":31},[],{"type":24,"tag":1011,"props":5984,"children":5985},{":to":1013},[],{"type":24,"tag":1016,"props":5987,"children":5988},{":to":1018},[],{"type":24,"tag":34,"props":5990,"children":5991},{"id":36},[5992],{"type":39,"value":40},{"type":24,"tag":42,"props":5994,"children":5995},{},[5996],{"type":39,"value":5997},"Particle attractor was an experiement aimed at understanding the basics of GPGPU in webGL. Because webGL2.0 does not support compute shaders, there were 2 primary methods of implementing this being, ping pong vertex transform, and ping pong textures. The simplest for this task is to use the vertex transform feedback which allows me to capture primitives generated by the vertex shader and record that data into buffer object. This allows me to keep the post transform state and render it to the screen on each frame.",{"type":24,"tag":34,"props":5999,"children":6000},{"id":64},[6001],{"type":39,"value":67},{"type":24,"tag":69,"props":6003,"children":6004},{":tags":71},[],{"type":24,"tag":34,"props":6006,"children":6008},{"id":6007},"planning",[6009],{"type":39,"value":6010},"Planning",{"type":24,"tag":42,"props":6012,"children":6013},{},[6014],{"type":39,"value":6015},"As this project is fairly simple, there are only a few steps to get the desired result.",{"type":24,"tag":231,"props":6017,"children":6018},{},[6019,6024,6029,6034,6039],{"type":24,"tag":84,"props":6020,"children":6021},{},[6022],{"type":39,"value":6023},"Setup rendering engine.",{"type":24,"tag":84,"props":6025,"children":6026},{},[6027],{"type":39,"value":6028},"Generate particles.",{"type":24,"tag":84,"props":6030,"children":6031},{},[6032],{"type":39,"value":6033},"Initiate buffers.",{"type":24,"tag":84,"props":6035,"children":6036},{},[6037],{"type":39,"value":6038},"Create shader program.",{"type":24,"tag":84,"props":6040,"children":6041},{},[6042],{"type":39,"value":6043},"Create render loop.",{"type":24,"tag":34,"props":6045,"children":6047},{"id":6046},"setting-up-the-rendering-engine",[6048],{"type":39,"value":6049},"Setting Up the Rendering Engine.",{"type":24,"tag":42,"props":6051,"children":6052},{},[6053],{"type":39,"value":6054},"I am using an extremely simple, hand written rendering engine that provides minimal abstraction over the shader programs and buffer objects. You can check it out in this project's repository.",{"type":24,"tag":34,"props":6056,"children":6058},{"id":6057},"generating-particles",[6059],{"type":39,"value":6060},"Generating Particles.",{"type":24,"tag":42,"props":6062,"children":6063},{},[6064],{"type":39,"value":6065},"The great thing about the GPU is that it can process hundreds of thousands of vertices in parallel which means we can handle much more particles than on the CPU.",{"type":24,"tag":712,"props":6067,"children":6071},{"className":6068,"code":6069,"language":6070,"meta":8,"style":8},"language-ts shiki shiki-themes github-light github-dark has-highlighted","// We first generate a set of x and y coordinates for each particle\nfunction generateParticles(count: number) {\n  let particles = [];\n  for (let i = 0; i \u003C count; i++) {\n    particles.push(Math.random() * width, Math.random() * height); // x, y // [!code highlight]\n    particles.push(0, 0); // vx,vy // [!code highlight]\n  }\n  return particles;\n}\n","ts",[6072],{"type":24,"tag":719,"props":6073,"children":6074},{"__ignoreMap":8},[6075,6083,6119,6141,6190,6250,6288,6295,6307],{"type":24,"tag":723,"props":6076,"children":6077},{"class":725,"line":726},[6078],{"type":24,"tag":723,"props":6079,"children":6080},{"style":812},[6081],{"type":39,"value":6082},"// We first generate a set of x and y coordinates for each particle\n",{"type":24,"tag":723,"props":6084,"children":6085},{"class":725,"line":180},[6086,6091,6096,6100,6105,6110,6115],{"type":24,"tag":723,"props":6087,"children":6088},{"style":730},[6089],{"type":39,"value":6090},"function",{"type":24,"tag":723,"props":6092,"children":6093},{"style":736},[6094],{"type":39,"value":6095}," generateParticles",{"type":24,"tag":723,"props":6097,"children":6098},{"style":742},[6099],{"type":39,"value":745},{"type":24,"tag":723,"props":6101,"children":6102},{"style":753},[6103],{"type":39,"value":6104},"count",{"type":24,"tag":723,"props":6106,"children":6107},{"style":730},[6108],{"type":39,"value":6109},":",{"type":24,"tag":723,"props":6111,"children":6112},{"style":801},[6113],{"type":39,"value":6114}," number",{"type":24,"tag":723,"props":6116,"children":6117},{"style":742},[6118],{"type":39,"value":775},{"type":24,"tag":723,"props":6120,"children":6121},{"class":725,"line":818},[6122,6127,6132,6136],{"type":24,"tag":723,"props":6123,"children":6124},{"style":730},[6125],{"type":39,"value":6126},"  let",{"type":24,"tag":723,"props":6128,"children":6129},{"style":742},[6130],{"type":39,"value":6131}," particles ",{"type":24,"tag":723,"props":6133,"children":6134},{"style":730},[6135],{"type":39,"value":788},{"type":24,"tag":723,"props":6137,"children":6138},{"style":742},[6139],{"type":39,"value":6140}," [];\n",{"type":24,"tag":723,"props":6142,"children":6143},{"class":725,"line":859},[6144,6148,6152,6157,6161,6165,6169,6173,6177,6182,6186],{"type":24,"tag":723,"props":6145,"children":6146},{"style":730},[6147],{"type":39,"value":3643},{"type":24,"tag":723,"props":6149,"children":6150},{"style":742},[6151],{"type":39,"value":1690},{"type":24,"tag":723,"props":6153,"children":6154},{"style":730},[6155],{"type":39,"value":6156},"let",{"type":24,"tag":723,"props":6158,"children":6159},{"style":742},[6160],{"type":39,"value":3656},{"type":24,"tag":723,"props":6162,"children":6163},{"style":730},[6164],{"type":39,"value":788},{"type":24,"tag":723,"props":6166,"children":6167},{"style":801},[6168],{"type":39,"value":3461},{"type":24,"tag":723,"props":6170,"children":6171},{"style":742},[6172],{"type":39,"value":3669},{"type":24,"tag":723,"props":6174,"children":6175},{"style":730},[6176],{"type":39,"value":3674},{"type":24,"tag":723,"props":6178,"children":6179},{"style":742},[6180],{"type":39,"value":6181}," count; i",{"type":24,"tag":723,"props":6183,"children":6184},{"style":730},[6185],{"type":39,"value":3684},{"type":24,"tag":723,"props":6187,"children":6188},{"style":742},[6189],{"type":39,"value":775},{"type":24,"tag":723,"props":6191,"children":6194},{"class":6192,"line":909},[725,6193],"highlighted",[6195,6200,6205,6210,6215,6219,6223,6228,6232,6236,6240,6245],{"type":24,"tag":723,"props":6196,"children":6197},{"style":742},[6198],{"type":39,"value":6199},"    particles.",{"type":24,"tag":723,"props":6201,"children":6202},{"style":736},[6203],{"type":39,"value":6204},"push",{"type":24,"tag":723,"props":6206,"children":6207},{"style":742},[6208],{"type":39,"value":6209},"(Math.",{"type":24,"tag":723,"props":6211,"children":6212},{"style":736},[6213],{"type":39,"value":6214},"random",{"type":24,"tag":723,"props":6216,"children":6217},{"style":742},[6218],{"type":39,"value":1289},{"type":24,"tag":723,"props":6220,"children":6221},{"style":730},[6222],{"type":39,"value":1294},{"type":24,"tag":723,"props":6224,"children":6225},{"style":742},[6226],{"type":39,"value":6227}," width, Math.",{"type":24,"tag":723,"props":6229,"children":6230},{"style":736},[6231],{"type":39,"value":6214},{"type":24,"tag":723,"props":6233,"children":6234},{"style":742},[6235],{"type":39,"value":1289},{"type":24,"tag":723,"props":6237,"children":6238},{"style":730},[6239],{"type":39,"value":1294},{"type":24,"tag":723,"props":6241,"children":6242},{"style":742},[6243],{"type":39,"value":6244}," height); ",{"type":24,"tag":723,"props":6246,"children":6247},{"style":812},[6248],{"type":39,"value":6249},"// x, y",{"type":24,"tag":723,"props":6251,"children":6253},{"class":6252,"line":943},[725,6193],[6254,6258,6262,6266,6270,6274,6278,6283],{"type":24,"tag":723,"props":6255,"children":6256},{"style":742},[6257],{"type":39,"value":6199},{"type":24,"tag":723,"props":6259,"children":6260},{"style":736},[6261],{"type":39,"value":6204},{"type":24,"tag":723,"props":6263,"children":6264},{"style":742},[6265],{"type":39,"value":745},{"type":24,"tag":723,"props":6267,"children":6268},{"style":801},[6269],{"type":39,"value":2178},{"type":24,"tag":723,"props":6271,"children":6272},{"style":742},[6273],{"type":39,"value":761},{"type":24,"tag":723,"props":6275,"children":6276},{"style":801},[6277],{"type":39,"value":2178},{"type":24,"tag":723,"props":6279,"children":6280},{"style":742},[6281],{"type":39,"value":6282},"); ",{"type":24,"tag":723,"props":6284,"children":6285},{"style":812},[6286],{"type":39,"value":6287},"// vx,vy",{"type":24,"tag":723,"props":6289,"children":6290},{"class":725,"line":208},[6291],{"type":24,"tag":723,"props":6292,"children":6293},{"style":742},[6294],{"type":39,"value":3897},{"type":24,"tag":723,"props":6296,"children":6297},{"class":725,"line":1646},[6298,6302],{"type":24,"tag":723,"props":6299,"children":6300},{"style":730},[6301],{"type":39,"value":3714},{"type":24,"tag":723,"props":6303,"children":6304},{"style":742},[6305],{"type":39,"value":6306}," particles;\n",{"type":24,"tag":723,"props":6308,"children":6309},{"class":725,"line":19},[6310],{"type":24,"tag":723,"props":6311,"children":6312},{"style":742},[6313],{"type":39,"value":949},{"type":24,"tag":34,"props":6315,"children":6317},{"id":6316},"initiating-buffers",[6318],{"type":39,"value":6319},"Initiating Buffers.",{"type":24,"tag":42,"props":6321,"children":6322},{},[6323],{"type":39,"value":6324},"Now we initiate all the buffers for this rendering engine.",{"type":24,"tag":712,"props":6326,"children":6329},{"className":6327,"code":6328,"language":6070,"meta":8,"style":8},"language-ts shiki shiki-themes github-light github-dark","// ...\nthis.VAO1 = new VAO(this.gl);\nthis.VAO2 = new VAO(this.gl);\nthis.VBO1 = new VBO(\n  this.gl,\n  generatePoints(this.numPoints),\n  this.gl.DYNAMIC_DRAW,\n);\nthis.VBO2 = new VBO(\n  this.gl,\n  generatePoints(this.numPoints),\n  this.gl.DYNAMIC_DRAW,\n);\nthis.TF1 = createTransformFeedback(this.gl, this.VBO1);\nthis.TF2 = createTransformFeedback(this.gl, this.VBO2);\n\n// Set how data is arranged in the vertex buffer objects\nconst attribLayout = new VAOAttribLayout();\n// Store position x and y\nattribLayout.addAttrib(2, this.gl.FLOAT, false);\n// Store velocity vx and vy\nattribLayout.addAttrib(2, this.gl.FLOAT, false);\n\nthis.VAO1.addAttribute(this.VBO1, attribLayout);\nthis.VAO2.addAttribute(this.VBO2, attribLayout);\n// ...\n",[6330],{"type":24,"tag":719,"props":6331,"children":6332},{"__ignoreMap":8},[6333,6341,6385,6425,6459,6472,6493,6515,6522,6554,6565,6584,6603,6610,6664,6716,6723,6731,6761,6769,6820,6828,6875,6882,6927,6970],{"type":24,"tag":723,"props":6334,"children":6335},{"class":725,"line":726},[6336],{"type":24,"tag":723,"props":6337,"children":6338},{"style":812},[6339],{"type":39,"value":6340},"// ...\n",{"type":24,"tag":723,"props":6342,"children":6343},{"class":725,"line":180},[6344,6349,6353,6358,6363,6367,6372,6376,6380],{"type":24,"tag":723,"props":6345,"children":6346},{"style":801},[6347],{"type":39,"value":6348},"this",{"type":24,"tag":723,"props":6350,"children":6351},{"style":742},[6352],{"type":39,"value":3212},{"type":24,"tag":723,"props":6354,"children":6355},{"style":801},[6356],{"type":39,"value":6357},"VAO1",{"type":24,"tag":723,"props":6359,"children":6360},{"style":730},[6361],{"type":39,"value":6362}," =",{"type":24,"tag":723,"props":6364,"children":6365},{"style":730},[6366],{"type":39,"value":3402},{"type":24,"tag":723,"props":6368,"children":6369},{"style":736},[6370],{"type":39,"value":6371}," VAO",{"type":24,"tag":723,"props":6373,"children":6374},{"style":742},[6375],{"type":39,"value":745},{"type":24,"tag":723,"props":6377,"children":6378},{"style":801},[6379],{"type":39,"value":6348},{"type":24,"tag":723,"props":6381,"children":6382},{"style":742},[6383],{"type":39,"value":6384},".gl);\n",{"type":24,"tag":723,"props":6386,"children":6387},{"class":725,"line":818},[6388,6392,6396,6401,6405,6409,6413,6417,6421],{"type":24,"tag":723,"props":6389,"children":6390},{"style":801},[6391],{"type":39,"value":6348},{"type":24,"tag":723,"props":6393,"children":6394},{"style":742},[6395],{"type":39,"value":3212},{"type":24,"tag":723,"props":6397,"children":6398},{"style":801},[6399],{"type":39,"value":6400},"VAO2",{"type":24,"tag":723,"props":6402,"children":6403},{"style":730},[6404],{"type":39,"value":6362},{"type":24,"tag":723,"props":6406,"children":6407},{"style":730},[6408],{"type":39,"value":3402},{"type":24,"tag":723,"props":6410,"children":6411},{"style":736},[6412],{"type":39,"value":6371},{"type":24,"tag":723,"props":6414,"children":6415},{"style":742},[6416],{"type":39,"value":745},{"type":24,"tag":723,"props":6418,"children":6419},{"style":801},[6420],{"type":39,"value":6348},{"type":24,"tag":723,"props":6422,"children":6423},{"style":742},[6424],{"type":39,"value":6384},{"type":24,"tag":723,"props":6426,"children":6427},{"class":725,"line":859},[6428,6432,6436,6441,6445,6449,6454],{"type":24,"tag":723,"props":6429,"children":6430},{"style":801},[6431],{"type":39,"value":6348},{"type":24,"tag":723,"props":6433,"children":6434},{"style":742},[6435],{"type":39,"value":3212},{"type":24,"tag":723,"props":6437,"children":6438},{"style":801},[6439],{"type":39,"value":6440},"VBO1",{"type":24,"tag":723,"props":6442,"children":6443},{"style":730},[6444],{"type":39,"value":6362},{"type":24,"tag":723,"props":6446,"children":6447},{"style":730},[6448],{"type":39,"value":3402},{"type":24,"tag":723,"props":6450,"children":6451},{"style":736},[6452],{"type":39,"value":6453}," VBO",{"type":24,"tag":723,"props":6455,"children":6456},{"style":742},[6457],{"type":39,"value":6458},"(\n",{"type":24,"tag":723,"props":6460,"children":6461},{"class":725,"line":909},[6462,6467],{"type":24,"tag":723,"props":6463,"children":6464},{"style":801},[6465],{"type":39,"value":6466},"  this",{"type":24,"tag":723,"props":6468,"children":6469},{"style":742},[6470],{"type":39,"value":6471},".gl,\n",{"type":24,"tag":723,"props":6473,"children":6474},{"class":725,"line":943},[6475,6480,6484,6488],{"type":24,"tag":723,"props":6476,"children":6477},{"style":736},[6478],{"type":39,"value":6479},"  generatePoints",{"type":24,"tag":723,"props":6481,"children":6482},{"style":742},[6483],{"type":39,"value":745},{"type":24,"tag":723,"props":6485,"children":6486},{"style":801},[6487],{"type":39,"value":6348},{"type":24,"tag":723,"props":6489,"children":6490},{"style":742},[6491],{"type":39,"value":6492},".numPoints),\n",{"type":24,"tag":723,"props":6494,"children":6495},{"class":725,"line":208},[6496,6500,6505,6510],{"type":24,"tag":723,"props":6497,"children":6498},{"style":801},[6499],{"type":39,"value":6466},{"type":24,"tag":723,"props":6501,"children":6502},{"style":742},[6503],{"type":39,"value":6504},".gl.",{"type":24,"tag":723,"props":6506,"children":6507},{"style":801},[6508],{"type":39,"value":6509},"DYNAMIC_DRAW",{"type":24,"tag":723,"props":6511,"children":6512},{"style":742},[6513],{"type":39,"value":6514},",\n",{"type":24,"tag":723,"props":6516,"children":6517},{"class":725,"line":1646},[6518],{"type":24,"tag":723,"props":6519,"children":6520},{"style":742},[6521],{"type":39,"value":1957},{"type":24,"tag":723,"props":6523,"children":6524},{"class":725,"line":19},[6525,6529,6533,6538,6542,6546,6550],{"type":24,"tag":723,"props":6526,"children":6527},{"style":801},[6528],{"type":39,"value":6348},{"type":24,"tag":723,"props":6530,"children":6531},{"style":742},[6532],{"type":39,"value":3212},{"type":24,"tag":723,"props":6534,"children":6535},{"style":801},[6536],{"type":39,"value":6537},"VBO2",{"type":24,"tag":723,"props":6539,"children":6540},{"style":730},[6541],{"type":39,"value":6362},{"type":24,"tag":723,"props":6543,"children":6544},{"style":730},[6545],{"type":39,"value":3402},{"type":24,"tag":723,"props":6547,"children":6548},{"style":736},[6549],{"type":39,"value":6453},{"type":24,"tag":723,"props":6551,"children":6552},{"style":742},[6553],{"type":39,"value":6458},{"type":24,"tag":723,"props":6555,"children":6556},{"class":725,"line":1679},[6557,6561],{"type":24,"tag":723,"props":6558,"children":6559},{"style":801},[6560],{"type":39,"value":6466},{"type":24,"tag":723,"props":6562,"children":6563},{"style":742},[6564],{"type":39,"value":6471},{"type":24,"tag":723,"props":6566,"children":6567},{"class":725,"line":1744},[6568,6572,6576,6580],{"type":24,"tag":723,"props":6569,"children":6570},{"style":736},[6571],{"type":39,"value":6479},{"type":24,"tag":723,"props":6573,"children":6574},{"style":742},[6575],{"type":39,"value":745},{"type":24,"tag":723,"props":6577,"children":6578},{"style":801},[6579],{"type":39,"value":6348},{"type":24,"tag":723,"props":6581,"children":6582},{"style":742},[6583],{"type":39,"value":6492},{"type":24,"tag":723,"props":6585,"children":6586},{"class":725,"line":1762},[6587,6591,6595,6599],{"type":24,"tag":723,"props":6588,"children":6589},{"style":801},[6590],{"type":39,"value":6466},{"type":24,"tag":723,"props":6592,"children":6593},{"style":742},[6594],{"type":39,"value":6504},{"type":24,"tag":723,"props":6596,"children":6597},{"style":801},[6598],{"type":39,"value":6509},{"type":24,"tag":723,"props":6600,"children":6601},{"style":742},[6602],{"type":39,"value":6514},{"type":24,"tag":723,"props":6604,"children":6605},{"class":725,"line":1770},[6606],{"type":24,"tag":723,"props":6607,"children":6608},{"style":742},[6609],{"type":39,"value":1957},{"type":24,"tag":723,"props":6611,"children":6612},{"class":725,"line":1828},[6613,6617,6621,6626,6630,6635,6639,6643,6648,6652,6656,6660],{"type":24,"tag":723,"props":6614,"children":6615},{"style":801},[6616],{"type":39,"value":6348},{"type":24,"tag":723,"props":6618,"children":6619},{"style":742},[6620],{"type":39,"value":3212},{"type":24,"tag":723,"props":6622,"children":6623},{"style":801},[6624],{"type":39,"value":6625},"TF1",{"type":24,"tag":723,"props":6627,"children":6628},{"style":730},[6629],{"type":39,"value":6362},{"type":24,"tag":723,"props":6631,"children":6632},{"style":736},[6633],{"type":39,"value":6634}," createTransformFeedback",{"type":24,"tag":723,"props":6636,"children":6637},{"style":742},[6638],{"type":39,"value":745},{"type":24,"tag":723,"props":6640,"children":6641},{"style":801},[6642],{"type":39,"value":6348},{"type":24,"tag":723,"props":6644,"children":6645},{"style":742},[6646],{"type":39,"value":6647},".gl, ",{"type":24,"tag":723,"props":6649,"children":6650},{"style":801},[6651],{"type":39,"value":6348},{"type":24,"tag":723,"props":6653,"children":6654},{"style":742},[6655],{"type":39,"value":3212},{"type":24,"tag":723,"props":6657,"children":6658},{"style":801},[6659],{"type":39,"value":6440},{"type":24,"tag":723,"props":6661,"children":6662},{"style":742},[6663],{"type":39,"value":1957},{"type":24,"tag":723,"props":6665,"children":6666},{"class":725,"line":1849},[6667,6671,6675,6680,6684,6688,6692,6696,6700,6704,6708,6712],{"type":24,"tag":723,"props":6668,"children":6669},{"style":801},[6670],{"type":39,"value":6348},{"type":24,"tag":723,"props":6672,"children":6673},{"style":742},[6674],{"type":39,"value":3212},{"type":24,"tag":723,"props":6676,"children":6677},{"style":801},[6678],{"type":39,"value":6679},"TF2",{"type":24,"tag":723,"props":6681,"children":6682},{"style":730},[6683],{"type":39,"value":6362},{"type":24,"tag":723,"props":6685,"children":6686},{"style":736},[6687],{"type":39,"value":6634},{"type":24,"tag":723,"props":6689,"children":6690},{"style":742},[6691],{"type":39,"value":745},{"type":24,"tag":723,"props":6693,"children":6694},{"style":801},[6695],{"type":39,"value":6348},{"type":24,"tag":723,"props":6697,"children":6698},{"style":742},[6699],{"type":39,"value":6647},{"type":24,"tag":723,"props":6701,"children":6702},{"style":801},[6703],{"type":39,"value":6348},{"type":24,"tag":723,"props":6705,"children":6706},{"style":742},[6707],{"type":39,"value":3212},{"type":24,"tag":723,"props":6709,"children":6710},{"style":801},[6711],{"type":39,"value":6537},{"type":24,"tag":723,"props":6713,"children":6714},{"style":742},[6715],{"type":39,"value":1957},{"type":24,"tag":723,"props":6717,"children":6718},{"class":725,"line":2871},[6719],{"type":24,"tag":723,"props":6720,"children":6721},{"emptyLinePlaceholder":18},[6722],{"type":39,"value":1540},{"type":24,"tag":723,"props":6724,"children":6725},{"class":725,"line":2965},[6726],{"type":24,"tag":723,"props":6727,"children":6728},{"style":812},[6729],{"type":39,"value":6730},"// Set how data is arranged in the vertex buffer objects\n",{"type":24,"tag":723,"props":6732,"children":6733},{"class":725,"line":3730},[6734,6739,6744,6748,6752,6757],{"type":24,"tag":723,"props":6735,"children":6736},{"style":730},[6737],{"type":39,"value":6738},"const",{"type":24,"tag":723,"props":6740,"children":6741},{"style":801},[6742],{"type":39,"value":6743}," attribLayout",{"type":24,"tag":723,"props":6745,"children":6746},{"style":730},[6747],{"type":39,"value":6362},{"type":24,"tag":723,"props":6749,"children":6750},{"style":730},[6751],{"type":39,"value":3402},{"type":24,"tag":723,"props":6753,"children":6754},{"style":736},[6755],{"type":39,"value":6756}," VAOAttribLayout",{"type":24,"tag":723,"props":6758,"children":6759},{"style":742},[6760],{"type":39,"value":4062},{"type":24,"tag":723,"props":6762,"children":6763},{"class":725,"line":3738},[6764],{"type":24,"tag":723,"props":6765,"children":6766},{"style":812},[6767],{"type":39,"value":6768},"// Store position x and y\n",{"type":24,"tag":723,"props":6770,"children":6771},{"class":725,"line":3746},[6772,6777,6782,6786,6790,6794,6798,6802,6807,6811,6816],{"type":24,"tag":723,"props":6773,"children":6774},{"style":742},[6775],{"type":39,"value":6776},"attribLayout.",{"type":24,"tag":723,"props":6778,"children":6779},{"style":736},[6780],{"type":39,"value":6781},"addAttrib",{"type":24,"tag":723,"props":6783,"children":6784},{"style":742},[6785],{"type":39,"value":745},{"type":24,"tag":723,"props":6787,"children":6788},{"style":801},[6789],{"type":39,"value":3510},{"type":24,"tag":723,"props":6791,"children":6792},{"style":742},[6793],{"type":39,"value":761},{"type":24,"tag":723,"props":6795,"children":6796},{"style":801},[6797],{"type":39,"value":6348},{"type":24,"tag":723,"props":6799,"children":6800},{"style":742},[6801],{"type":39,"value":6504},{"type":24,"tag":723,"props":6803,"children":6804},{"style":801},[6805],{"type":39,"value":6806},"FLOAT",{"type":24,"tag":723,"props":6808,"children":6809},{"style":742},[6810],{"type":39,"value":761},{"type":24,"tag":723,"props":6812,"children":6813},{"style":801},[6814],{"type":39,"value":6815},"false",{"type":24,"tag":723,"props":6817,"children":6818},{"style":742},[6819],{"type":39,"value":1957},{"type":24,"tag":723,"props":6821,"children":6822},{"class":725,"line":3755},[6823],{"type":24,"tag":723,"props":6824,"children":6825},{"style":812},[6826],{"type":39,"value":6827},"// Store velocity vx and vy\n",{"type":24,"tag":723,"props":6829,"children":6830},{"class":725,"line":3796},[6831,6835,6839,6843,6847,6851,6855,6859,6863,6867,6871],{"type":24,"tag":723,"props":6832,"children":6833},{"style":742},[6834],{"type":39,"value":6776},{"type":24,"tag":723,"props":6836,"children":6837},{"style":736},[6838],{"type":39,"value":6781},{"type":24,"tag":723,"props":6840,"children":6841},{"style":742},[6842],{"type":39,"value":745},{"type":24,"tag":723,"props":6844,"children":6845},{"style":801},[6846],{"type":39,"value":3510},{"type":24,"tag":723,"props":6848,"children":6849},{"style":742},[6850],{"type":39,"value":761},{"type":24,"tag":723,"props":6852,"children":6853},{"style":801},[6854],{"type":39,"value":6348},{"type":24,"tag":723,"props":6856,"children":6857},{"style":742},[6858],{"type":39,"value":6504},{"type":24,"tag":723,"props":6860,"children":6861},{"style":801},[6862],{"type":39,"value":6806},{"type":24,"tag":723,"props":6864,"children":6865},{"style":742},[6866],{"type":39,"value":761},{"type":24,"tag":723,"props":6868,"children":6869},{"style":801},[6870],{"type":39,"value":6815},{"type":24,"tag":723,"props":6872,"children":6873},{"style":742},[6874],{"type":39,"value":1957},{"type":24,"tag":723,"props":6876,"children":6877},{"class":725,"line":3860},[6878],{"type":24,"tag":723,"props":6879,"children":6880},{"emptyLinePlaceholder":18},[6881],{"type":39,"value":1540},{"type":24,"tag":723,"props":6883,"children":6884},{"class":725,"line":3891},[6885,6889,6893,6897,6901,6906,6910,6914,6918,6922],{"type":24,"tag":723,"props":6886,"children":6887},{"style":801},[6888],{"type":39,"value":6348},{"type":24,"tag":723,"props":6890,"children":6891},{"style":742},[6892],{"type":39,"value":3212},{"type":24,"tag":723,"props":6894,"children":6895},{"style":801},[6896],{"type":39,"value":6357},{"type":24,"tag":723,"props":6898,"children":6899},{"style":742},[6900],{"type":39,"value":3212},{"type":24,"tag":723,"props":6902,"children":6903},{"style":736},[6904],{"type":39,"value":6905},"addAttribute",{"type":24,"tag":723,"props":6907,"children":6908},{"style":742},[6909],{"type":39,"value":745},{"type":24,"tag":723,"props":6911,"children":6912},{"style":801},[6913],{"type":39,"value":6348},{"type":24,"tag":723,"props":6915,"children":6916},{"style":742},[6917],{"type":39,"value":3212},{"type":24,"tag":723,"props":6919,"children":6920},{"style":801},[6921],{"type":39,"value":6440},{"type":24,"tag":723,"props":6923,"children":6924},{"style":742},[6925],{"type":39,"value":6926},", attribLayout);\n",{"type":24,"tag":723,"props":6928,"children":6929},{"class":725,"line":3900},[6930,6934,6938,6942,6946,6950,6954,6958,6962,6966],{"type":24,"tag":723,"props":6931,"children":6932},{"style":801},[6933],{"type":39,"value":6348},{"type":24,"tag":723,"props":6935,"children":6936},{"style":742},[6937],{"type":39,"value":3212},{"type":24,"tag":723,"props":6939,"children":6940},{"style":801},[6941],{"type":39,"value":6400},{"type":24,"tag":723,"props":6943,"children":6944},{"style":742},[6945],{"type":39,"value":3212},{"type":24,"tag":723,"props":6947,"children":6948},{"style":736},[6949],{"type":39,"value":6905},{"type":24,"tag":723,"props":6951,"children":6952},{"style":742},[6953],{"type":39,"value":745},{"type":24,"tag":723,"props":6955,"children":6956},{"style":801},[6957],{"type":39,"value":6348},{"type":24,"tag":723,"props":6959,"children":6960},{"style":742},[6961],{"type":39,"value":3212},{"type":24,"tag":723,"props":6963,"children":6964},{"style":801},[6965],{"type":39,"value":6537},{"type":24,"tag":723,"props":6967,"children":6968},{"style":742},[6969],{"type":39,"value":6926},{"type":24,"tag":723,"props":6971,"children":6972},{"class":725,"line":3930},[6973],{"type":24,"tag":723,"props":6974,"children":6975},{"style":812},[6976],{"type":39,"value":6340},{"type":24,"tag":42,"props":6978,"children":6979},{},[6980],{"type":39,"value":6981},"Notice how there is 2 VAO, VBO and TF buffers. This is what allows us to ping pong between the current state and the next state.",{"type":24,"tag":42,"props":6983,"children":6984},{},[6985],{"type":39,"value":6986},"In other words, buffer A will first be used to calculate the next position which is then stored to buffer B. They are then swapped so that buffer B is used to calculate the next position which is stored in buffer A and so on.",{"type":24,"tag":34,"props":6988,"children":6990},{"id":6989},"vertex-shader",[6991],{"type":39,"value":6992},"Vertex Shader",{"type":24,"tag":42,"props":6994,"children":6995},{},[6996],{"type":39,"value":6997},"The vertex shader will be used to update the properties of each individual particle in the simulation.",{"type":24,"tag":231,"props":6999,"children":7000},{},[7001,7006,7011],{"type":24,"tag":84,"props":7002,"children":7003},{},[7004],{"type":39,"value":7005},"Simulate drag forces by slowing down the particle.",{"type":24,"tag":84,"props":7007,"children":7008},{},[7009],{"type":39,"value":7010},"Accelerate the particles to the mouse when pressed.",{"type":24,"tag":84,"props":7012,"children":7013},{},[7014,7016,7022,7024,7029,7031,7035],{"type":39,"value":7015},"Update the positions of each particle using the formula: x",{"type":24,"tag":7017,"props":7018,"children":7019},"sub",{},[7020],{"type":39,"value":7021},"f",{"type":39,"value":7023},"= x",{"type":24,"tag":7017,"props":7025,"children":7026},{},[7027],{"type":39,"value":7028},"i",{"type":39,"value":7030}," + v",{"type":24,"tag":7017,"props":7032,"children":7033},{},[7034],{"type":39,"value":7021},{"type":39,"value":3212},{"type":24,"tag":712,"props":7037,"children":7039},{"className":1215,"code":7038,"language":1214,"meta":8,"style":8},"// ...\n// Returns the attraction force between mouse and particle\nvec2 gravityForce() {\n  return normalize(u_MousePosition - a_OldPosition);\n}\n\nvec2 calcNewVelocity() {\n  // Apply a frictional/drag force\n  vec2 vel = a_OldVelocity * 0.985;\n  // Accelerate the particle to mouse if\n  // mouse left is pressed down.\n  if (u_MouseDown == 1) {\n      vel += gravityForce();\n  }\n  return vel;\n}\n\nvoid main() {\n  v_NewVelocity = calcNewVelocity();\n  v_NewPosition = a_OldPosition + v_NewVelocity;\n\n  gl_Position = u_MVP * vec4(a_OldPosition, 0, 1);\n  gl_PointSize = 1.0;\n}\n",[7040],{"type":24,"tag":719,"props":7041,"children":7042},{"__ignoreMap":8},[7043,7050,7058,7074,7100,7107,7114,7130,7138,7168,7176,7184,7209,7229,7236,7248,7255,7262,7277,7297,7323,7330,7376,7396],{"type":24,"tag":723,"props":7044,"children":7045},{"class":725,"line":726},[7046],{"type":24,"tag":723,"props":7047,"children":7048},{"style":812},[7049],{"type":39,"value":6340},{"type":24,"tag":723,"props":7051,"children":7052},{"class":725,"line":180},[7053],{"type":24,"tag":723,"props":7054,"children":7055},{"style":812},[7056],{"type":39,"value":7057},"// Returns the attraction force between mouse and particle\n",{"type":24,"tag":723,"props":7059,"children":7060},{"class":725,"line":818},[7061,7065,7070],{"type":24,"tag":723,"props":7062,"children":7063},{"style":730},[7064],{"type":39,"value":1338},{"type":24,"tag":723,"props":7066,"children":7067},{"style":736},[7068],{"type":39,"value":7069}," gravityForce",{"type":24,"tag":723,"props":7071,"children":7072},{"style":742},[7073],{"type":39,"value":3961},{"type":24,"tag":723,"props":7075,"children":7076},{"class":725,"line":859},[7077,7081,7086,7091,7095],{"type":24,"tag":723,"props":7078,"children":7079},{"style":730},[7080],{"type":39,"value":3714},{"type":24,"tag":723,"props":7082,"children":7083},{"style":736},[7084],{"type":39,"value":7085}," normalize",{"type":24,"tag":723,"props":7087,"children":7088},{"style":742},[7089],{"type":39,"value":7090},"(u_MousePosition ",{"type":24,"tag":723,"props":7092,"children":7093},{"style":730},[7094],{"type":39,"value":1512},{"type":24,"tag":723,"props":7096,"children":7097},{"style":742},[7098],{"type":39,"value":7099}," a_OldPosition);\n",{"type":24,"tag":723,"props":7101,"children":7102},{"class":725,"line":909},[7103],{"type":24,"tag":723,"props":7104,"children":7105},{"style":742},[7106],{"type":39,"value":949},{"type":24,"tag":723,"props":7108,"children":7109},{"class":725,"line":943},[7110],{"type":24,"tag":723,"props":7111,"children":7112},{"emptyLinePlaceholder":18},[7113],{"type":39,"value":1540},{"type":24,"tag":723,"props":7115,"children":7116},{"class":725,"line":208},[7117,7121,7126],{"type":24,"tag":723,"props":7118,"children":7119},{"style":730},[7120],{"type":39,"value":1338},{"type":24,"tag":723,"props":7122,"children":7123},{"style":736},[7124],{"type":39,"value":7125}," calcNewVelocity",{"type":24,"tag":723,"props":7127,"children":7128},{"style":742},[7129],{"type":39,"value":3961},{"type":24,"tag":723,"props":7131,"children":7132},{"class":725,"line":1646},[7133],{"type":24,"tag":723,"props":7134,"children":7135},{"style":812},[7136],{"type":39,"value":7137},"  // Apply a frictional/drag force\n",{"type":24,"tag":723,"props":7139,"children":7140},{"class":725,"line":19},[7141,7146,7150,7155,7159,7164],{"type":24,"tag":723,"props":7142,"children":7143},{"style":742},[7144],{"type":39,"value":7145},"  vec2 vel ",{"type":24,"tag":723,"props":7147,"children":7148},{"style":730},[7149],{"type":39,"value":788},{"type":24,"tag":723,"props":7151,"children":7152},{"style":742},[7153],{"type":39,"value":7154}," a_OldVelocity ",{"type":24,"tag":723,"props":7156,"children":7157},{"style":730},[7158],{"type":39,"value":1294},{"type":24,"tag":723,"props":7160,"children":7161},{"style":801},[7162],{"type":39,"value":7163}," 0.985",{"type":24,"tag":723,"props":7165,"children":7166},{"style":742},[7167],{"type":39,"value":906},{"type":24,"tag":723,"props":7169,"children":7170},{"class":725,"line":1679},[7171],{"type":24,"tag":723,"props":7172,"children":7173},{"style":812},[7174],{"type":39,"value":7175},"  // Accelerate the particle to mouse if\n",{"type":24,"tag":723,"props":7177,"children":7178},{"class":725,"line":1744},[7179],{"type":24,"tag":723,"props":7180,"children":7181},{"style":812},[7182],{"type":39,"value":7183},"  // mouse left is pressed down.\n",{"type":24,"tag":723,"props":7185,"children":7186},{"class":725,"line":1762},[7187,7191,7196,7201,7205],{"type":24,"tag":723,"props":7188,"children":7189},{"style":730},[7190],{"type":39,"value":5099},{"type":24,"tag":723,"props":7192,"children":7193},{"style":742},[7194],{"type":39,"value":7195}," (u_MouseDown ",{"type":24,"tag":723,"props":7197,"children":7198},{"style":730},[7199],{"type":39,"value":7200},"==",{"type":24,"tag":723,"props":7202,"children":7203},{"style":801},[7204],{"type":39,"value":3831},{"type":24,"tag":723,"props":7206,"children":7207},{"style":742},[7208],{"type":39,"value":775},{"type":24,"tag":723,"props":7210,"children":7211},{"class":725,"line":1770},[7212,7217,7221,7225],{"type":24,"tag":723,"props":7213,"children":7214},{"style":742},[7215],{"type":39,"value":7216},"      vel ",{"type":24,"tag":723,"props":7218,"children":7219},{"style":730},[7220],{"type":39,"value":1879},{"type":24,"tag":723,"props":7222,"children":7223},{"style":736},[7224],{"type":39,"value":7069},{"type":24,"tag":723,"props":7226,"children":7227},{"style":742},[7228],{"type":39,"value":4062},{"type":24,"tag":723,"props":7230,"children":7231},{"class":725,"line":1828},[7232],{"type":24,"tag":723,"props":7233,"children":7234},{"style":742},[7235],{"type":39,"value":3897},{"type":24,"tag":723,"props":7237,"children":7238},{"class":725,"line":1849},[7239,7243],{"type":24,"tag":723,"props":7240,"children":7241},{"style":730},[7242],{"type":39,"value":3714},{"type":24,"tag":723,"props":7244,"children":7245},{"style":742},[7246],{"type":39,"value":7247}," vel;\n",{"type":24,"tag":723,"props":7249,"children":7250},{"class":725,"line":2871},[7251],{"type":24,"tag":723,"props":7252,"children":7253},{"style":742},[7254],{"type":39,"value":949},{"type":24,"tag":723,"props":7256,"children":7257},{"class":725,"line":2965},[7258],{"type":24,"tag":723,"props":7259,"children":7260},{"emptyLinePlaceholder":18},[7261],{"type":39,"value":1540},{"type":24,"tag":723,"props":7263,"children":7264},{"class":725,"line":3730},[7265,7269,7273],{"type":24,"tag":723,"props":7266,"children":7267},{"style":730},[7268],{"type":39,"value":733},{"type":24,"tag":723,"props":7270,"children":7271},{"style":736},[7272],{"type":39,"value":2071},{"type":24,"tag":723,"props":7274,"children":7275},{"style":742},[7276],{"type":39,"value":3961},{"type":24,"tag":723,"props":7278,"children":7279},{"class":725,"line":3738},[7280,7285,7289,7293],{"type":24,"tag":723,"props":7281,"children":7282},{"style":742},[7283],{"type":39,"value":7284},"  v_NewVelocity ",{"type":24,"tag":723,"props":7286,"children":7287},{"style":730},[7288],{"type":39,"value":788},{"type":24,"tag":723,"props":7290,"children":7291},{"style":736},[7292],{"type":39,"value":7125},{"type":24,"tag":723,"props":7294,"children":7295},{"style":742},[7296],{"type":39,"value":4062},{"type":24,"tag":723,"props":7298,"children":7299},{"class":725,"line":3746},[7300,7305,7309,7314,7318],{"type":24,"tag":723,"props":7301,"children":7302},{"style":742},[7303],{"type":39,"value":7304},"  v_NewPosition ",{"type":24,"tag":723,"props":7306,"children":7307},{"style":730},[7308],{"type":39,"value":788},{"type":24,"tag":723,"props":7310,"children":7311},{"style":742},[7312],{"type":39,"value":7313}," a_OldPosition ",{"type":24,"tag":723,"props":7315,"children":7316},{"style":730},[7317],{"type":39,"value":1357},{"type":24,"tag":723,"props":7319,"children":7320},{"style":742},[7321],{"type":39,"value":7322}," v_NewVelocity;\n",{"type":24,"tag":723,"props":7324,"children":7325},{"class":725,"line":3755},[7326],{"type":24,"tag":723,"props":7327,"children":7328},{"emptyLinePlaceholder":18},[7329],{"type":39,"value":1540},{"type":24,"tag":723,"props":7331,"children":7332},{"class":725,"line":3796},[7333,7338,7342,7347,7351,7355,7360,7364,7368,7372],{"type":24,"tag":723,"props":7334,"children":7335},{"style":742},[7336],{"type":39,"value":7337},"  gl_Position ",{"type":24,"tag":723,"props":7339,"children":7340},{"style":730},[7341],{"type":39,"value":788},{"type":24,"tag":723,"props":7343,"children":7344},{"style":742},[7345],{"type":39,"value":7346}," u_MVP ",{"type":24,"tag":723,"props":7348,"children":7349},{"style":730},[7350],{"type":39,"value":1294},{"type":24,"tag":723,"props":7352,"children":7353},{"style":736},[7354],{"type":39,"value":2886},{"type":24,"tag":723,"props":7356,"children":7357},{"style":742},[7358],{"type":39,"value":7359},"(a_OldPosition, ",{"type":24,"tag":723,"props":7361,"children":7362},{"style":801},[7363],{"type":39,"value":2178},{"type":24,"tag":723,"props":7365,"children":7366},{"style":742},[7367],{"type":39,"value":761},{"type":24,"tag":723,"props":7369,"children":7370},{"style":801},[7371],{"type":39,"value":2155},{"type":24,"tag":723,"props":7373,"children":7374},{"style":742},[7375],{"type":39,"value":1957},{"type":24,"tag":723,"props":7377,"children":7378},{"class":725,"line":3860},[7379,7384,7388,7392],{"type":24,"tag":723,"props":7380,"children":7381},{"style":742},[7382],{"type":39,"value":7383},"  gl_PointSize ",{"type":24,"tag":723,"props":7385,"children":7386},{"style":730},[7387],{"type":39,"value":788},{"type":24,"tag":723,"props":7389,"children":7390},{"style":801},[7391],{"type":39,"value":1309},{"type":24,"tag":723,"props":7393,"children":7394},{"style":742},[7395],{"type":39,"value":906},{"type":24,"tag":723,"props":7397,"children":7398},{"class":725,"line":3891},[7399],{"type":24,"tag":723,"props":7400,"children":7401},{"style":742},[7402],{"type":39,"value":949},{"type":24,"tag":34,"props":7404,"children":7406},{"id":7405},"fragment-shader",[7407],{"type":39,"value":7408},"Fragment Shader",{"type":24,"tag":42,"props":7410,"children":7411},{},[7412],{"type":39,"value":7413},"We can now render this on our screen using our fragment shader and also apply a beautiful chromatic effect as highlighted below.",{"type":24,"tag":712,"props":7415,"children":7418},{"className":7416,"code":7417,"language":1214,"meta":8,"style":8},"language-glsl shiki shiki-themes github-light github-dark has-highlighted","// ...\nvoid main() {\n  vec2 direction = normalize(v_NewVelocity);\n  vec3 color = vec3(abs(direction.x), // [!code highlight]\n    abs(direction.y + direction.x) / 2.0,// [!code highlight]\n    abs(direction.y));// [!code highlight]\n  f_Color = vec4(color, 0.7);\n}\n",[7419],{"type":24,"tag":719,"props":7420,"children":7421},{"__ignoreMap":8},[7422,7429,7444,7465,7497,7532,7545,7575],{"type":24,"tag":723,"props":7423,"children":7424},{"class":725,"line":726},[7425],{"type":24,"tag":723,"props":7426,"children":7427},{"style":812},[7428],{"type":39,"value":6340},{"type":24,"tag":723,"props":7430,"children":7431},{"class":725,"line":180},[7432,7436,7440],{"type":24,"tag":723,"props":7433,"children":7434},{"style":730},[7435],{"type":39,"value":733},{"type":24,"tag":723,"props":7437,"children":7438},{"style":736},[7439],{"type":39,"value":2071},{"type":24,"tag":723,"props":7441,"children":7442},{"style":742},[7443],{"type":39,"value":3961},{"type":24,"tag":723,"props":7445,"children":7446},{"class":725,"line":818},[7447,7452,7456,7460],{"type":24,"tag":723,"props":7448,"children":7449},{"style":742},[7450],{"type":39,"value":7451},"  vec2 direction ",{"type":24,"tag":723,"props":7453,"children":7454},{"style":730},[7455],{"type":39,"value":788},{"type":24,"tag":723,"props":7457,"children":7458},{"style":736},[7459],{"type":39,"value":7085},{"type":24,"tag":723,"props":7461,"children":7462},{"style":742},[7463],{"type":39,"value":7464},"(v_NewVelocity);\n",{"type":24,"tag":723,"props":7466,"children":7468},{"class":7467,"line":859},[725,6193],[7469,7474,7478,7483,7487,7492],{"type":24,"tag":723,"props":7470,"children":7471},{"style":742},[7472],{"type":39,"value":7473},"  vec3 color ",{"type":24,"tag":723,"props":7475,"children":7476},{"style":730},[7477],{"type":39,"value":788},{"type":24,"tag":723,"props":7479,"children":7480},{"style":736},[7481],{"type":39,"value":7482}," vec3",{"type":24,"tag":723,"props":7484,"children":7485},{"style":742},[7486],{"type":39,"value":745},{"type":24,"tag":723,"props":7488,"children":7489},{"style":736},[7490],{"type":39,"value":7491},"abs",{"type":24,"tag":723,"props":7493,"children":7494},{"style":742},[7495],{"type":39,"value":7496},"(direction.x),",{"type":24,"tag":723,"props":7498,"children":7500},{"class":7499,"line":909},[725,6193],[7501,7506,7511,7515,7520,7524,7528],{"type":24,"tag":723,"props":7502,"children":7503},{"style":736},[7504],{"type":39,"value":7505},"    abs",{"type":24,"tag":723,"props":7507,"children":7508},{"style":742},[7509],{"type":39,"value":7510},"(direction.y ",{"type":24,"tag":723,"props":7512,"children":7513},{"style":730},[7514],{"type":39,"value":1357},{"type":24,"tag":723,"props":7516,"children":7517},{"style":742},[7518],{"type":39,"value":7519}," direction.x) ",{"type":24,"tag":723,"props":7521,"children":7522},{"style":730},[7523],{"type":39,"value":1572},{"type":24,"tag":723,"props":7525,"children":7526},{"style":801},[7527],{"type":39,"value":1299},{"type":24,"tag":723,"props":7529,"children":7530},{"style":742},[7531],{"type":39,"value":2160},{"type":24,"tag":723,"props":7533,"children":7535},{"class":7534,"line":943},[725,6193],[7536,7540],{"type":24,"tag":723,"props":7537,"children":7538},{"style":736},[7539],{"type":39,"value":7505},{"type":24,"tag":723,"props":7541,"children":7542},{"style":742},[7543],{"type":39,"value":7544},"(direction.y));",{"type":24,"tag":723,"props":7546,"children":7547},{"class":725,"line":208},[7548,7553,7557,7561,7566,7571],{"type":24,"tag":723,"props":7549,"children":7550},{"style":742},[7551],{"type":39,"value":7552},"  f_Color ",{"type":24,"tag":723,"props":7554,"children":7555},{"style":730},[7556],{"type":39,"value":788},{"type":24,"tag":723,"props":7558,"children":7559},{"style":736},[7560],{"type":39,"value":2886},{"type":24,"tag":723,"props":7562,"children":7563},{"style":742},[7564],{"type":39,"value":7565},"(color, ",{"type":24,"tag":723,"props":7567,"children":7568},{"style":801},[7569],{"type":39,"value":7570},"0.7",{"type":24,"tag":723,"props":7572,"children":7573},{"style":742},[7574],{"type":39,"value":1957},{"type":24,"tag":723,"props":7576,"children":7577},{"class":725,"line":1646},[7578],{"type":24,"tag":723,"props":7579,"children":7580},{"style":742},[7581],{"type":39,"value":949},{"type":24,"tag":34,"props":7583,"children":7584},{"id":165},[7585],{"type":39,"value":168},{"type":24,"tag":42,"props":7587,"children":7588},{},[7589],{"type":39,"value":7590},"The results are honestly quite spectacular as even though everything is 2D, it still gives a 3D illusion.",{"type":24,"tag":126,"props":7592,"children":7594},{"src":7593},"/images/projects/particle2d/spherethumbnail.webp",[],{"type":24,"tag":126,"props":7596,"children":7598},{"src":7597},"/images/projects/particle2d/vortex.webp",[],{"type":24,"tag":126,"props":7600,"children":7602},{"src":7601},"/images/projects/particle2d/frontwave.webp",[],{"type":24,"tag":974,"props":7604,"children":7605},{},[7606],{"type":39,"value":978},{"title":8,"searchDepth":180,"depth":180,"links":7608},[7609,7610,7611,7612,7613,7614,7615,7616,7617],{"id":36,"depth":180,"text":40},{"id":64,"depth":180,"text":67},{"id":6007,"depth":180,"text":6010},{"id":6046,"depth":180,"text":6049},{"id":6057,"depth":180,"text":6060},{"id":6316,"depth":180,"text":6319},{"id":6989,"depth":180,"text":6992},{"id":7405,"depth":180,"text":7408},{"id":165,"depth":180,"text":168},"content:projects:particle-attractor.md","projects/particle-attractor.md","projects/particle-attractor",1719851880601]