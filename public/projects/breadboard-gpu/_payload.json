[{"data":1,"prerenderedAt":595},["ShallowReactive",2],{"content-query-ZfQKOj5mJN":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"thumbnail":10,"technologies":11,"assets":15,"showcased":16,"body":17,"_type":589,"_id":590,"_source":591,"_file":592,"_stem":593,"_extension":594},"/projects/breadboard-gpu","projects",false,"","Breadboard GPU","Breadboard graphics processing unit based on the Ben Eater's graphics card series on youtube.","/images/projects/gpu/thumbnail.webp",[12,13,14],"Circuit Design","Arduino","C++","/images/projects/gpu",true,{"type":18,"children":19,"toc":580},"root",[20,30,38,44,49,59,64,69,75,80,86,91,96,265,271,276,282,287,293,298,303,308,548,553,558,564,574],{"type":21,"tag":22,"props":23,"children":24},"element","h1",{"id":7},[25],{"type":21,"tag":26,"props":27,"children":29},"binding",{"value":28},"title",[],{"type":21,"tag":31,"props":32,"children":34},"h2",{"id":33},"project-description",[35],{"type":36,"value":37},"text","Project Description",{"type":21,"tag":39,"props":40,"children":41},"p",{},[42],{"type":36,"value":43},"This was a project that I decided to do on a whim during my summer break over 2021 after complete a digital circuits course in university. It is a breadboard computer that was build following the guidance of youtuber Ben Eater and his homemade graphics card series.",{"type":21,"tag":39,"props":45,"children":46},{},[47],{"type":36,"value":48},"It was a great way for learning the subtle intricacies of electronics engineering and also learning how to interpret datasheets.",{"type":21,"tag":39,"props":50,"children":51},{},[52,54],{"type":36,"value":53},"In case you would like to check out his series below,\n",{"type":21,"tag":55,"props":56,"children":58},"youtube-embed",{"src":57},"https://www.youtube.com/embed/l7rce6IQDWs?si=UXNcpmVq3vdGLPMx",[],{"type":21,"tag":39,"props":60,"children":61},{},[62],{"type":36,"value":63},"This project involved extensive use of breadboards, digital circuits, and datasheets for different components.",{"type":21,"tag":39,"props":65,"children":66},{},[67],{"type":36,"value":68},"The main technologies used in this project included TTL ICs, diodes, capacitors, resistors, and most importantly, a VGA connector for output. I also utilized C++ for generating writing my own naïve graphics API and other necessary digital logic.",{"type":21,"tag":31,"props":70,"children":72},{"id":71},"technologies-used",[73],{"type":36,"value":74},"Technologies Used",{"type":21,"tag":76,"props":77,"children":79},"blog-technologies",{":tags":78},"technologies",[],{"type":21,"tag":31,"props":81,"children":83},{"id":82},"features",[84],{"type":36,"value":85},"Features",{"type":21,"tag":39,"props":87,"children":88},{},[89],{"type":36,"value":90},"The graphics card I decided to build was slightly different to the one from Ben Eater mainly because I wanted to challenge myself and test my overall understanding of the content.",{"type":21,"tag":39,"props":92,"children":93},{},[94],{"type":36,"value":95},"Namely the key differences will be:",{"type":21,"tag":97,"props":98,"children":99},"table",{},[100,134],{"type":21,"tag":101,"props":102,"children":103},"thead",{},[104],{"type":21,"tag":105,"props":106,"children":107},"tr",{},[108,118,126],{"type":21,"tag":109,"props":110,"children":111},"th",{},[112],{"type":21,"tag":113,"props":114,"children":115},"strong",{},[116],{"type":36,"value":117},"Feature",{"type":21,"tag":109,"props":119,"children":120},{},[121],{"type":21,"tag":113,"props":122,"children":123},{},[124],{"type":36,"value":125},"Ben Eater",{"type":21,"tag":109,"props":127,"children":128},{},[129],{"type":21,"tag":113,"props":130,"children":131},{},[132],{"type":36,"value":133},"Mine",{"type":21,"tag":135,"props":136,"children":137},"tbody",{},[138,157,175,193,211,229,247],{"type":21,"tag":105,"props":139,"children":140},{},[141,147,152],{"type":21,"tag":142,"props":143,"children":144},"td",{},[145],{"type":36,"value":146},"Resolution",{"type":21,"tag":142,"props":148,"children":149},{},[150],{"type":36,"value":151},"100:75",{"type":21,"tag":142,"props":153,"children":154},{},[155],{"type":36,"value":156},"200:150",{"type":21,"tag":105,"props":158,"children":159},{},[160,165,170],{"type":21,"tag":142,"props":161,"children":162},{},[163],{"type":36,"value":164},"VRam Type",{"type":21,"tag":142,"props":166,"children":167},{},[168],{"type":36,"value":169},"EEPROM (AT28C256)",{"type":21,"tag":142,"props":171,"children":172},{},[173],{"type":36,"value":174},"SRAM (AS6C1008-55PCN)",{"type":21,"tag":105,"props":176,"children":177},{},[178,183,188],{"type":21,"tag":142,"props":179,"children":180},{},[181],{"type":36,"value":182},"Framebuffer",{"type":21,"tag":142,"props":184,"children":185},{},[186],{"type":36,"value":187},"Single buffered",{"type":21,"tag":142,"props":189,"children":190},{},[191],{"type":36,"value":192},"Double buffered",{"type":21,"tag":105,"props":194,"children":195},{},[196,201,206],{"type":21,"tag":142,"props":197,"children":198},{},[199],{"type":36,"value":200},"Colour Range",{"type":21,"tag":142,"props":202,"children":203},{},[204],{"type":36,"value":205},"64 colours",{"type":21,"tag":142,"props":207,"children":208},{},[209],{"type":36,"value":210},"4096 colours",{"type":21,"tag":105,"props":212,"children":213},{},[214,219,224],{"type":21,"tag":142,"props":215,"children":216},{},[217],{"type":36,"value":218},"CPU Type",{"type":21,"tag":142,"props":220,"children":221},{},[222],{"type":36,"value":223},"W65C02S 8–bit Microprocessor",{"type":21,"tag":142,"props":225,"children":226},{},[227],{"type":36,"value":228},"ATMEGA1284-PU Microcontroller",{"type":21,"tag":105,"props":230,"children":231},{},[232,237,242],{"type":21,"tag":142,"props":233,"children":234},{},[235],{"type":36,"value":236},"CPU Access",{"type":21,"tag":142,"props":238,"children":239},{},[240],{"type":36,"value":241},"During blanking intervals",{"type":21,"tag":142,"props":243,"children":244},{},[245],{"type":36,"value":246},"No restrictions",{"type":21,"tag":105,"props":248,"children":249},{},[250,255,260],{"type":21,"tag":142,"props":251,"children":252},{},[253],{"type":36,"value":254},"Breadboard Type",{"type":21,"tag":142,"props":256,"children":257},{},[258],{"type":36,"value":259},"Solderless",{"type":21,"tag":142,"props":261,"children":262},{},[263],{"type":36,"value":264},"Soldered",{"type":21,"tag":31,"props":266,"children":268},{"id":267},"timing-circuitry",[269],{"type":36,"value":270},"Timing Circuitry",{"type":21,"tag":39,"props":272,"children":273},{},[274],{"type":36,"value":275},"By following Ben Eater’s guide, I was quickly able to build the breadboard setup for displaying simple RGB bands on the monitor.",{"type":21,"tag":31,"props":277,"children":279},{"id":278},"vram-circuitry",[280],{"type":36,"value":281},"VRAM Circuitry",{"type":21,"tag":39,"props":283,"children":284},{},[285],{"type":36,"value":286},"A huge limitation in Ben Eater's design was that the EEPROM only had 15 address lines and hence, the maximum supported resolution was 100 x 75. In addition, his graphics card can only render 64 different colours. Because I wanted to render games on my GPU, I opted to use the AS6C1008-55PCN- 1Mbit instead of an EEPROM with for a final resolution of 200 x 150 and 4096 supported colours.",{"type":21,"tag":31,"props":288,"children":290},{"id":289},"driver",[291],{"type":36,"value":292},"Driver",{"type":21,"tag":39,"props":294,"children":295},{},[296],{"type":36,"value":297},"The main computing unit for this graphics card was ATMEGA1284-PU microcontroller the reason for this was due to it having 32 GPIO pins in which I would need 16 for the address, 12 for I/O and 1 to control which SRAM is in read/write mode.",{"type":21,"tag":39,"props":299,"children":300},{},[301],{"type":36,"value":302},"Initially the main bottleneck was the digital write function being too slow for my needs since they only operated on one pin at a time and performed checks on the input. As such, I will be writing my own C function to accomplish the task with zero overhead using port manipulation. This allowed me to dramatically improve the time to write from 2.24us for a single bit to 23ns for 8 bits in parallel.",{"type":21,"tag":39,"props":304,"children":305},{},[306],{"type":36,"value":307},"In case you wanted to know, this is what the code was:",{"type":21,"tag":309,"props":310,"children":314},"pre",{"className":311,"code":312,"language":313,"meta":7,"style":7},"language-c shiki shiki-themes github-light github-dark","void writeToBuffer(uint16_t addr, uint16_t word) {\n    PORTB = addr >> 8; // Higher Addr Bytes\n    PORTA = addr & 0xFF; // Lower Addr Bytes\n    PORTC = (word >> 8) & 0b00111111;\n    PORTD = word & 0xFF;\n}\n","c",[315],{"type":21,"tag":316,"props":317,"children":318},"code",{"__ignoreMap":7},[319,373,414,455,505,539],{"type":21,"tag":320,"props":321,"children":324},"span",{"class":322,"line":323},"line",1,[325,331,337,343,348,354,359,363,368],{"type":21,"tag":320,"props":326,"children":328},{"style":327},"--shiki-default:#D73A49;--shiki-dark:#F97583",[329],{"type":36,"value":330},"void",{"type":21,"tag":320,"props":332,"children":334},{"style":333},"--shiki-default:#6F42C1;--shiki-dark:#B392F0",[335],{"type":36,"value":336}," writeToBuffer",{"type":21,"tag":320,"props":338,"children":340},{"style":339},"--shiki-default:#24292E;--shiki-dark:#E1E4E8",[341],{"type":36,"value":342},"(",{"type":21,"tag":320,"props":344,"children":345},{"style":327},[346],{"type":36,"value":347},"uint16_t",{"type":21,"tag":320,"props":349,"children":351},{"style":350},"--shiki-default:#E36209;--shiki-dark:#FFAB70",[352],{"type":36,"value":353}," addr",{"type":21,"tag":320,"props":355,"children":356},{"style":339},[357],{"type":36,"value":358},", ",{"type":21,"tag":320,"props":360,"children":361},{"style":327},[362],{"type":36,"value":347},{"type":21,"tag":320,"props":364,"children":365},{"style":350},[366],{"type":36,"value":367}," word",{"type":21,"tag":320,"props":369,"children":370},{"style":339},[371],{"type":36,"value":372},") {\n",{"type":21,"tag":320,"props":374,"children":376},{"class":322,"line":375},2,[377,382,387,392,397,403,408],{"type":21,"tag":320,"props":378,"children":379},{"style":339},[380],{"type":36,"value":381},"    PORTB ",{"type":21,"tag":320,"props":383,"children":384},{"style":327},[385],{"type":36,"value":386},"=",{"type":21,"tag":320,"props":388,"children":389},{"style":339},[390],{"type":36,"value":391}," addr ",{"type":21,"tag":320,"props":393,"children":394},{"style":327},[395],{"type":36,"value":396},">>",{"type":21,"tag":320,"props":398,"children":400},{"style":399},"--shiki-default:#005CC5;--shiki-dark:#79B8FF",[401],{"type":36,"value":402}," 8",{"type":21,"tag":320,"props":404,"children":405},{"style":339},[406],{"type":36,"value":407},";",{"type":21,"tag":320,"props":409,"children":411},{"style":410},"--shiki-default:#6A737D;--shiki-dark:#6A737D",[412],{"type":36,"value":413}," // Higher Addr Bytes\n",{"type":21,"tag":320,"props":415,"children":417},{"class":322,"line":416},3,[418,423,427,431,436,441,446,450],{"type":21,"tag":320,"props":419,"children":420},{"style":339},[421],{"type":36,"value":422},"    PORTA ",{"type":21,"tag":320,"props":424,"children":425},{"style":327},[426],{"type":36,"value":386},{"type":21,"tag":320,"props":428,"children":429},{"style":339},[430],{"type":36,"value":391},{"type":21,"tag":320,"props":432,"children":433},{"style":327},[434],{"type":36,"value":435},"&",{"type":21,"tag":320,"props":437,"children":438},{"style":327},[439],{"type":36,"value":440}," 0x",{"type":21,"tag":320,"props":442,"children":443},{"style":399},[444],{"type":36,"value":445},"FF",{"type":21,"tag":320,"props":447,"children":448},{"style":339},[449],{"type":36,"value":407},{"type":21,"tag":320,"props":451,"children":452},{"style":410},[453],{"type":36,"value":454}," // Lower Addr Bytes\n",{"type":21,"tag":320,"props":456,"children":458},{"class":322,"line":457},4,[459,464,468,473,477,481,486,490,495,500],{"type":21,"tag":320,"props":460,"children":461},{"style":339},[462],{"type":36,"value":463},"    PORTC ",{"type":21,"tag":320,"props":465,"children":466},{"style":327},[467],{"type":36,"value":386},{"type":21,"tag":320,"props":469,"children":470},{"style":339},[471],{"type":36,"value":472}," (word ",{"type":21,"tag":320,"props":474,"children":475},{"style":327},[476],{"type":36,"value":396},{"type":21,"tag":320,"props":478,"children":479},{"style":399},[480],{"type":36,"value":402},{"type":21,"tag":320,"props":482,"children":483},{"style":339},[484],{"type":36,"value":485},") ",{"type":21,"tag":320,"props":487,"children":488},{"style":327},[489],{"type":36,"value":435},{"type":21,"tag":320,"props":491,"children":492},{"style":327},[493],{"type":36,"value":494}," 0b",{"type":21,"tag":320,"props":496,"children":497},{"style":399},[498],{"type":36,"value":499},"00111111",{"type":21,"tag":320,"props":501,"children":502},{"style":339},[503],{"type":36,"value":504},";\n",{"type":21,"tag":320,"props":506,"children":508},{"class":322,"line":507},5,[509,514,518,523,527,531,535],{"type":21,"tag":320,"props":510,"children":511},{"style":339},[512],{"type":36,"value":513},"    PORTD ",{"type":21,"tag":320,"props":515,"children":516},{"style":327},[517],{"type":36,"value":386},{"type":21,"tag":320,"props":519,"children":520},{"style":339},[521],{"type":36,"value":522}," word ",{"type":21,"tag":320,"props":524,"children":525},{"style":327},[526],{"type":36,"value":435},{"type":21,"tag":320,"props":528,"children":529},{"style":327},[530],{"type":36,"value":440},{"type":21,"tag":320,"props":532,"children":533},{"style":399},[534],{"type":36,"value":445},{"type":21,"tag":320,"props":536,"children":537},{"style":339},[538],{"type":36,"value":504},{"type":21,"tag":320,"props":540,"children":542},{"class":322,"line":541},6,[543],{"type":21,"tag":320,"props":544,"children":545},{"style":339},[546],{"type":36,"value":547},"}\n",{"type":21,"tag":39,"props":549,"children":550},{},[551],{"type":36,"value":552},"Note that I am setting the upper bytes first to avoid corrupting addresses in the SRAM.",{"type":21,"tag":39,"props":554,"children":555},{},[556],{"type":36,"value":557},"Since I was really into Tetris at the time, I thought it would be a cool idea to implement that as a playable game.",{"type":21,"tag":31,"props":559,"children":561},{"id":560},"results",[562],{"type":36,"value":563},"Results",{"type":21,"tag":39,"props":565,"children":566},{},[567,569],{"type":36,"value":568},"Although, due to time and financial constraints, I had to halt development on the project. However, I plan to resume it someday, possibly after graduating from university when I might have a few more electrical circuit design tricks up my sleeve to streamline the process. Alternatively, I may choose to redo the project using proper PCBs instead of breadboards. Despite the abrupt halt, I was quite pleased with the progress I made in just a few weeks, especially considering I was a beginner in electronics engineering.\n",{"type":21,"tag":570,"props":571,"children":573},"blog-img",{"src":572},"/images/projects/gpu/tetris.PNG",[],{"type":21,"tag":575,"props":576,"children":577},"style",{},[578],{"type":36,"value":579},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":375,"depth":375,"links":581},[582,583,584,585,586,587,588],{"id":33,"depth":375,"text":37},{"id":71,"depth":375,"text":74},{"id":82,"depth":375,"text":85},{"id":267,"depth":375,"text":270},{"id":278,"depth":375,"text":281},{"id":289,"depth":375,"text":292},{"id":560,"depth":375,"text":563},"markdown","content:projects:3.breadboard-gpu.md","content","projects/3.breadboard-gpu.md","projects/3.breadboard-gpu","md",1719851593980]